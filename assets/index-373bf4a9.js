function WS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Ha={},HS={get exports(){return Ha},set exports(e){Ha=e}},fu={},j={},jS={get exports(){return j},set exports(e){j=e}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),VS=Symbol.for("react.portal"),GS=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),XS=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),JS=Symbol.for("react.context"),ZS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),eT=Symbol.for("react.memo"),tT=Symbol.for("react.lazy"),jp=Symbol.iterator;function rT(e){return e===null||typeof e!="object"?null:(e=jp&&e[jp]||e["@@iterator"],typeof e=="function"?e:null)}var Qg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jg=Object.assign,Zg={};function Ho(e,t,r){this.props=e,this.context=t,this.refs=Zg,this.updater=r||Qg}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qg(){}qg.prototype=Ho.prototype;function zf(e,t,r){this.props=e,this.context=t,this.refs=Zg,this.updater=r||Qg}var Hf=zf.prototype=new qg;Hf.constructor=zf;Jg(Hf,Ho.prototype);Hf.isPureReactComponent=!0;var Vp=Array.isArray,e0=Object.prototype.hasOwnProperty,jf={current:null},t0={key:!0,ref:!0,__self:!0,__source:!0};function r0(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)e0.call(t,n)&&!t0.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var a=Array(l),v=0;v<l;v++)a[v]=arguments[v+2];i.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:ys,type:e,key:o,ref:s,props:i,_owner:jf.current}}function nT(e,t){return{$$typeof:ys,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ys}function iT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gp=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iT(""+e.key):t.toString(36)}function dl(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ys:case VS:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Rc(s,0):n,Vp(i)?(r="",e!=null&&(r=e.replace(Gp,"$&/")+"/"),dl(i,t,r,"",function(v){return v})):i!=null&&(Vf(i)&&(i=nT(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Gp,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Vp(e))for(var l=0;l<e.length;l++){o=e[l];var a=n+Rc(o,l);s+=dl(o,t,r,a,i)}else if(a=rT(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=n+Rc(o,l++),s+=dl(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ws(e,t,r){if(e==null)return e;var n=[],i=0;return dl(e,n,"","",function(o){return t.call(r,o,i++)}),n}function oT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},fl={transition:null},aT={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:jf};Ue.Children={map:ws,forEach:function(e,t,r){ws(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ws(e,function(){t++}),t},toArray:function(e){return ws(e,function(t){return t})||[]},only:function(e){if(!Vf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Ho;Ue.Fragment=GS;Ue.Profiler=XS;Ue.PureComponent=zf;Ue.StrictMode=YS;Ue.Suspense=qS;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aT;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Jg({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=jf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)e0.call(t,a)&&!t0.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var v=0;v<a;v++)l[v]=arguments[v+2];n.children=l}return{$$typeof:ys,type:e.type,key:i,ref:o,props:n,_owner:s}};Ue.createContext=function(e){return e={$$typeof:JS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QS,_context:e},e.Consumer=e};Ue.createElement=r0;Ue.createFactory=function(e){var t=r0.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:ZS,render:e}};Ue.isValidElement=Vf;Ue.lazy=function(e){return{$$typeof:tT,_payload:{_status:-1,_result:e},_init:oT}};Ue.memo=function(e,t){return{$$typeof:eT,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};Ue.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ue.useCallback=function(e,t){return qt.current.useCallback(e,t)};Ue.useContext=function(e){return qt.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return qt.current.useEffect(e,t)};Ue.useId=function(){return qt.current.useId()};Ue.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return qt.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Ue.useRef=function(e){return qt.current.useRef(e)};Ue.useState=function(e){return qt.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return qt.current.useTransition()};Ue.version="18.2.0";(function(e){e.exports=Ue})(jS);const wr=Wf(j),Di=WS({__proto__:null,default:wr},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=j,lT=Symbol.for("react.element"),uT=Symbol.for("react.fragment"),cT=Object.prototype.hasOwnProperty,dT=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fT={key:!0,ref:!0,__self:!0,__source:!0};function n0(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)cT.call(t,n)&&!fT.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:lT,type:e,key:o,ref:s,props:i,_owner:dT.current}}fu.Fragment=uT;fu.jsx=n0;fu.jsxs=n0;(function(e){e.exports=fu})(HS);const i0=Ha.Fragment,Q=Ha.jsx,be=Ha.jsxs,hT=Object.freeze(Object.defineProperty({__proto__:null,Fragment:i0,jsx:Q,jsxs:be},Symbol.toStringTag,{value:"Module"}));var Ed={},Lo={},pT={get exports(){return Lo},set exports(e){Lo=e}},br={},xd={},vT={get exports(){return xd},set exports(e){xd=e}},o0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,c){var D=_.length;_.push(c);e:for(;0<D;){var N=D-1>>>1,k=_[N];if(0<i(k,c))_[N]=c,_[D]=k,D=N;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var c=_[0],D=_.pop();if(D!==c){_[0]=D;e:for(var N=0,k=_.length,U=k>>>1;N<U;){var $=2*(N+1)-1,K=_[$],W=$+1,z=_[W];if(0>i(K,D))W<k&&0>i(z,K)?(_[N]=z,_[W]=D,N=W):(_[N]=K,_[$]=D,N=$);else if(W<k&&0>i(z,D))_[N]=z,_[W]=D,N=W;else break e}}return c}function i(_,c){var D=_.sortIndex-c.sortIndex;return D!==0?D:_.id-c.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],v=[],d=1,M=null,L=3,B=!1,I=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function u(_){for(var c=r(v);c!==null;){if(c.callback===null)n(v);else if(c.startTime<=_)n(v),c.sortIndex=c.expirationTime,t(a,c);else break;c=r(v)}}function A(_){if(p=!1,u(_),!I)if(r(a)!==null)I=!0,C(x);else{var c=r(v);c!==null&&y(A,c.startTime-_)}}function x(_,c){I=!1,p&&(p=!1,S(m),m=-1),B=!0;var D=L;try{for(u(c),M=r(a);M!==null&&(!(M.expirationTime>c)||_&&!O());){var N=M.callback;if(typeof N=="function"){M.callback=null,L=M.priorityLevel;var k=N(M.expirationTime<=c);c=e.unstable_now(),typeof k=="function"?M.callback=k:M===r(a)&&n(a),u(c)}else n(a);M=r(a)}if(M!==null)var U=!0;else{var $=r(v);$!==null&&y(A,$.startTime-c),U=!1}return U}finally{M=null,L=D,B=!1}}var h=!1,f=null,m=-1,g=5,R=-1;function O(){return!(e.unstable_now()-R<g)}function b(){if(f!==null){var _=e.unstable_now();R=_;var c=!0;try{c=f(!0,_)}finally{c?P():(h=!1,f=null)}}else h=!1}var P;if(typeof E=="function")P=function(){E(b)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,T=F.port2;F.port1.onmessage=b,P=function(){T.postMessage(null)}}else P=function(){w(b,0)};function C(_){f=_,h||(h=!0,P())}function y(_,c){m=w(function(){_(e.unstable_now())},c)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){I||B||(I=!0,C(x))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(_){switch(L){case 1:case 2:case 3:var c=3;break;default:c=L}var D=L;L=c;try{return _()}finally{L=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,c){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var D=L;L=_;try{return c()}finally{L=D}},e.unstable_scheduleCallback=function(_,c,D){var N=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?N+D:N):D=N,_){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=D+k,_={id:d++,callback:c,priorityLevel:_,startTime:D,expirationTime:k,sortIndex:-1},D>N?(_.sortIndex=D,t(v,_),r(a)===null&&_===r(v)&&(p?(S(m),m=-1):p=!0,y(A,D-N))):(_.sortIndex=k,t(a,_),I||B||(I=!0,C(x))),_},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(_){var c=L;return function(){var D=L;L=c;try{return _.apply(this,arguments)}finally{L=D}}}})(o0);(function(e){e.exports=o0})(vT);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=j,Sr=xd;function me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s0=new Set,ja={};function Ki(e,t){Ao(e,t),Ao(e+"Capture",t)}function Ao(e,t){for(ja[e]=t,e=0;e<t.length;e++)s0.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,mT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Xp={};function gT(e){return Sd.call(Xp,e)?!0:Sd.call(Yp,e)?!1:mT.test(e)?Xp[e]=!0:(Yp[e]=!0,!1)}function yT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ET(e,t,r,n){if(t===null||typeof t>"u"||yT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function Yf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gf,Yf);Kt[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gf,Yf);Kt[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gf,Yf);Kt[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xf(e,t,r,n){var i=Kt.hasOwnProperty(t)?Kt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ET(t,r,i,n)&&(r=null),n||i===null?gT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wn=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ks=Symbol.for("react.element"),ro=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),Qf=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),l0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),bd=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),Zf=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),c0=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function Zo(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,Pc;function Ea(e){if(Pc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pc=t&&t[1]||""}return`
`+Pc+e}var Lc=!1;function Ac(e,t){if(!e||Lc)return"";Lc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var n=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){n=v}e.call(t.prototype)}else{try{throw Error()}catch(v){n=v}e()}}catch(v){if(v&&n&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{Lc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ea(e):""}function xT(e){switch(e.tag){case 5:return Ea(e.type);case 16:return Ea("Lazy");case 13:return Ea("Suspense");case 19:return Ea("SuspenseList");case 0:case 2:case 15:return e=Ac(e.type,!1),e;case 11:return e=Ac(e.type.render,!1),e;case 1:return e=Ac(e.type,!0),e;default:return""}}function _d(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case no:return"Fragment";case ro:return"Portal";case Td:return"Profiler";case Qf:return"StrictMode";case bd:return"Suspense";case Cd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case u0:return(e.displayName||"Context")+".Consumer";case l0:return(e._context.displayName||"Context")+".Provider";case Jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zf:return t=e.displayName||null,t!==null?t:_d(e.type)||"Memo";case Wn:t=e._payload,e=e._init;try{return _d(e(t))}catch{}}return null}function ST(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _d(t);case 8:return t===Qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TT(e){var t=d0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fs(e){e._valueTracker||(e._valueTracker=TT(e))}function f0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=d0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rd(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=oi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function h0(e,t){t=t.checked,t!=null&&Xf(e,"checked",t,!1)}function Pd(e,t){h0(e,t);var r=oi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ld(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ld(e,t.type,oi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ld(e,t,r){(t!=="number"||Dl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xa=Array.isArray;function yo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+oi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ad(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(me(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(me(92));if(xa(r)){if(1<r.length)throw Error(me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:oi(r)}}function p0(e,t){var r=oi(t.value),n=oi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ev(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function v0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?v0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ns,m0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Va(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ra={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bT=["Webkit","ms","Moz","O"];Object.keys(Ra).forEach(function(e){bT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ra[t]=Ra[e]})});function g0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ra.hasOwnProperty(e)&&Ra[e]?(""+t).trim():t+"px"}function y0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=g0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var CT=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(e,t){if(t){if(CT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(me(62))}}function Od(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function qf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wd=null,Eo=null,xo=null;function tv(e){if(e=Ss(e)){if(typeof wd!="function")throw Error(me(280));var t=e.stateNode;t&&(t=gu(t),wd(e.stateNode,e.type,t))}}function E0(e){Eo?xo?xo.push(e):xo=[e]:Eo=e}function x0(){if(Eo){var e=Eo,t=xo;if(xo=Eo=null,tv(e),t)for(e=0;e<t.length;e++)tv(t[e])}}function S0(e,t){return e(t)}function T0(){}var Ic=!1;function b0(e,t,r){if(Ic)return e(t,r);Ic=!0;try{return S0(e,t,r)}finally{Ic=!1,(Eo!==null||xo!==null)&&(T0(),x0())}}function Ga(e,t){var r=e.stateNode;if(r===null)return null;var n=gu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(me(231,t,typeof r));return r}var kd=!1;if(Ln)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){kd=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{kd=!1}function _T(e,t,r,n,i,o,s,l,a){var v=Array.prototype.slice.call(arguments,3);try{t.apply(r,v)}catch(d){this.onError(d)}}var Pa=!1,Ol=null,Ml=!1,Fd=null,RT={onError:function(e){Pa=!0,Ol=e}};function PT(e,t,r,n,i,o,s,l,a){Pa=!1,Ol=null,_T.apply(RT,arguments)}function LT(e,t,r,n,i,o,s,l,a){if(PT.apply(this,arguments),Pa){if(Pa){var v=Ol;Pa=!1,Ol=null}else throw Error(me(198));Ml||(Ml=!0,Fd=v)}}function Wi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rv(e){if(Wi(e)!==e)throw Error(me(188))}function AT(e){var t=e.alternate;if(!t){if(t=Wi(e),t===null)throw Error(me(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return rv(i),e;if(o===n)return rv(i),t;o=o.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?e:t}function _0(e){return e=AT(e),e!==null?R0(e):null}function R0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R0(e);if(t!==null)return t;e=e.sibling}return null}var P0=Sr.unstable_scheduleCallback,nv=Sr.unstable_cancelCallback,IT=Sr.unstable_shouldYield,DT=Sr.unstable_requestPaint,Ct=Sr.unstable_now,OT=Sr.unstable_getCurrentPriorityLevel,eh=Sr.unstable_ImmediatePriority,L0=Sr.unstable_UserBlockingPriority,wl=Sr.unstable_NormalPriority,MT=Sr.unstable_LowPriority,A0=Sr.unstable_IdlePriority,hu=null,hn=null;function wT(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(hu,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:NT,kT=Math.log,FT=Math.LN2;function NT(e){return e>>>=0,e===0?32:31-(kT(e)/FT|0)|0}var Bs=64,Us=4194304;function Sa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=Sa(l):(o&=s,o!==0&&(n=Sa(o)))}else s=r&~i,s!==0?n=Sa(s):o!==0&&(n=Sa(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),i=1<<r,n|=e[r],t&=~i;return n}function BT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-qr(o),l=1<<s,a=i[s];a===-1?(!(l&r)||l&n)&&(i[s]=BT(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function Nd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I0(){var e=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),e}function Dc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Es(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function $T(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function th(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var et=0;function D0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O0,rh,M0,w0,k0,Bd=!1,$s=[],Xn=null,Qn=null,Jn=null,Ya=new Map,Xa=new Map,Hn=[],KT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iv(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ya.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(t.pointerId)}}function ea(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ss(t),t!==null&&rh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function WT(e,t,r,n,i){switch(t){case"focusin":return Xn=ea(Xn,e,t,r,n,i),!0;case"dragenter":return Qn=ea(Qn,e,t,r,n,i),!0;case"mouseover":return Jn=ea(Jn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ya.set(o,ea(Ya.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Xa.set(o,ea(Xa.get(o)||null,e,t,r,n,i)),!0}return!1}function F0(e){var t=Ti(e.target);if(t!==null){var r=Wi(t);if(r!==null){if(t=r.tag,t===13){if(t=C0(r),t!==null){e.blockedOn=t,k0(e.priority,function(){M0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ud(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Md=n,r.target.dispatchEvent(n),Md=null}else return t=Ss(r),t!==null&&rh(t),e.blockedOn=r,!1;t.shift()}return!0}function ov(e,t,r){hl(e)&&r.delete(t)}function zT(){Bd=!1,Xn!==null&&hl(Xn)&&(Xn=null),Qn!==null&&hl(Qn)&&(Qn=null),Jn!==null&&hl(Jn)&&(Jn=null),Ya.forEach(ov),Xa.forEach(ov)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,Bd||(Bd=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,zT)))}function Qa(e){function t(i){return ta(i,e)}if(0<$s.length){ta($s[0],e);for(var r=1;r<$s.length;r++){var n=$s[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xn!==null&&ta(Xn,e),Qn!==null&&ta(Qn,e),Jn!==null&&ta(Jn,e),Ya.forEach(t),Xa.forEach(t),r=0;r<Hn.length;r++)n=Hn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hn.length&&(r=Hn[0],r.blockedOn===null);)F0(r),r.blockedOn===null&&Hn.shift()}var So=wn.ReactCurrentBatchConfig,Fl=!0;function HT(e,t,r,n){var i=et,o=So.transition;So.transition=null;try{et=1,nh(e,t,r,n)}finally{et=i,So.transition=o}}function jT(e,t,r,n){var i=et,o=So.transition;So.transition=null;try{et=4,nh(e,t,r,n)}finally{et=i,So.transition=o}}function nh(e,t,r,n){if(Fl){var i=Ud(e,t,r,n);if(i===null)Kc(e,t,n,Nl,r),iv(e,n);else if(WT(i,e,t,r,n))n.stopPropagation();else if(iv(e,n),t&4&&-1<KT.indexOf(e)){for(;i!==null;){var o=Ss(i);if(o!==null&&O0(o),o=Ud(e,t,r,n),o===null&&Kc(e,t,n,Nl,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Kc(e,t,n,null,r)}}var Nl=null;function Ud(e,t,r,n){if(Nl=null,e=qf(n),e=Ti(e),e!==null)if(t=Wi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nl=e,null}function N0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OT()){case eh:return 1;case L0:return 4;case wl:case MT:return 16;case A0:return 536870912;default:return 16}default:return 16}}var Vn=null,ih=null,pl=null;function B0(){if(pl)return pl;var e,t=ih,r=t.length,n,i="value"in Vn?Vn.value:Vn.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return pl=i.slice(e,1<n?1-n:void 0)}function vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function av(){return!1}function Cr(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ks:av,this.isPropagationStopped=av,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oh=Cr(jo),xs=mt({},jo,{view:0,detail:0}),VT=Cr(xs),Oc,Mc,ra,pu=mt({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Oc=e.screenX-ra.screenX,Mc=e.screenY-ra.screenY):Mc=Oc=0,ra=e),Oc)},movementY:function(e){return"movementY"in e?e.movementY:Mc}}),sv=Cr(pu),GT=mt({},pu,{dataTransfer:0}),YT=Cr(GT),XT=mt({},xs,{relatedTarget:0}),wc=Cr(XT),QT=mt({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=Cr(QT),ZT=mt({},jo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qT=Cr(ZT),e1=mt({},jo,{data:0}),lv=Cr(e1),t1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n1[e])?!!t[e]:!1}function ah(){return i1}var o1=mt({},xs,{key:function(e){if(e.key){var t=t1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(e){return e.type==="keypress"?vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),a1=Cr(o1),s1=mt({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uv=Cr(s1),l1=mt({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),u1=Cr(l1),c1=mt({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d1=Cr(c1),f1=mt({},pu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),h1=Cr(f1),p1=[9,13,27,32],sh=Ln&&"CompositionEvent"in window,La=null;Ln&&"documentMode"in document&&(La=document.documentMode);var v1=Ln&&"TextEvent"in window&&!La,U0=Ln&&(!sh||La&&8<La&&11>=La),cv=String.fromCharCode(32),dv=!1;function $0(e,t){switch(e){case"keyup":return p1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var io=!1;function m1(e,t){switch(e){case"compositionend":return K0(t);case"keypress":return t.which!==32?null:(dv=!0,cv);case"textInput":return e=t.data,e===cv&&dv?null:e;default:return null}}function g1(e,t){if(io)return e==="compositionend"||!sh&&$0(e,t)?(e=B0(),pl=ih=Vn=null,io=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U0&&t.locale!=="ko"?null:t.data;default:return null}}var y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!y1[e.type]:t==="textarea"}function W0(e,t,r,n){E0(n),t=Bl(t,"onChange"),0<t.length&&(r=new oh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Aa=null,Ja=null;function E1(e){q0(e,0)}function vu(e){var t=so(e);if(f0(t))return e}function x1(e,t){if(e==="change")return t}var z0=!1;if(Ln){var kc;if(Ln){var Fc="oninput"in document;if(!Fc){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Fc=typeof hv.oninput=="function"}kc=Fc}else kc=!1;z0=kc&&(!document.documentMode||9<document.documentMode)}function pv(){Aa&&(Aa.detachEvent("onpropertychange",H0),Ja=Aa=null)}function H0(e){if(e.propertyName==="value"&&vu(Ja)){var t=[];W0(t,Ja,e,qf(e)),b0(E1,t)}}function S1(e,t,r){e==="focusin"?(pv(),Aa=t,Ja=r,Aa.attachEvent("onpropertychange",H0)):e==="focusout"&&pv()}function T1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Ja)}function b1(e,t){if(e==="click")return vu(t)}function C1(e,t){if(e==="input"||e==="change")return vu(t)}function _1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:_1;function Za(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Sd.call(t,i)||!tn(e[i],t[i]))return!1}return!0}function vv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mv(e,t){var r=vv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vv(r)}}function j0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V0(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dl(e.document)}return t}function lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function R1(e){var t=V0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&j0(r.ownerDocument.documentElement,r)){if(n!==null&&lh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=mv(r,o);var s=mv(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P1=Ln&&"documentMode"in document&&11>=document.documentMode,oo=null,$d=null,Ia=null,Kd=!1;function gv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kd||oo==null||oo!==Dl(n)||(n=oo,"selectionStart"in n&&lh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ia&&Za(Ia,n)||(Ia=n,n=Bl($d,"onSelect"),0<n.length&&(t=new oh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=oo)))}function Ws(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ao={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionend:Ws("Transition","TransitionEnd")},Nc={},G0={};Ln&&(G0=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function mu(e){if(Nc[e])return Nc[e];if(!ao[e])return e;var t=ao[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in G0)return Nc[e]=t[r];return e}var Y0=mu("animationend"),X0=mu("animationiteration"),Q0=mu("animationstart"),J0=mu("transitionend"),Z0=new Map,yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(e,t){Z0.set(e,t),Ki(t,[e])}for(var Bc=0;Bc<yv.length;Bc++){var Uc=yv[Bc],L1=Uc.toLowerCase(),A1=Uc[0].toUpperCase()+Uc.slice(1);di(L1,"on"+A1)}di(Y0,"onAnimationEnd");di(X0,"onAnimationIteration");di(Q0,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(J0,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Ev(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LT(n,t,void 0,e),e.currentTarget=null}function q0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],a=l.instance,v=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;Ev(i,l,v),o=a}else for(s=0;s<n.length;s++){if(l=n[s],a=l.instance,v=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;Ev(i,l,v),o=a}}}if(Ml)throw e=Fd,Ml=!1,Fd=null,e}function at(e,t){var r=t[Vd];r===void 0&&(r=t[Vd]=new Set);var n=e+"__bubble";r.has(n)||(ey(t,e,2,!1),r.add(n))}function $c(e,t,r){var n=0;t&&(n|=4),ey(r,e,n,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function qa(e){if(!e[zs]){e[zs]=!0,s0.forEach(function(r){r!=="selectionchange"&&(I1.has(r)||$c(r,!1,e),$c(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,$c("selectionchange",!1,t))}}function ey(e,t,r,n){switch(N0(t)){case 1:var i=HT;break;case 4:i=jT;break;default:i=nh}r=i.bind(null,t,r,e),i=void 0,!kd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kc(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ti(l),s===null)return;if(a=s.tag,a===5||a===6){n=o=s;continue e}l=l.parentNode}}n=n.return}b0(function(){var v=o,d=qf(r),M=[];e:{var L=Z0.get(e);if(L!==void 0){var B=oh,I=e;switch(e){case"keypress":if(vl(r)===0)break e;case"keydown":case"keyup":B=a1;break;case"focusin":I="focus",B=wc;break;case"focusout":I="blur",B=wc;break;case"beforeblur":case"afterblur":B=wc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=YT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=u1;break;case Y0:case X0:case Q0:B=JT;break;case J0:B=d1;break;case"scroll":B=VT;break;case"wheel":B=h1;break;case"copy":case"cut":case"paste":B=qT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=uv}var p=(t&4)!==0,w=!p&&e==="scroll",S=p?L!==null?L+"Capture":null:L;p=[];for(var E=v,u;E!==null;){u=E;var A=u.stateNode;if(u.tag===5&&A!==null&&(u=A,S!==null&&(A=Ga(E,S),A!=null&&p.push(es(E,A,u)))),w)break;E=E.return}0<p.length&&(L=new B(L,I,null,r,d),M.push({event:L,listeners:p}))}}if(!(t&7)){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&r!==Md&&(I=r.relatedTarget||r.fromElement)&&(Ti(I)||I[An]))break e;if((B||L)&&(L=d.window===d?d:(L=d.ownerDocument)?L.defaultView||L.parentWindow:window,B?(I=r.relatedTarget||r.toElement,B=v,I=I?Ti(I):null,I!==null&&(w=Wi(I),I!==w||I.tag!==5&&I.tag!==6)&&(I=null)):(B=null,I=v),B!==I)){if(p=sv,A="onMouseLeave",S="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(p=uv,A="onPointerLeave",S="onPointerEnter",E="pointer"),w=B==null?L:so(B),u=I==null?L:so(I),L=new p(A,E+"leave",B,r,d),L.target=w,L.relatedTarget=u,A=null,Ti(d)===v&&(p=new p(S,E+"enter",I,r,d),p.target=u,p.relatedTarget=w,A=p),w=A,B&&I)t:{for(p=B,S=I,E=0,u=p;u;u=Vi(u))E++;for(u=0,A=S;A;A=Vi(A))u++;for(;0<E-u;)p=Vi(p),E--;for(;0<u-E;)S=Vi(S),u--;for(;E--;){if(p===S||S!==null&&p===S.alternate)break t;p=Vi(p),S=Vi(S)}p=null}else p=null;B!==null&&xv(M,L,B,p,!1),I!==null&&w!==null&&xv(M,w,I,p,!0)}}e:{if(L=v?so(v):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var x=x1;else if(fv(L))if(z0)x=C1;else{x=T1;var h=S1}else(B=L.nodeName)&&B.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(x=b1);if(x&&(x=x(e,v))){W0(M,x,r,d);break e}h&&h(e,L,v),e==="focusout"&&(h=L._wrapperState)&&h.controlled&&L.type==="number"&&Ld(L,"number",L.value)}switch(h=v?so(v):window,e){case"focusin":(fv(h)||h.contentEditable==="true")&&(oo=h,$d=v,Ia=null);break;case"focusout":Ia=$d=oo=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,gv(M,r,d);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":gv(M,r,d)}var f;if(sh)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else io?$0(e,r)&&(m="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(m="onCompositionStart");m&&(U0&&r.locale!=="ko"&&(io||m!=="onCompositionStart"?m==="onCompositionEnd"&&io&&(f=B0()):(Vn=d,ih="value"in Vn?Vn.value:Vn.textContent,io=!0)),h=Bl(v,m),0<h.length&&(m=new lv(m,e,null,r,d),M.push({event:m,listeners:h}),f?m.data=f:(f=K0(r),f!==null&&(m.data=f)))),(f=v1?m1(e,r):g1(e,r))&&(v=Bl(v,"onBeforeInput"),0<v.length&&(d=new lv("onBeforeInput","beforeinput",null,r,d),M.push({event:d,listeners:v}),d.data=f))}q0(M,t)})}function es(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ga(e,r),o!=null&&n.unshift(es(e,o,i)),o=Ga(e,t),o!=null&&n.push(es(e,o,i))),e=e.return}return n}function Vi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xv(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var l=r,a=l.alternate,v=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&v!==null&&(l=v,i?(a=Ga(r,o),a!=null&&s.unshift(es(r,a,l))):i||(a=Ga(r,o),a!=null&&s.push(es(r,a,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var D1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function Sv(e){return(typeof e=="string"?e:""+e).replace(D1,`
`).replace(O1,"")}function Hs(e,t,r){if(t=Sv(t),Sv(e)!==t&&r)throw Error(me(425))}function Ul(){}var Wd=null,zd=null;function Hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,Tv=typeof Promise=="function"?Promise:void 0,w1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tv<"u"?function(e){return Tv.resolve(null).then(e).catch(k1)}:jd;function k1(e){setTimeout(function(){throw e})}function Wc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Qa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Qa(t)}function Zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),cn="__reactFiber$"+Vo,ts="__reactProps$"+Vo,An="__reactContainer$"+Vo,Vd="__reactEvents$"+Vo,F1="__reactListeners$"+Vo,N1="__reactHandles$"+Vo;function Ti(e){var t=e[cn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[An]||r[cn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bv(e);e!==null;){if(r=e[cn])return r;e=bv(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[cn]||e[An],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function so(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(me(33))}function gu(e){return e[ts]||null}var Gd=[],lo=-1;function fi(e){return{current:e}}function lt(e){0>lo||(e.current=Gd[lo],Gd[lo]=null,lo--)}function nt(e,t){lo++,Gd[lo]=e.current,e.current=t}var ai={},Gt=fi(ai),or=fi(!1),Oi=ai;function Io(e,t){var r=e.type.contextTypes;if(!r)return ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ar(e){return e=e.childContextTypes,e!=null}function $l(){lt(or),lt(Gt)}function Cv(e,t,r){if(Gt.current!==ai)throw Error(me(168));nt(Gt,t),nt(or,r)}function ty(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(me(108,ST(e)||"Unknown",i));return mt({},r,n)}function Kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Oi=Gt.current,nt(Gt,e),nt(or,or.current),!0}function _v(e,t,r){var n=e.stateNode;if(!n)throw Error(me(169));r?(e=ty(e,t,Oi),n.__reactInternalMemoizedMergedChildContext=e,lt(or),lt(Gt),nt(Gt,e)):lt(or),nt(or,r)}var bn=null,yu=!1,zc=!1;function ry(e){bn===null?bn=[e]:bn.push(e)}function B1(e){yu=!0,ry(e)}function hi(){if(!zc&&bn!==null){zc=!0;var e=0,t=et;try{var r=bn;for(et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bn=null,yu=!1}catch(i){throw bn!==null&&(bn=bn.slice(e+1)),P0(eh,hi),i}finally{et=t,zc=!1}}return null}var uo=[],co=0,Wl=null,zl=0,Or=[],Mr=0,Mi=null,Cn=1,_n="";function gi(e,t){uo[co++]=zl,uo[co++]=Wl,Wl=e,zl=t}function ny(e,t,r){Or[Mr++]=Cn,Or[Mr++]=_n,Or[Mr++]=Mi,Mi=e;var n=Cn;e=_n;var i=32-qr(n)-1;n&=~(1<<i),r+=1;var o=32-qr(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Cn=1<<32-qr(t)+i|r<<i|n,_n=o+e}else Cn=1<<o|r<<i|n,_n=e}function uh(e){e.return!==null&&(gi(e,1),ny(e,1,0))}function ch(e){for(;e===Wl;)Wl=uo[--co],uo[co]=null,zl=uo[--co],uo[co]=null;for(;e===Mi;)Mi=Or[--Mr],Or[Mr]=null,_n=Or[--Mr],Or[Mr]=null,Cn=Or[--Mr],Or[Mr]=null}var Er=null,yr=null,dt=!1,Qr=null;function iy(e,t){var r=kr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,yr=Zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mi!==null?{id:Cn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=kr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Er=e,yr=null,!0):!1;default:return!1}}function Yd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xd(e){if(dt){var t=yr;if(t){var r=t;if(!Rv(e,t)){if(Yd(e))throw Error(me(418));t=Zn(r.nextSibling);var n=Er;t&&Rv(e,t)?iy(n,r):(e.flags=e.flags&-4097|2,dt=!1,Er=e)}}else{if(Yd(e))throw Error(me(418));e.flags=e.flags&-4097|2,dt=!1,Er=e}}}function Pv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function js(e){if(e!==Er)return!1;if(!dt)return Pv(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hd(e.type,e.memoizedProps)),t&&(t=yr)){if(Yd(e))throw oy(),Error(me(418));for(;t;)iy(e,t),t=Zn(t.nextSibling)}if(Pv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Zn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=Er?Zn(e.stateNode.nextSibling):null;return!0}function oy(){for(var e=yr;e;)e=Zn(e.nextSibling)}function Do(){yr=Er=null,dt=!1}function dh(e){Qr===null?Qr=[e]:Qr.push(e)}var U1=wn.ReactCurrentBatchConfig;function Gr(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Hl=fi(null),jl=null,fo=null,fh=null;function hh(){fh=fo=jl=null}function ph(e){var t=Hl.current;lt(Hl),e._currentValue=t}function Qd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function To(e,t){jl=e,fh=fo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function Br(e){var t=e._currentValue;if(fh!==e)if(e={context:e,memoizedValue:t,next:null},fo===null){if(jl===null)throw Error(me(308));fo=e,jl.dependencies={lanes:0,firstContext:e}}else fo=fo.next=e;return t}var bi=null;function vh(e){bi===null?bi=[e]:bi.push(e)}function ay(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,vh(t)):(r.next=i.next,i.next=r),t.interleaved=r,In(e,n)}function In(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zn=!1;function mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,In(e,r)}return i=n.interleaved,i===null?(t.next=t,vh(n)):(t.next=i.next,i.next=t),n.interleaved=t,In(e,r)}function ml(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,th(e,r)}}function Lv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vl(e,t,r,n){var i=e.updateQueue;zn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,v=a.next;a.next=null,s===null?o=v:s.next=v,s=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=v:l.next=v,d.lastBaseUpdate=a))}if(o!==null){var M=i.baseState;s=0,d=v=a=null,l=o;do{var L=l.lane,B=l.eventTime;if((n&L)===L){d!==null&&(d=d.next={eventTime:B,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=e,p=l;switch(L=t,B=r,p.tag){case 1:if(I=p.payload,typeof I=="function"){M=I.call(B,M,L);break e}M=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=p.payload,L=typeof I=="function"?I.call(B,M,L):I,L==null)break e;M=mt({},M,L);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,L=i.effects,L===null?i.effects=[l]:L.push(l))}else B={eventTime:B,lane:L,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(v=d=B,a=M):d=d.next=B,s|=L;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;L=l,l=L.next,L.next=null,i.lastBaseUpdate=L,i.shared.pending=null}}while(1);if(d===null&&(a=M),i.baseState=a,i.firstBaseUpdate=v,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ki|=s,e.lanes=s,e.memoizedState=M}}function Av(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var ly=new a0.Component().refs;function Jd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Eu={isMounted:function(e){return(e=e._reactInternals)?Wi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qt(),i=ti(e),o=Rn(n,i);o.payload=t,r!=null&&(o.callback=r),t=qn(e,o,i),t!==null&&(en(t,e,i,n),ml(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qt(),i=ti(e),o=Rn(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=qn(e,o,i),t!==null&&(en(t,e,i,n),ml(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),n=ti(e),i=Rn(r,n);i.tag=2,t!=null&&(i.callback=t),t=qn(e,i,n),t!==null&&(en(t,e,n,r),ml(t,e,n))}};function Iv(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Za(r,n)||!Za(i,o):!0}function uy(e,t,r){var n=!1,i=ai,o=t.contextType;return typeof o=="object"&&o!==null?o=Br(o):(i=ar(t)?Oi:Gt.current,n=t.contextTypes,o=(n=n!=null)?Io(e,i):ai),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Dv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Eu.enqueueReplaceState(t,t.state,null)}function Zd(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=ly,mh(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Br(o):(o=ar(t)?Oi:Gt.current,i.context=Io(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jd(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Eu.enqueueReplaceState(i,i.state,null),Vl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;l===ly&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ov(e){var t=e._init;return t(e._payload)}function cy(e){function t(S,E){if(e){var u=S.deletions;u===null?(S.deletions=[E],S.flags|=16):u.push(E)}}function r(S,E){if(!e)return null;for(;E!==null;)t(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=ri(S,E),S.index=0,S.sibling=null,S}function o(S,E,u){return S.index=u,e?(u=S.alternate,u!==null?(u=u.index,u<E?(S.flags|=2,E):u):(S.flags|=2,E)):(S.flags|=1048576,E)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function l(S,E,u,A){return E===null||E.tag!==6?(E=Qc(u,S.mode,A),E.return=S,E):(E=i(E,u),E.return=S,E)}function a(S,E,u,A){var x=u.type;return x===no?d(S,E,u.props.children,A,u.key):E!==null&&(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wn&&Ov(x)===E.type)?(A=i(E,u.props),A.ref=na(S,E,u),A.return=S,A):(A=Tl(u.type,u.key,u.props,null,S.mode,A),A.ref=na(S,E,u),A.return=S,A)}function v(S,E,u,A){return E===null||E.tag!==4||E.stateNode.containerInfo!==u.containerInfo||E.stateNode.implementation!==u.implementation?(E=Jc(u,S.mode,A),E.return=S,E):(E=i(E,u.children||[]),E.return=S,E)}function d(S,E,u,A,x){return E===null||E.tag!==7?(E=Li(u,S.mode,A,x),E.return=S,E):(E=i(E,u),E.return=S,E)}function M(S,E,u){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Qc(""+E,S.mode,u),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ks:return u=Tl(E.type,E.key,E.props,null,S.mode,u),u.ref=na(S,null,E),u.return=S,u;case ro:return E=Jc(E,S.mode,u),E.return=S,E;case Wn:var A=E._init;return M(S,A(E._payload),u)}if(xa(E)||Zo(E))return E=Li(E,S.mode,u,null),E.return=S,E;Vs(S,E)}return null}function L(S,E,u,A){var x=E!==null?E.key:null;if(typeof u=="string"&&u!==""||typeof u=="number")return x!==null?null:l(S,E,""+u,A);if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ks:return u.key===x?a(S,E,u,A):null;case ro:return u.key===x?v(S,E,u,A):null;case Wn:return x=u._init,L(S,E,x(u._payload),A)}if(xa(u)||Zo(u))return x!==null?null:d(S,E,u,A,null);Vs(S,u)}return null}function B(S,E,u,A,x){if(typeof A=="string"&&A!==""||typeof A=="number")return S=S.get(u)||null,l(E,S,""+A,x);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ks:return S=S.get(A.key===null?u:A.key)||null,a(E,S,A,x);case ro:return S=S.get(A.key===null?u:A.key)||null,v(E,S,A,x);case Wn:var h=A._init;return B(S,E,u,h(A._payload),x)}if(xa(A)||Zo(A))return S=S.get(u)||null,d(E,S,A,x,null);Vs(E,A)}return null}function I(S,E,u,A){for(var x=null,h=null,f=E,m=E=0,g=null;f!==null&&m<u.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var R=L(S,f,u[m],A);if(R===null){f===null&&(f=g);break}e&&f&&R.alternate===null&&t(S,f),E=o(R,E,m),h===null?x=R:h.sibling=R,h=R,f=g}if(m===u.length)return r(S,f),dt&&gi(S,m),x;if(f===null){for(;m<u.length;m++)f=M(S,u[m],A),f!==null&&(E=o(f,E,m),h===null?x=f:h.sibling=f,h=f);return dt&&gi(S,m),x}for(f=n(S,f);m<u.length;m++)g=B(f,S,m,u[m],A),g!==null&&(e&&g.alternate!==null&&f.delete(g.key===null?m:g.key),E=o(g,E,m),h===null?x=g:h.sibling=g,h=g);return e&&f.forEach(function(O){return t(S,O)}),dt&&gi(S,m),x}function p(S,E,u,A){var x=Zo(u);if(typeof x!="function")throw Error(me(150));if(u=x.call(u),u==null)throw Error(me(151));for(var h=x=null,f=E,m=E=0,g=null,R=u.next();f!==null&&!R.done;m++,R=u.next()){f.index>m?(g=f,f=null):g=f.sibling;var O=L(S,f,R.value,A);if(O===null){f===null&&(f=g);break}e&&f&&O.alternate===null&&t(S,f),E=o(O,E,m),h===null?x=O:h.sibling=O,h=O,f=g}if(R.done)return r(S,f),dt&&gi(S,m),x;if(f===null){for(;!R.done;m++,R=u.next())R=M(S,R.value,A),R!==null&&(E=o(R,E,m),h===null?x=R:h.sibling=R,h=R);return dt&&gi(S,m),x}for(f=n(S,f);!R.done;m++,R=u.next())R=B(f,S,m,R.value,A),R!==null&&(e&&R.alternate!==null&&f.delete(R.key===null?m:R.key),E=o(R,E,m),h===null?x=R:h.sibling=R,h=R);return e&&f.forEach(function(b){return t(S,b)}),dt&&gi(S,m),x}function w(S,E,u,A){if(typeof u=="object"&&u!==null&&u.type===no&&u.key===null&&(u=u.props.children),typeof u=="object"&&u!==null){switch(u.$$typeof){case ks:e:{for(var x=u.key,h=E;h!==null;){if(h.key===x){if(x=u.type,x===no){if(h.tag===7){r(S,h.sibling),E=i(h,u.props.children),E.return=S,S=E;break e}}else if(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wn&&Ov(x)===h.type){r(S,h.sibling),E=i(h,u.props),E.ref=na(S,h,u),E.return=S,S=E;break e}r(S,h);break}else t(S,h);h=h.sibling}u.type===no?(E=Li(u.props.children,S.mode,A,u.key),E.return=S,S=E):(A=Tl(u.type,u.key,u.props,null,S.mode,A),A.ref=na(S,E,u),A.return=S,S=A)}return s(S);case ro:e:{for(h=u.key;E!==null;){if(E.key===h)if(E.tag===4&&E.stateNode.containerInfo===u.containerInfo&&E.stateNode.implementation===u.implementation){r(S,E.sibling),E=i(E,u.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else t(S,E);E=E.sibling}E=Jc(u,S.mode,A),E.return=S,S=E}return s(S);case Wn:return h=u._init,w(S,E,h(u._payload),A)}if(xa(u))return I(S,E,u,A);if(Zo(u))return p(S,E,u,A);Vs(S,u)}return typeof u=="string"&&u!==""||typeof u=="number"?(u=""+u,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,u),E.return=S,S=E):(r(S,E),E=Qc(u,S.mode,A),E.return=S,S=E),s(S)):r(S,E)}return w}var Oo=cy(!0),dy=cy(!1),Ts={},pn=fi(Ts),rs=fi(Ts),ns=fi(Ts);function Ci(e){if(e===Ts)throw Error(me(174));return e}function gh(e,t){switch(nt(ns,t),nt(rs,e),nt(pn,Ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Id(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Id(t,e)}lt(pn),nt(pn,t)}function Mo(){lt(pn),lt(rs),lt(ns)}function fy(e){Ci(ns.current);var t=Ci(pn.current),r=Id(t,e.type);t!==r&&(nt(rs,e),nt(pn,r))}function yh(e){rs.current===e&&(lt(pn),lt(rs))}var pt=fi(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hc=[];function Eh(){for(var e=0;e<Hc.length;e++)Hc[e]._workInProgressVersionPrimary=null;Hc.length=0}var gl=wn.ReactCurrentDispatcher,jc=wn.ReactCurrentBatchConfig,wi=0,vt=null,It=null,Mt=null,Yl=!1,Da=!1,is=0,$1=0;function zt(){throw Error(me(321))}function xh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tn(e[r],t[r]))return!1;return!0}function Sh(e,t,r,n,i,o){if(wi=o,vt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gl.current=e===null||e.memoizedState===null?H1:j1,e=r(n,i),Da){o=0;do{if(Da=!1,is=0,25<=o)throw Error(me(301));o+=1,Mt=It=null,t.updateQueue=null,gl.current=V1,e=r(n,i)}while(Da)}if(gl.current=Xl,t=It!==null&&It.next!==null,wi=0,Mt=It=vt=null,Yl=!1,t)throw Error(me(300));return e}function Th(){var e=is!==0;return is=0,e}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?vt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Ur(){if(It===null){var e=vt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Mt===null?vt.memoizedState:Mt.next;if(t!==null)Mt=t,It=e;else{if(e===null)throw Error(me(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Mt===null?vt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function os(e,t){return typeof t=="function"?t(e):t}function Vc(e){var t=Ur(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=It,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=s=null,a=null,v=o;do{var d=v.lane;if((wi&d)===d)a!==null&&(a=a.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),n=v.hasEagerState?v.eagerState:e(n,v.action);else{var M={lane:d,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};a===null?(l=a=M,s=n):a=a.next=M,vt.lanes|=d,ki|=d}v=v.next}while(v!==null&&v!==o);a===null?s=n:a.next=l,tn(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,vt.lanes|=o,ki|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gc(e){var t=Ur(),r=t.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);tn(o,t.memoizedState)||(ir=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function hy(){}function py(e,t){var r=vt,n=Ur(),i=t(),o=!tn(n.memoizedState,i);if(o&&(n.memoizedState=i,ir=!0),n=n.queue,bh(gy.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Mt!==null&&Mt.memoizedState.tag&1){if(r.flags|=2048,as(9,my.bind(null,r,n,i,t),void 0,null),wt===null)throw Error(me(349));wi&30||vy(r,t,i)}return i}function vy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function my(e,t,r,n){t.value=r,t.getSnapshot=n,yy(t)&&Ey(e)}function gy(e,t,r){return r(function(){yy(t)&&Ey(e)})}function yy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tn(e,r)}catch{return!0}}function Ey(e){var t=In(e,1);t!==null&&en(t,e,1,-1)}function Mv(e){var t=an();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},t.queue=e,e=e.dispatch=z1.bind(null,vt,e),[t.memoizedState,e]}function as(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=vt.updateQueue,t===null?(t={lastEffect:null,stores:null},vt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function xy(){return Ur().memoizedState}function yl(e,t,r,n){var i=an();vt.flags|=e,i.memoizedState=as(1|t,r,void 0,n===void 0?null:n)}function xu(e,t,r,n){var i=Ur();n=n===void 0?null:n;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,n!==null&&xh(n,s.deps)){i.memoizedState=as(t,r,o,n);return}}vt.flags|=e,i.memoizedState=as(1|t,r,o,n)}function wv(e,t){return yl(8390656,8,e,t)}function bh(e,t){return xu(2048,8,e,t)}function Sy(e,t){return xu(4,2,e,t)}function Ty(e,t){return xu(4,4,e,t)}function by(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cy(e,t,r){return r=r!=null?r.concat([e]):null,xu(4,4,by.bind(null,t,e),r)}function Ch(){}function _y(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ry(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Py(e,t,r){return wi&21?(tn(r,t)||(r=I0(),vt.lanes|=r,ki|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function K1(e,t){var r=et;et=r!==0&&4>r?r:4,e(!0);var n=jc.transition;jc.transition={};try{e(!1),t()}finally{et=r,jc.transition=n}}function Ly(){return Ur().memoizedState}function W1(e,t,r){var n=ti(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ay(e))Iy(t,r);else if(r=ay(e,t,r,n),r!==null){var i=Qt();en(r,e,n,i),Dy(r,t,n)}}function z1(e,t,r){var n=ti(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ay(e))Iy(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,r);if(i.hasEagerState=!0,i.eagerState=l,tn(l,s)){var a=t.interleaved;a===null?(i.next=i,vh(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=ay(e,t,i,n),r!==null&&(i=Qt(),en(r,e,n,i),Dy(r,t,n))}}function Ay(e){var t=e.alternate;return e===vt||t!==null&&t===vt}function Iy(e,t){Da=Yl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Dy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,th(e,r)}}var Xl={readContext:Br,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},H1={readContext:Br,useCallback:function(e,t){return an().memoizedState=[e,t===void 0?null:t],e},useContext:Br,useEffect:wv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yl(4194308,4,by.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return yl(4,2,e,t)},useMemo:function(e,t){var r=an();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=an();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=W1.bind(null,vt,e),[n.memoizedState,e]},useRef:function(e){var t=an();return e={current:e},t.memoizedState=e},useState:Mv,useDebugValue:Ch,useDeferredValue:function(e){return an().memoizedState=e},useTransition:function(){var e=Mv(!1),t=e[0];return e=K1.bind(null,e[1]),an().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vt,i=an();if(dt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=t(),wt===null)throw Error(me(349));wi&30||vy(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,wv(gy.bind(null,n,o,e),[e]),n.flags|=2048,as(9,my.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=an(),t=wt.identifierPrefix;if(dt){var r=_n,n=Cn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},j1={readContext:Br,useCallback:_y,useContext:Br,useEffect:bh,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ty,useMemo:Ry,useReducer:Vc,useRef:xy,useState:function(){return Vc(os)},useDebugValue:Ch,useDeferredValue:function(e){var t=Ur();return Py(t,It.memoizedState,e)},useTransition:function(){var e=Vc(os)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:py,useId:Ly,unstable_isNewReconciler:!1},V1={readContext:Br,useCallback:_y,useContext:Br,useEffect:bh,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ty,useMemo:Ry,useReducer:Gc,useRef:xy,useState:function(){return Gc(os)},useDebugValue:Ch,useDeferredValue:function(e){var t=Ur();return It===null?t.memoizedState=e:Py(t,It.memoizedState,e)},useTransition:function(){var e=Gc(os)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:hy,useSyncExternalStore:py,useId:Ly,unstable_isNewReconciler:!1};function wo(e,t){try{var r="",n=t;do r+=xT(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Yc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G1=typeof WeakMap=="function"?WeakMap:Map;function Oy(e,t,r){r=Rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jl||(Jl=!0,cf=n),qd(e,t)},r}function My(e,t,r){r=Rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){qd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){qd(e,t),typeof n!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function kv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new G1;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=sb.bind(null,e,t,r),t.then(e,e))}function Fv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nv(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rn(-1,1),t.tag=2,qn(r,t,1))),r.lanes|=1),e)}var Y1=wn.ReactCurrentOwner,ir=!1;function Xt(e,t,r,n){t.child=e===null?dy(t,null,r,n):Oo(t,e.child,r,n)}function Bv(e,t,r,n,i){r=r.render;var o=t.ref;return To(t,i),n=Sh(e,t,r,n,o,i),r=Th(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(dt&&r&&uh(t),t.flags|=1,Xt(e,t,n,i),t.child)}function Uv(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Oh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,wy(e,t,o,n,i)):(e=Tl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Za,r(s,n)&&e.ref===t.ref)return Dn(e,t,i)}return t.flags|=1,e=ri(o,n),e.ref=t.ref,e.return=t,t.child=e}function wy(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Za(o,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Dn(e,t,i)}return ef(e,t,r,n,i)}function ky(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(po,mr),mr|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nt(po,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,nt(po,mr),mr|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,nt(po,mr),mr|=n;return Xt(e,t,i,r),t.child}function Fy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ef(e,t,r,n,i){var o=ar(r)?Oi:Gt.current;return o=Io(t,o),To(t,i),r=Sh(e,t,r,n,o,i),n=Th(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dn(e,t,i)):(dt&&n&&uh(t),t.flags|=1,Xt(e,t,r,i),t.child)}function $v(e,t,r,n,i){if(ar(r)){var o=!0;Kl(t)}else o=!1;if(To(t,i),t.stateNode===null)El(e,t),uy(t,r,n),Zd(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,v=r.contextType;typeof v=="object"&&v!==null?v=Br(v):(v=ar(r)?Oi:Gt.current,v=Io(t,v));var d=r.getDerivedStateFromProps,M=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";M||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||a!==v)&&Dv(t,s,n,v),zn=!1;var L=t.memoizedState;s.state=L,Vl(t,n,s,i),a=t.memoizedState,l!==n||L!==a||or.current||zn?(typeof d=="function"&&(Jd(t,r,d,n),a=t.memoizedState),(l=zn||Iv(t,r,l,n,L,a,v))?(M||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),s.props=n,s.state=a,s.context=v,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,sy(e,t),l=t.memoizedProps,v=t.type===t.elementType?l:Gr(t.type,l),s.props=v,M=t.pendingProps,L=s.context,a=r.contextType,typeof a=="object"&&a!==null?a=Br(a):(a=ar(r)?Oi:Gt.current,a=Io(t,a));var B=r.getDerivedStateFromProps;(d=typeof B=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==M||L!==a)&&Dv(t,s,n,a),zn=!1,L=t.memoizedState,s.state=L,Vl(t,n,s,i);var I=t.memoizedState;l!==M||L!==I||or.current||zn?(typeof B=="function"&&(Jd(t,r,B,n),I=t.memoizedState),(v=zn||Iv(t,r,v,n,L,I,a)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,I,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,I,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=I),s.props=n,s.state=I,s.context=a,n=v):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),n=!1)}return tf(e,t,r,n,o,i)}function tf(e,t,r,n,i,o){Fy(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&_v(t,r,!1),Dn(e,t,o);n=t.stateNode,Y1.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,l,o)):Xt(e,t,l,o),t.memoizedState=n.state,i&&_v(t,r,!0),t.child}function Ny(e){var t=e.stateNode;t.pendingContext?Cv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cv(e,t.context,!1),gh(e,t.containerInfo)}function Kv(e,t,r,n,i){return Do(),dh(i),t.flags|=256,Xt(e,t,r,n),t.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function nf(e){return{baseLanes:e,cachePool:null,transitions:null}}function By(e,t,r){var n=t.pendingProps,i=pt.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),nt(pt,i&1),e===null)return Xd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bu(s,n,0,null),e=Li(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nf(r),t.memoizedState=rf,e):_h(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return X1(e,t,s,n,l,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=ri(i,a),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ri(l,o):(o=Li(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?nf(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=rf,n}return o=e.child,e=o.sibling,n=ri(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _h(e,t){return t=bu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,r,n){return n!==null&&dh(n),Oo(t,e.child,null,r),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X1(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=Yc(Error(me(422))),Gs(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=bu({mode:"visible",children:n.children},i,0,null),o=Li(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Oo(t,e.child,null,s),t.child.memoizedState=nf(s),t.memoizedState=rf,o);if(!(t.mode&1))return Gs(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(me(419)),n=Yc(o,n,void 0),Gs(e,t,s,n)}if(l=(s&e.childLanes)!==0,ir||l){if(n=wt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,In(e,i),en(n,e,i,-1))}return Dh(),n=Yc(Error(me(421))),Gs(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lb.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,yr=Zn(i.nextSibling),Er=t,dt=!0,Qr=null,e!==null&&(Or[Mr++]=Cn,Or[Mr++]=_n,Or[Mr++]=Mi,Cn=e.id,_n=e.overflow,Mi=t),t=_h(t,n.children),t.flags|=4096,t)}function Wv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Qd(e.return,t,r)}function Xc(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Uy(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Xt(e,t,n.children,r),n=pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wv(e,r,t);else if(e.tag===19)Wv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(nt(pt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Gl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xc(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xc(t,!0,r,null,o);break;case"together":Xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function El(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ki|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(me(153));if(t.child!==null){for(e=t.child,r=ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q1(e,t,r){switch(t.tag){case 3:Ny(t),Do();break;case 5:fy(t);break;case 1:ar(t.type)&&Kl(t);break;case 4:gh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;nt(Hl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(nt(pt,pt.current&1),t.flags|=128,null):r&t.child.childLanes?By(e,t,r):(nt(pt,pt.current&1),e=Dn(e,t,r),e!==null?e.sibling:null);nt(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Uy(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,ky(e,t,r)}return Dn(e,t,r)}var $y,of,Ky,Wy;$y=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};of=function(){};Ky=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ci(pn.current);var o=null;switch(r){case"input":i=Rd(e,i),n=Rd(e,n),o=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),o=[];break;case"textarea":i=Ad(e,i),n=Ad(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ul)}Dd(r,n);var s;r=null;for(v in i)if(!n.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var l=i[v];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(ja.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in n){var a=n[v];if(l=i!=null?i[v]:void 0,n.hasOwnProperty(v)&&a!==l&&(a!=null||l!=null))if(v==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(r||(r={}),r[s]=a[s])}else r||(o||(o=[]),o.push(v,r)),r=a;else v==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(v,a)):v==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(v,""+a):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(ja.hasOwnProperty(v)?(a!=null&&v==="onScroll"&&at("scroll",e),o||l===a||(o=[])):(o=o||[]).push(v,a))}r&&(o=o||[]).push("style",r);var v=o;(t.updateQueue=v)&&(t.flags|=4)}};Wy=function(e,t,r,n){r!==n&&(t.flags|=4)};function ia(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function J1(e,t,r){var n=t.pendingProps;switch(ch(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return ar(t.type)&&$l(),Ht(t),null;case 3:return n=t.stateNode,Mo(),lt(or),lt(Gt),Eh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qr!==null&&(hf(Qr),Qr=null))),of(e,t),Ht(t),null;case 5:yh(t);var i=Ci(ns.current);if(r=t.type,e!==null&&t.stateNode!=null)Ky(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(me(166));return Ht(t),null}if(e=Ci(pn.current),js(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[cn]=t,n[ts]=o,e=(t.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(i=0;i<Ta.length;i++)at(Ta[i],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":Jp(n,o),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},at("invalid",n);break;case"textarea":qp(n,o),at("invalid",n)}Dd(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Hs(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Hs(n.textContent,l,e),i=["children",""+l]):ja.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&at("scroll",n)}switch(r){case"input":Fs(n),Zp(n,o,!0);break;case"textarea":Fs(n),ev(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ul)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[cn]=t,e[ts]=n,$y(e,t,!1,!1),t.stateNode=e;e:{switch(s=Od(r,n),r){case"dialog":at("cancel",e),at("close",e),i=n;break;case"iframe":case"object":case"embed":at("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ta.length;i++)at(Ta[i],e);i=n;break;case"source":at("error",e),i=n;break;case"img":case"image":case"link":at("error",e),at("load",e),i=n;break;case"details":at("toggle",e),i=n;break;case"input":Jp(e,n),i=Rd(e,n),at("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),at("invalid",e);break;case"textarea":qp(e,n),i=Ad(e,n),at("invalid",e);break;default:i=n}Dd(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?y0(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&m0(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Va(e,a):typeof a=="number"&&Va(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ja.hasOwnProperty(o)?a!=null&&o==="onScroll"&&at("scroll",e):a!=null&&Xf(e,o,a,s))}switch(r){case"input":Fs(e),Zp(e,n,!1);break;case"textarea":Fs(e),ev(e);break;case"option":n.value!=null&&e.setAttribute("value",""+oi(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?yo(e,!!n.multiple,o,!1):n.defaultValue!=null&&yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ul)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)Wy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(me(166));if(r=Ci(ns.current),Ci(pn.current),js(t)){if(n=t.stateNode,r=t.memoizedProps,n[cn]=t,(o=n.nodeValue!==r)&&(e=Er,e!==null))switch(e.tag){case 3:Hs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hs(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cn]=t,t.stateNode=n}return Ht(t),null;case 13:if(lt(pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&yr!==null&&t.mode&1&&!(t.flags&128))oy(),Do(),t.flags|=98560,o=!1;else if(o=js(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(me(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(me(317));o[cn]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),o=!1}else Qr!==null&&(hf(Qr),Qr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Dt===0&&(Dt=3):Dh())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return Mo(),of(e,t),e===null&&qa(t.stateNode.containerInfo),Ht(t),null;case 10:return ph(t.type._context),Ht(t),null;case 17:return ar(t.type)&&$l(),Ht(t),null;case 19:if(lt(pt),o=t.memoizedState,o===null)return Ht(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)ia(o,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gl(e),s!==null){for(t.flags|=128,ia(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return nt(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ct()>ko&&(t.flags|=128,n=!0,ia(o,!1),t.lanes=4194304)}else{if(!n)if(e=Gl(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ia(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!dt)return Ht(t),null}else 2*Ct()-o.renderingStartTime>ko&&r!==1073741824&&(t.flags|=128,n=!0,ia(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,r=pt.current,nt(pt,n?r&1|2:r&1),t):(Ht(t),null);case 22:case 23:return Ih(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?mr&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(me(156,t.tag))}function Z1(e,t){switch(ch(t),t.tag){case 1:return ar(t.type)&&$l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mo(),lt(or),lt(Gt),Eh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yh(t),null;case 13:if(lt(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(me(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(pt),null;case 4:return Mo(),null;case 10:return ph(t.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var Ys=!1,Vt=!1,q1=typeof WeakSet=="function"?WeakSet:Set,Le=null;function ho(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function af(e,t,r){try{r()}catch(n){St(e,t,n)}}var zv=!1;function eb(e,t){if(Wd=Fl,e=V0(),lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,l=-1,a=-1,v=0,d=0,M=e,L=null;t:for(;;){for(var B;M!==r||i!==0&&M.nodeType!==3||(l=s+i),M!==o||n!==0&&M.nodeType!==3||(a=s+n),M.nodeType===3&&(s+=M.nodeValue.length),(B=M.firstChild)!==null;)L=M,M=B;for(;;){if(M===e)break t;if(L===r&&++v===i&&(l=s),L===o&&++d===n&&(a=s),(B=M.nextSibling)!==null)break;M=L,L=M.parentNode}M=B}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(zd={focusedElem:e,selectionRange:r},Fl=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){t=Le;try{var I=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var p=I.memoizedProps,w=I.memoizedState,S=t.stateNode,E=S.getSnapshotBeforeUpdate(t.elementType===t.type?p:Gr(t.type,p),w);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var u=t.stateNode.containerInfo;u.nodeType===1?u.textContent="":u.nodeType===9&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(A){St(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return I=zv,zv=!1,I}function Oa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&af(t,r,o)}i=i.next}while(i!==n)}}function Su(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function sf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function zy(e){var t=e.alternate;t!==null&&(e.alternate=null,zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cn],delete t[ts],delete t[Vd],delete t[F1],delete t[N1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hy(e){return e.tag===5||e.tag===3||e.tag===4}function Hv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ul));else if(n!==4&&(e=e.child,e!==null))for(lf(e,t,r),e=e.sibling;e!==null;)lf(e,t,r),e=e.sibling}function uf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uf(e,t,r),e=e.sibling;e!==null;)uf(e,t,r),e=e.sibling}var Nt=null,Xr=!1;function Un(e,t,r){for(r=r.child;r!==null;)jy(e,t,r),r=r.sibling}function jy(e,t,r){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(hu,r)}catch{}switch(r.tag){case 5:Vt||ho(r,t);case 6:var n=Nt,i=Xr;Nt=null,Un(e,t,r),Nt=n,Xr=i,Nt!==null&&(Xr?(e=Nt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Nt.removeChild(r.stateNode));break;case 18:Nt!==null&&(Xr?(e=Nt,r=r.stateNode,e.nodeType===8?Wc(e.parentNode,r):e.nodeType===1&&Wc(e,r),Qa(e)):Wc(Nt,r.stateNode));break;case 4:n=Nt,i=Xr,Nt=r.stateNode.containerInfo,Xr=!0,Un(e,t,r),Nt=n,Xr=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&af(r,t,s),i=i.next}while(i!==n)}Un(e,t,r);break;case 1:if(!Vt&&(ho(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){St(r,t,l)}Un(e,t,r);break;case 21:Un(e,t,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,Un(e,t,r),Vt=n):Un(e,t,r);break;default:Un(e,t,r)}}function jv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new q1),t.forEach(function(n){var i=ub.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Vr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Xr=!1;break e;case 3:Nt=l.stateNode.containerInfo,Xr=!0;break e;case 4:Nt=l.stateNode.containerInfo,Xr=!0;break e}l=l.return}if(Nt===null)throw Error(me(160));jy(o,s,i),Nt=null,Xr=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(v){St(i,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vy(t,e),t=t.sibling}function Vy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vr(t,e),on(e),n&4){try{Oa(3,e,e.return),Su(3,e)}catch(p){St(e,e.return,p)}try{Oa(5,e,e.return)}catch(p){St(e,e.return,p)}}break;case 1:Vr(t,e),on(e),n&512&&r!==null&&ho(r,r.return);break;case 5:if(Vr(t,e),on(e),n&512&&r!==null&&ho(r,r.return),e.flags&32){var i=e.stateNode;try{Va(i,"")}catch(p){St(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&h0(i,o),Od(l,s);var v=Od(l,o);for(s=0;s<a.length;s+=2){var d=a[s],M=a[s+1];d==="style"?y0(i,M):d==="dangerouslySetInnerHTML"?m0(i,M):d==="children"?Va(i,M):Xf(i,d,M,v)}switch(l){case"input":Pd(i,o);break;case"textarea":p0(i,o);break;case"select":var L=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var B=o.value;B!=null?yo(i,!!o.multiple,B,!1):L!==!!o.multiple&&(o.defaultValue!=null?yo(i,!!o.multiple,o.defaultValue,!0):yo(i,!!o.multiple,o.multiple?[]:"",!1))}i[ts]=o}catch(p){St(e,e.return,p)}}break;case 6:if(Vr(t,e),on(e),n&4){if(e.stateNode===null)throw Error(me(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(p){St(e,e.return,p)}}break;case 3:if(Vr(t,e),on(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(t.containerInfo)}catch(p){St(e,e.return,p)}break;case 4:Vr(t,e),on(e);break;case 13:Vr(t,e),on(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lh=Ct())),n&4&&jv(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Vt=(v=Vt)||d,Vr(t,e),Vt=v):Vr(t,e),on(e),n&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!d&&e.mode&1)for(Le=e,d=e.child;d!==null;){for(M=Le=d;Le!==null;){switch(L=Le,B=L.child,L.tag){case 0:case 11:case 14:case 15:Oa(4,L,L.return);break;case 1:ho(L,L.return);var I=L.stateNode;if(typeof I.componentWillUnmount=="function"){n=L,r=L.return;try{t=n,I.props=t.memoizedProps,I.state=t.memoizedState,I.componentWillUnmount()}catch(p){St(n,r,p)}}break;case 5:ho(L,L.return);break;case 22:if(L.memoizedState!==null){Gv(M);continue}}B!==null?(B.return=L,Le=B):Gv(M)}d=d.sibling}e:for(d=null,M=e;;){if(M.tag===5){if(d===null){d=M;try{i=M.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=M.stateNode,a=M.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=g0("display",s))}catch(p){St(e,e.return,p)}}}else if(M.tag===6){if(d===null)try{M.stateNode.nodeValue=v?"":M.memoizedProps}catch(p){St(e,e.return,p)}}else if((M.tag!==22&&M.tag!==23||M.memoizedState===null||M===e)&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===e)break e;for(;M.sibling===null;){if(M.return===null||M.return===e)break e;d===M&&(d=null),M=M.return}d===M&&(d=null),M.sibling.return=M.return,M=M.sibling}}break;case 19:Vr(t,e),on(e),n&4&&jv(e);break;case 21:break;default:Vr(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hy(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Va(i,""),n.flags&=-33);var o=Hv(e);uf(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Hv(e);lf(e,l,s);break;default:throw Error(me(161))}}catch(a){St(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tb(e,t,r){Le=e,Gy(e)}function Gy(e,t,r){for(var n=(e.mode&1)!==0;Le!==null;){var i=Le,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ys;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Vt;l=Ys;var v=Vt;if(Ys=s,(Vt=a)&&!v)for(Le=i;Le!==null;)s=Le,a=s.child,s.tag===22&&s.memoizedState!==null?Yv(i):a!==null?(a.return=s,Le=a):Yv(i);for(;o!==null;)Le=o,Gy(o),o=o.sibling;Le=i,Ys=l,Vt=v}Vv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Le=o):Vv(e)}}function Vv(e){for(;Le!==null;){var t=Le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||Su(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Gr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Av(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Av(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var d=v.memoizedState;if(d!==null){var M=d.dehydrated;M!==null&&Qa(M)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}Vt||t.flags&512&&sf(t)}catch(L){St(t,t.return,L)}}if(t===e){Le=null;break}if(r=t.sibling,r!==null){r.return=t.return,Le=r;break}Le=t.return}}function Gv(e){for(;Le!==null;){var t=Le;if(t===e){Le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Le=r;break}Le=t.return}}function Yv(e){for(;Le!==null;){var t=Le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Su(4,t)}catch(a){St(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){St(t,i,a)}}var o=t.return;try{sf(t)}catch(a){St(t,o,a)}break;case 5:var s=t.return;try{sf(t)}catch(a){St(t,s,a)}}}catch(a){St(t,t.return,a)}if(t===e){Le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Le=l;break}Le=t.return}}var rb=Math.ceil,Ql=wn.ReactCurrentDispatcher,Rh=wn.ReactCurrentOwner,Fr=wn.ReactCurrentBatchConfig,je=0,wt=null,Pt=null,$t=0,mr=0,po=fi(0),Dt=0,ss=null,ki=0,Tu=0,Ph=0,Ma=null,nr=null,Lh=0,ko=1/0,Sn=null,Jl=!1,cf=null,ei=null,Xs=!1,Gn=null,Zl=0,wa=0,df=null,xl=-1,Sl=0;function Qt(){return je&6?Ct():xl!==-1?xl:xl=Ct()}function ti(e){return e.mode&1?je&2&&$t!==0?$t&-$t:U1.transition!==null?(Sl===0&&(Sl=I0()),Sl):(e=et,e!==0||(e=window.event,e=e===void 0?16:N0(e.type)),e):1}function en(e,t,r,n){if(50<wa)throw wa=0,df=null,Error(me(185));Es(e,r,n),(!(je&2)||e!==wt)&&(e===wt&&(!(je&2)&&(Tu|=r),Dt===4&&jn(e,$t)),sr(e,n),r===1&&je===0&&!(t.mode&1)&&(ko=Ct()+500,yu&&hi()))}function sr(e,t){var r=e.callbackNode;UT(e,t);var n=kl(e,e===wt?$t:0);if(n===0)r!==null&&nv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nv(r),t===1)e.tag===0?B1(Xv.bind(null,e)):ry(Xv.bind(null,e)),w1(function(){!(je&6)&&hi()}),r=null;else{switch(D0(n)){case 1:r=eh;break;case 4:r=L0;break;case 16:r=wl;break;case 536870912:r=A0;break;default:r=wl}r=tE(r,Yy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yy(e,t){if(xl=-1,Sl=0,je&6)throw Error(me(327));var r=e.callbackNode;if(bo()&&e.callbackNode!==r)return null;var n=kl(e,e===wt?$t:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ql(e,n);else{t=n;var i=je;je|=2;var o=Qy();(wt!==e||$t!==t)&&(Sn=null,ko=Ct()+500,Pi(e,t));do try{ob();break}catch(l){Xy(e,l)}while(1);hh(),Ql.current=o,je=i,Pt!==null?t=0:(wt=null,$t=0,t=Dt)}if(t!==0){if(t===2&&(i=Nd(e),i!==0&&(n=i,t=ff(e,i))),t===1)throw r=ss,Pi(e,0),jn(e,n),sr(e,Ct()),r;if(t===6)jn(e,n);else{if(i=e.current.alternate,!(n&30)&&!nb(i)&&(t=ql(e,n),t===2&&(o=Nd(e),o!==0&&(n=o,t=ff(e,o))),t===1))throw r=ss,Pi(e,0),jn(e,n),sr(e,Ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(me(345));case 2:yi(e,nr,Sn);break;case 3:if(jn(e,n),(n&130023424)===n&&(t=Lh+500-Ct(),10<t)){if(kl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Qt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jd(yi.bind(null,e,nr,Sn),t);break}yi(e,nr,Sn);break;case 4:if(jn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-qr(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rb(n/1960))-n,10<n){e.timeoutHandle=jd(yi.bind(null,e,nr,Sn),n);break}yi(e,nr,Sn);break;case 5:yi(e,nr,Sn);break;default:throw Error(me(329))}}}return sr(e,Ct()),e.callbackNode===r?Yy.bind(null,e):null}function ff(e,t){var r=Ma;return e.current.memoizedState.isDehydrated&&(Pi(e,t).flags|=256),e=ql(e,t),e!==2&&(t=nr,nr=r,t!==null&&hf(t)),e}function hf(e){nr===null?nr=e:nr.push.apply(nr,e)}function nb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!tn(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Ph,t&=~Tu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function Xv(e){if(je&6)throw Error(me(327));bo();var t=kl(e,0);if(!(t&1))return sr(e,Ct()),null;var r=ql(e,t);if(e.tag!==0&&r===2){var n=Nd(e);n!==0&&(t=n,r=ff(e,n))}if(r===1)throw r=ss,Pi(e,0),jn(e,t),sr(e,Ct()),r;if(r===6)throw Error(me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,nr,Sn),sr(e,Ct()),null}function Ah(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(ko=Ct()+500,yu&&hi())}}function Fi(e){Gn!==null&&Gn.tag===0&&!(je&6)&&bo();var t=je;je|=1;var r=Fr.transition,n=et;try{if(Fr.transition=null,et=1,e)return e()}finally{et=n,Fr.transition=r,je=t,!(je&6)&&hi()}}function Ih(){mr=po.current,lt(po)}function Pi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,M1(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(ch(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$l();break;case 3:Mo(),lt(or),lt(Gt),Eh();break;case 5:yh(n);break;case 4:Mo();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:ph(n.type._context);break;case 22:case 23:Ih()}r=r.return}if(wt=e,Pt=e=ri(e.current,null),$t=mr=t,Dt=0,ss=null,Ph=Tu=ki=0,nr=Ma=null,bi!==null){for(t=0;t<bi.length;t++)if(r=bi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}bi=null}return e}function Xy(e,t){do{var r=Pt;try{if(hh(),gl.current=Xl,Yl){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yl=!1}if(wi=0,Mt=It=vt=null,Da=!1,is=0,Rh.current=null,r===null||r.return===null){Dt=1,ss=t,Pt=null;break}e:{var o=e,s=r.return,l=r,a=t;if(t=$t,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var v=a,d=l,M=d.tag;if(!(d.mode&1)&&(M===0||M===11||M===15)){var L=d.alternate;L?(d.updateQueue=L.updateQueue,d.memoizedState=L.memoizedState,d.lanes=L.lanes):(d.updateQueue=null,d.memoizedState=null)}var B=Fv(s);if(B!==null){B.flags&=-257,Nv(B,s,l,o,t),B.mode&1&&kv(o,v,t),t=B,a=v;var I=t.updateQueue;if(I===null){var p=new Set;p.add(a),t.updateQueue=p}else I.add(a);break e}else{if(!(t&1)){kv(o,v,t),Dh();break e}a=Error(me(426))}}else if(dt&&l.mode&1){var w=Fv(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nv(w,s,l,o,t),dh(wo(a,l));break e}}o=a=wo(a,l),Dt!==4&&(Dt=2),Ma===null?Ma=[o]:Ma.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=Oy(o,a,t);Lv(o,S);break e;case 1:l=a;var E=o.type,u=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ei===null||!ei.has(u)))){o.flags|=65536,t&=-t,o.lanes|=t;var A=My(o,l,t);Lv(o,A);break e}}o=o.return}while(o!==null)}Zy(r)}catch(x){t=x,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(1)}function Qy(){var e=Ql.current;return Ql.current=Xl,e===null?Xl:e}function Dh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),wt===null||!(ki&268435455)&&!(Tu&268435455)||jn(wt,$t)}function ql(e,t){var r=je;je|=2;var n=Qy();(wt!==e||$t!==t)&&(Sn=null,Pi(e,t));do try{ib();break}catch(i){Xy(e,i)}while(1);if(hh(),je=r,Ql.current=n,Pt!==null)throw Error(me(261));return wt=null,$t=0,Dt}function ib(){for(;Pt!==null;)Jy(Pt)}function ob(){for(;Pt!==null&&!IT();)Jy(Pt)}function Jy(e){var t=eE(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?Zy(e):Pt=t,Rh.current=null}function Zy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Z1(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Pt=null;return}}else if(r=J1(r,t,mr),r!==null){Pt=r;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Dt===0&&(Dt=5)}function yi(e,t,r){var n=et,i=Fr.transition;try{Fr.transition=null,et=1,ab(e,t,r,n)}finally{Fr.transition=i,et=n}return null}function ab(e,t,r,n){do bo();while(Gn!==null);if(je&6)throw Error(me(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(me(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if($T(e,o),e===wt&&(Pt=wt=null,$t=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xs||(Xs=!0,tE(wl,function(){return bo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fr.transition,Fr.transition=null;var s=et;et=1;var l=je;je|=4,Rh.current=null,eb(e,r),Vy(r,e),R1(zd),Fl=!!Wd,zd=Wd=null,e.current=r,tb(r),DT(),je=l,et=s,Fr.transition=o}else e.current=r;if(Xs&&(Xs=!1,Gn=e,Zl=i),o=e.pendingLanes,o===0&&(ei=null),wT(r.stateNode),sr(e,Ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Jl)throw Jl=!1,e=cf,cf=null,e;return Zl&1&&e.tag!==0&&bo(),o=e.pendingLanes,o&1?e===df?wa++:(wa=0,df=e):wa=0,hi(),null}function bo(){if(Gn!==null){var e=D0(Zl),t=Fr.transition,r=et;try{if(Fr.transition=null,et=16>e?16:e,Gn===null)var n=!1;else{if(e=Gn,Gn=null,Zl=0,je&6)throw Error(me(331));var i=je;for(je|=4,Le=e.current;Le!==null;){var o=Le,s=o.child;if(Le.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var v=l[a];for(Le=v;Le!==null;){var d=Le;switch(d.tag){case 0:case 11:case 15:Oa(8,d,o)}var M=d.child;if(M!==null)M.return=d,Le=M;else for(;Le!==null;){d=Le;var L=d.sibling,B=d.return;if(zy(d),d===v){Le=null;break}if(L!==null){L.return=B,Le=L;break}Le=B}}}var I=o.alternate;if(I!==null){var p=I.child;if(p!==null){I.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}Le=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Le=s;else e:for(;Le!==null;){if(o=Le,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Le=S;break e}Le=o.return}}var E=e.current;for(Le=E;Le!==null;){s=Le;var u=s.child;if(s.subtreeFlags&2064&&u!==null)u.return=s,Le=u;else e:for(s=E;Le!==null;){if(l=Le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Su(9,l)}}catch(x){St(l,l.return,x)}if(l===s){Le=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,Le=A;break e}Le=l.return}}if(je=i,hi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(hu,e)}catch{}n=!0}return n}finally{et=r,Fr.transition=t}}return!1}function Qv(e,t,r){t=wo(r,t),t=Oy(e,t,1),e=qn(e,t,1),t=Qt(),e!==null&&(Es(e,1,t),sr(e,t))}function St(e,t,r){if(e.tag===3)Qv(e,e,r);else for(;t!==null;){if(t.tag===3){Qv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ei===null||!ei.has(n))){e=wo(r,e),e=My(t,e,1),t=qn(t,e,1),e=Qt(),t!==null&&(Es(t,1,e),sr(t,e));break}}t=t.return}}function sb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qt(),e.pingedLanes|=e.suspendedLanes&r,wt===e&&($t&r)===r&&(Dt===4||Dt===3&&($t&130023424)===$t&&500>Ct()-Lh?Pi(e,0):Ph|=r),sr(e,t)}function qy(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var r=Qt();e=In(e,t),e!==null&&(Es(e,t,r),sr(e,r))}function lb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qy(e,r)}function ub(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(t),qy(e,r)}var eE;eE=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,Q1(e,t,r);ir=!!(e.flags&131072)}else ir=!1,dt&&t.flags&1048576&&ny(t,zl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;El(e,t),e=t.pendingProps;var i=Io(t,Gt.current);To(t,r),i=Sh(null,t,n,e,i,r);var o=Th();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ar(n)?(o=!0,Kl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mh(t),i.updater=Eu,t.stateNode=i,i._reactInternals=t,Zd(t,n,e,r),t=tf(null,t,n,!0,o,r)):(t.tag=0,dt&&o&&uh(t),Xt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(El(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=db(n),e=Gr(n,e),i){case 0:t=ef(null,t,n,e,r);break e;case 1:t=$v(null,t,n,e,r);break e;case 11:t=Bv(null,t,n,e,r);break e;case 14:t=Uv(null,t,n,Gr(n.type,e),r);break e}throw Error(me(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),ef(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),$v(e,t,n,i,r);case 3:e:{if(Ny(t),e===null)throw Error(me(387));n=t.pendingProps,o=t.memoizedState,i=o.element,sy(e,t),Vl(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=wo(Error(me(423)),t),t=Kv(e,t,n,r,i);break e}else if(n!==i){i=wo(Error(me(424)),t),t=Kv(e,t,n,r,i);break e}else for(yr=Zn(t.stateNode.containerInfo.firstChild),Er=t,dt=!0,Qr=null,r=dy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Do(),n===i){t=Dn(e,t,r);break e}Xt(e,t,n,r)}t=t.child}return t;case 5:return fy(t),e===null&&Xd(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Hd(n,i)?s=null:o!==null&&Hd(n,o)&&(t.flags|=32),Fy(e,t),Xt(e,t,s,r),t.child;case 6:return e===null&&Xd(t),null;case 13:return By(e,t,r);case 4:return gh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oo(t,null,n,r):Xt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),Bv(e,t,n,i,r);case 7:return Xt(e,t,t.pendingProps,r),t.child;case 8:return Xt(e,t,t.pendingProps.children,r),t.child;case 12:return Xt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,nt(Hl,n._currentValue),n._currentValue=s,o!==null)if(tn(o.value,s)){if(o.children===i.children&&!or.current){t=Dn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=Rn(-1,r&-r),a.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var d=v.pending;d===null?a.next=a:(a.next=d.next,d.next=a),v.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Qd(o.return,r,t),l.lanes|=r;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(me(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Qd(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,To(t,r),i=Br(i),n=n(i),t.flags|=1,Xt(e,t,n,r),t.child;case 14:return n=t.type,i=Gr(n,t.pendingProps),i=Gr(n.type,i),Uv(e,t,n,i,r);case 15:return wy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Gr(n,i),El(e,t),t.tag=1,ar(n)?(e=!0,Kl(t)):e=!1,To(t,r),uy(t,n,i),Zd(t,n,i,r),tf(null,t,n,!0,e,r);case 19:return Uy(e,t,r);case 22:return ky(e,t,r)}throw Error(me(156,t.tag))};function tE(e,t){return P0(e,t)}function cb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(e,t,r,n){return new cb(e,t,r,n)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function db(e){if(typeof e=="function")return Oh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jf)return 11;if(e===Zf)return 14}return 2}function ri(e,t){var r=e.alternate;return r===null?(r=kr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tl(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Oh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case no:return Li(r.children,i,o,t);case Qf:s=8,i|=8;break;case Td:return e=kr(12,r,t,i|2),e.elementType=Td,e.lanes=o,e;case bd:return e=kr(13,r,t,i),e.elementType=bd,e.lanes=o,e;case Cd:return e=kr(19,r,t,i),e.elementType=Cd,e.lanes=o,e;case c0:return bu(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l0:s=10;break e;case u0:s=9;break e;case Jf:s=11;break e;case Zf:s=14;break e;case Wn:s=16,n=null;break e}throw Error(me(130,e==null?e:typeof e,""))}return t=kr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Li(e,t,r,n){return e=kr(7,e,n,t),e.lanes=r,e}function bu(e,t,r,n){return e=kr(22,e,n,t),e.elementType=c0,e.lanes=r,e.stateNode={isHidden:!1},e}function Qc(e,t,r){return e=kr(6,e,null,t),e.lanes=r,e}function Jc(e,t,r){return t=kr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fb(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dc(0),this.expirationTimes=Dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mh(e,t,r,n,i,o,s,l,a){return e=new fb(e,t,r,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(o),e}function hb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rE(e){if(!e)return ai;e=e._reactInternals;e:{if(Wi(e)!==e||e.tag!==1)throw Error(me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(me(171))}if(e.tag===1){var r=e.type;if(ar(r))return ty(e,r,t)}return t}function nE(e,t,r,n,i,o,s,l,a){return e=Mh(r,n,!0,e,i,o,s,l,a),e.context=rE(null),r=e.current,n=Qt(),i=ti(r),o=Rn(n,i),o.callback=t??null,qn(r,o,i),e.current.lanes=i,Es(e,i,n),sr(e,n),e}function Cu(e,t,r,n){var i=t.current,o=Qt(),s=ti(i);return r=rE(r),t.context===null?t.context=r:t.pendingContext=r,t=Rn(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qn(i,t,s),e!==null&&(en(e,i,s,o),ml(e,i,s)),s}function eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wh(e,t){Jv(e,t),(e=e.alternate)&&Jv(e,t)}function pb(){return null}var iE=typeof reportError=="function"?reportError:function(e){console.error(e)};function kh(e){this._internalRoot=e}_u.prototype.render=kh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(me(409));Cu(e,t,null,null)};_u.prototype.unmount=kh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fi(function(){Cu(null,e,null,null)}),t[An]=null}};function _u(e){this._internalRoot=e}_u.prototype.unstable_scheduleHydration=function(e){if(e){var t=w0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hn.length&&t!==0&&t<Hn[r].priority;r++);Hn.splice(r,0,e),r===0&&F0(e)}};function Fh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function vb(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var v=eu(s);o.call(v)}}var s=nE(t,n,e,0,null,!1,!1,"",Zv);return e._reactRootContainer=s,e[An]=s.current,qa(e.nodeType===8?e.parentNode:e),Fi(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var v=eu(a);l.call(v)}}var a=Mh(e,0,!1,null,null,!1,!1,"",Zv);return e._reactRootContainer=a,e[An]=a.current,qa(e.nodeType===8?e.parentNode:e),Fi(function(){Cu(t,a,r,n)}),a}function Pu(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=eu(s);l.call(a)}}Cu(t,s,e,i)}else s=vb(r,t,e,i,n);return eu(s)}O0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sa(t.pendingLanes);r!==0&&(th(t,r|1),sr(t,Ct()),!(je&6)&&(ko=Ct()+500,hi()))}break;case 13:Fi(function(){var n=In(e,1);if(n!==null){var i=Qt();en(n,e,1,i)}}),wh(e,1)}};rh=function(e){if(e.tag===13){var t=In(e,134217728);if(t!==null){var r=Qt();en(t,e,134217728,r)}wh(e,134217728)}};M0=function(e){if(e.tag===13){var t=ti(e),r=In(e,t);if(r!==null){var n=Qt();en(r,e,t,n)}wh(e,t)}};w0=function(){return et};k0=function(e,t){var r=et;try{return et=e,t()}finally{et=r}};wd=function(e,t,r){switch(t){case"input":if(Pd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=gu(n);if(!i)throw Error(me(90));f0(n),Pd(n,i)}}}break;case"textarea":p0(e,r);break;case"select":t=r.value,t!=null&&yo(e,!!r.multiple,t,!1)}};S0=Ah;T0=Fi;var mb={usingClientEntryPoint:!1,Events:[Ss,so,gu,E0,x0,Ah]},oa={findFiberByHostInstance:Ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gb={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_0(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||pb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{hu=Qs.inject(gb),hn=Qs}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb;br.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(t))throw Error(me(200));return hb(e,t,null,r)};br.createRoot=function(e,t){if(!Fh(e))throw Error(me(299));var r=!1,n="",i=iE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mh(e,1,!1,null,null,r,!1,n,i),e[An]=t.current,qa(e.nodeType===8?e.parentNode:e),new kh(t)};br.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(me(188)):(e=Object.keys(e).join(","),Error(me(268,e)));return e=_0(t),e=e===null?null:e.stateNode,e};br.flushSync=function(e){return Fi(e)};br.hydrate=function(e,t,r){if(!Ru(t))throw Error(me(200));return Pu(null,e,t,!0,r)};br.hydrateRoot=function(e,t,r){if(!Fh(e))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=iE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=nE(t,null,e,1,r??null,i,!1,o,s),e[An]=t.current,qa(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _u(t)};br.render=function(e,t,r){if(!Ru(t))throw Error(me(200));return Pu(null,e,t,!1,r)};br.unmountComponentAtNode=function(e){if(!Ru(e))throw Error(me(40));return e._reactRootContainer?(Fi(function(){Pu(null,null,e,!1,function(){e._reactRootContainer=null,e[An]=null})}),!0):!1};br.unstable_batchedUpdates=Ah;br.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ru(r))throw Error(me(200));if(e==null||e._reactInternals===void 0)throw Error(me(38));return Pu(e,t,r,!1,n)};br.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=br})(pT);const Js=Wf(Lo);var qv=Lo;Ed.createRoot=qv.createRoot,Ed.hydrateRoot=qv.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ze.apply(this,arguments)}var bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bt||(bt={}));const em="popstate";function yb(e){e===void 0&&(e={});function t(i,o){let{pathname:s="/",search:l="",hash:a=""}=xn(i.location.hash.substr(1));return ls("",{pathname:s,search:l,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let a=i.location.href,v=a.indexOf("#");l=v===-1?a:a.slice(0,v)}return l+"#"+(typeof o=="string"?o:Bi(o))}function n(i,o){Ni(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return xb(t,r,n,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Eb(){return Math.random().toString(36).substr(2,8)}function tm(e,t){return{usr:e.state,key:e.key,idx:t}}function ls(e,t,r,n){return r===void 0&&(r=null),ze({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xn(t):t,{state:r,key:t&&t.key||n||Eb()})}function Bi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function xb(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,l=bt.Pop,a=null,v=d();v==null&&(v=0,s.replaceState(ze({},s.state,{idx:v}),""));function d(){return(s.state||{idx:null}).idx}function M(){l=bt.Pop;let w=d(),S=w==null?null:w-v;v=w,a&&a({action:l,location:p.location,delta:S})}function L(w,S){l=bt.Push;let E=ls(p.location,w,S);r&&r(E,w),v=d()+1;let u=tm(E,v),A=p.createHref(E);try{s.pushState(u,"",A)}catch{i.location.assign(A)}o&&a&&a({action:l,location:p.location,delta:1})}function B(w,S){l=bt.Replace;let E=ls(p.location,w,S);r&&r(E,w),v=d();let u=tm(E,v),A=p.createHref(E);s.replaceState(u,"",A),o&&a&&a({action:l,location:p.location,delta:0})}function I(w){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:Bi(w);return Fe(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let p={get action(){return l},get location(){return e(i,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(em,M),a=w,()=>{i.removeEventListener(em,M),a=null}},createHref(w){return t(i,w)},createURL:I,encodeLocation(w){let S=I(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:L,replace:B,go(w){return s.go(w)}};return p}var At;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(At||(At={}));const Sb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Tb(e){return e.index===!0}function oE(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,o)=>{let s=[...r,o],l=typeof i.id=="string"?i.id:s.join("-");if(Fe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Fe(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Tb(i)){let a=ze({},i,{hasErrorBoundary:t(i),id:l});return n[l]=a,a}else{let a=ze({},i,{id:l,hasErrorBoundary:t(i),children:void 0});return n[l]=a,i.children&&(a.children=oE(i.children,t,s,n)),a}})}function vo(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?xn(t):t,i=Lu(n.pathname||"/",r);if(i==null)return null;let o=aE(e);bb(o);let s=null;for(let l=0;s==null&&l<o.length;++l)s=Ob(o[l],kb(i));return s}function aE(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(Fe(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let v=ni([n,a.relativePath]),d=r.concat(a);o.children&&o.children.length>0&&(Fe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),aE(o.children,t,d,v)),!(o.path==null&&!o.index)&&t.push({path:v,score:Ib(v,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of sE(o.path))i(o,s,a)}),t}function sE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=sE(n.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>e.startsWith("/")&&a===""?"/":a)}function bb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Db(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Cb=/^:\w+$/,_b=3,Rb=2,Pb=1,Lb=10,Ab=-2,rm=e=>e==="*";function Ib(e,t){let r=e.split("/"),n=r.length;return r.some(rm)&&(n+=Ab),t&&(n+=Rb),r.filter(i=>!rm(i)).reduce((i,o)=>i+(Cb.test(o)?_b:o===""?Pb:Lb),n)}function Db(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Ob(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],a=s===r.length-1,v=i==="/"?t:t.slice(i.length)||"/",d=Mb({path:l.relativePath,caseSensitive:l.caseSensitive,end:a},v);if(!d)return null;Object.assign(n,d.params);let M=l.route;o.push({params:n,pathname:ni([i,d.pathname]),pathnameBase:Ub(ni([i,d.pathnameBase])),route:M}),d.pathnameBase!=="/"&&(i=ni([i,d.pathnameBase]))}return o}function Mb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wb(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((v,d,M)=>{if(d==="*"){let L=l[M]||"";s=o.slice(0,o.length-L.length).replace(/(.)\/+$/,"$1")}return v[d]=Fb(l[M]||"",d),v},{}),pathname:o,pathnameBase:s,pattern:e}}function wb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,l)=>(n.push(l),"/([^\\/]+)"));return e.endsWith("*")?(n.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function kb(e){try{return decodeURI(e)}catch(t){return Ni(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fb(e,t){try{return decodeURIComponent(e)}catch(r){return Ni(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function Lu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Nb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?xn(e):e;return{pathname:r?r.startsWith("/")?r:Bb(r,t):t,search:$b(n),hash:Kb(i)}}function Bb(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Zc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nh(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function lE(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=xn(e):(i=ze({},e),Fe(!i.pathname||!i.pathname.includes("?"),Zc("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),Zc("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),Zc("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,l;if(n||s==null)l=r;else{let M=t.length-1;if(s.startsWith("..")){let L=s.split("/");for(;L[0]==="..";)L.shift(),M-=1;i.pathname=L.join("/")}l=M>=0?t[M]:"/"}let a=Nb(i,l),v=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(v||d)&&(a.pathname+="/"),a}const ni=e=>e.join("/").replace(/\/\/+/g,"/"),Ub=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class pf extends Error{}class uE{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Fe(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((o,s)=>n=s),this.controller=new AbortController;let i=()=>n(new pf("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((o,s)=>{let[l,a]=s;return Object.assign(o,{[l]:this.trackPromise(l,a)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(i=>this.onSettle(n,t,null,i),i=>this.onSettle(n,t,i));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,i){return this.controller.signal.aborted&&n instanceof pf?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n)):(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,r),i))}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(i=>{this.subscribe(o=>{t.removeEventListener("abort",n),(o||this.done)&&i(o)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Fe(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,i]=r;return Object.assign(t,{[n]:zb(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Wb(e){return e instanceof Promise&&e._tracked===!0}function zb(e){if(!Wb(e))return e;if(e._error)throw e._error;return e._data}const cE=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r;return new uE(t,n)};class Bh{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function dE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fE=["post","put","patch","delete"],Hb=new Set(fE),jb=["get",...fE],Vb=new Set(jb),Gb=new Set([301,302,303,307,308]),Yb=new Set([307,308]),qc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Xb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},nm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qb=!pE,Jb=e=>Boolean(e.hasErrorBoundary);function Zb(e){Fe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=e.detectErrorBoundary||Jb,r={},n=oE(e.routes,t,void 0,r),i,o=null,s=new Set,l=null,a=null,v=null,d=e.hydrationData!=null,M=vo(n,e.history.location,e.basename),L=null;if(M==null){let ee=sn(404,{pathname:e.history.location.pathname}),{matches:J,route:re}=um(n);M=J,L={[re.id]:ee}}let B=!M.some(ee=>ee.route.lazy)&&(!M.some(ee=>ee.route.loader)||e.hydrationData!=null),I,p={historyAction:e.history.action,location:e.history.location,matches:M,initialized:B,navigation:qc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||L,fetchers:new Map,blockers:new Map},w=bt.Pop,S=!1,E,u=!1,A=!1,x=[],h=[],f=new Map,m=0,g=-1,R=new Map,O=new Set,b=new Map,P=new Map,F=new Map,T=!1;function C(){if(o=e.history.listen(re=>{let{action:le,location:se,delta:Ee}=re;if(T){T=!1;return}Ni(F.size===0||Ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=Pe({currentLocation:p.location,nextLocation:se,historyAction:le});if(Ce&&Ee!=null){T=!0,e.history.go(Ee*-1),he(Ce,{state:"blocked",location:se,proceed(){he(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),e.history.go(Ee)},reset(){oe(Ce),c({blockers:new Map(I.state.blockers)})}});return}return U(le,se)}),p.initialized)return I;let ee=p.matches.filter(re=>re.route.lazy);if(ee.length===0)return U(bt.Pop,p.location),I;let J=ee.map(re=>vf(re.route,t,r));return Promise.all(J).then(()=>{!p.matches.some(le=>le.route.loader)||e.hydrationData!=null?c({initialized:!0}):U(bt.Pop,p.location)}),I}function y(){o&&o(),s.clear(),E&&E.abort(),p.fetchers.forEach((ee,J)=>ne(J)),p.blockers.forEach((ee,J)=>oe(J))}function _(ee){return s.add(ee),()=>s.delete(ee)}function c(ee){p=ze({},p,ee),s.forEach(J=>J(p))}function D(ee,J){var re,le;let se=p.actionData!=null&&p.navigation.formMethod!=null&&Tn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((re=ee.state)==null?void 0:re._isRedirect)!==!0,Ee;J.actionData?Object.keys(J.actionData).length>0?Ee=J.actionData:Ee=null:se?Ee=p.actionData:Ee=null;let Ce=J.loaderData?lm(p.loaderData,J.loaderData,J.matches||[],J.errors):p.loaderData;for(let[Re]of F)oe(Re);let _e=S===!0||p.navigation.formMethod!=null&&Tn(p.navigation.formMethod)&&((le=ee.state)==null?void 0:le._isRedirect)!==!0;i&&(n=i,i=void 0),c(ze({},J,{actionData:Ee,loaderData:Ce,historyAction:w,location:ee,initialized:!0,navigation:qc,revalidation:"idle",restoreScrollPosition:Te(ee,J.matches||p.matches),preventScrollReset:_e,blockers:new Map(p.blockers)})),u||w===bt.Pop||(w===bt.Push?e.history.push(ee,ee.state):w===bt.Replace&&e.history.replace(ee,ee.state)),w=bt.Pop,S=!1,u=!1,A=!1,x=[],h=[]}async function N(ee,J){if(typeof ee=="number"){e.history.go(ee);return}let{path:re,submission:le,error:se}=im(ee,J),Ee=p.location,Ce=ls(p.location,re,J&&J.state);Ce=ze({},Ce,e.history.encodeLocation(Ce));let _e=J&&J.replace!=null?J.replace:void 0,Re=bt.Push;_e===!0?Re=bt.Replace:_e===!1||le!=null&&Tn(le.formMethod)&&le.formAction===p.location.pathname+p.location.search&&(Re=bt.Replace);let Ke=J&&"preventScrollReset"in J?J.preventScrollReset===!0:void 0,we=Pe({currentLocation:Ee,nextLocation:Ce,historyAction:Re});if(we){he(we,{state:"blocked",location:Ce,proceed(){he(we,{state:"proceeding",proceed:void 0,reset:void 0,location:Ce}),N(ee,J)},reset(){oe(we),c({blockers:new Map(p.blockers)})}});return}return await U(Re,Ce,{submission:le,pendingError:se,preventScrollReset:Ke,replace:J&&J.replace})}function k(){if(Z(),c({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){U(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}U(w||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function U(ee,J,re){E&&E.abort(),E=null,w=ee,u=(re&&re.startUninterruptedRevalidation)===!0,fe(p.location,p.matches),S=(re&&re.preventScrollReset)===!0;let le=i||n,se=re&&re.overrideNavigation,Ee=vo(le,J,e.basename);if(!Ee){let ke=sn(404,{pathname:J.pathname}),{matches:$e,route:Ye}=um(le);Ae(),D(J,{matches:$e,loaderData:{},errors:{[Ye.id]:ke}});return}if(nC(p.location,J)&&!(re&&re.submission&&Tn(re.submission.formMethod))){D(J,{matches:Ee});return}E=new AbortController;let Ce=sa(e.history,J,E.signal,re&&re.submission),_e,Re;if(re&&re.pendingError)Re={[mo(Ee).route.id]:re.pendingError};else if(re&&re.submission&&Tn(re.submission.formMethod)){let ke=await $(Ce,J,re.submission,Ee,{replace:re.replace});if(ke.shortCircuited)return;_e=ke.pendingActionData,Re=ke.pendingActionError,se=ze({state:"loading",location:J},re.submission),Ce=new Request(Ce.url,{signal:Ce.signal})}let{shortCircuited:Ke,loaderData:we,errors:We}=await K(Ce,J,Ee,se,re&&re.submission,re&&re.replace,_e,Re);Ke||(E=null,D(J,ze({matches:Ee},_e?{actionData:_e}:{},{loaderData:we,errors:We})))}async function $(ee,J,re,le,se){Z();let Ee=ze({state:"submitting",location:J},re);c({navigation:Ee});let Ce,_e=mf(le,J);if(!_e.route.action&&!_e.route.lazy)Ce={type:At.error,error:sn(405,{method:ee.method,pathname:J.pathname,routeId:_e.route.id})};else if(Ce=await aa("action",ee,_e,le,r,t,I.basename),ee.signal.aborted)return{shortCircuited:!0};if(Co(Ce)){let Re;return se&&se.replace!=null?Re=se.replace:Re=Ce.location===p.location.pathname+p.location.search,await X(p,Ce,{submission:re,replace:Re}),{shortCircuited:!0}}if(ka(Ce)){let Re=mo(le,_e.route.id);return(se&&se.replace)!==!0&&(w=bt.Push),{pendingActionData:{},pendingActionError:{[Re.route.id]:Ce.error}}}if(_i(Ce))throw sn(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Ce.data}}}async function K(ee,J,re,le,se,Ee,Ce,_e){let Re=le;Re||(Re=ze({state:"loading",location:J,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},se));let Ke=se||(Re.formMethod&&Re.formAction&&Re.formData&&Re.formEncType?{formMethod:Re.formMethod,formAction:Re.formAction,formData:Re.formData,formEncType:Re.formEncType}:void 0),we=i||n,[We,ke]=om(e.history,p,re,Ke,J,A,x,h,b,we,e.basename,Ce,_e);if(Ae(Qe=>!(re&&re.some(Tt=>Tt.route.id===Qe))||We&&We.some(Tt=>Tt.route.id===Qe)),We.length===0&&ke.length===0)return D(J,ze({matches:re,loaderData:{},errors:_e||null},Ce?{actionData:Ce}:{})),{shortCircuited:!0};if(!u){ke.forEach(Tt=>{let Wt=p.fetchers.get(Tt.key),fr={state:"loading",data:Wt&&Wt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(Tt.key,fr)});let Qe=Ce||p.actionData;c(ze({navigation:Re},Qe?Object.keys(Qe).length===0?{actionData:null}:{actionData:Qe}:{},ke.length>0?{fetchers:new Map(p.fetchers)}:{}))}g=++m,ke.forEach(Qe=>f.set(Qe.key,E));let{results:$e,loaderResults:Ye,fetcherResults:ht}=await Y(p.matches,re,We,ke,ee);if(ee.signal.aborted)return{shortCircuited:!0};ke.forEach(Qe=>f.delete(Qe.key));let Ve=cm($e);if(Ve)return await X(p,Ve,{replace:Ee}),{shortCircuited:!0};let{loaderData:_t,errors:it}=sm(p,re,We,Ye,_e,ke,ht,P);P.forEach((Qe,Tt)=>{Qe.subscribe(Wt=>{(Wt||Qe.done)&&P.delete(Tt)})}),ae();let tr=ge(g);return ze({loaderData:_t,errors:it},tr||ke.length>0?{fetchers:new Map(p.fetchers)}:{})}function W(ee){return p.fetchers.get(ee)||Xb}function z(ee,J,re,le){if(Qb)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");f.has(ee)&&te(ee);let Ee=vo(i||n,re,e.basename);if(!Ee){q(ee,J,sn(404,{pathname:re}));return}let{path:Ce,submission:_e}=im(re,le,!0),Re=mf(Ee,Ce);if(S=(le&&le.preventScrollReset)===!0,_e&&Tn(_e.formMethod)){H(ee,J,Ce,Re,Ee,_e);return}b.set(ee,{routeId:J,path:Ce}),G(ee,J,Ce,Re,Ee,_e)}async function H(ee,J,re,le,se,Ee){if(Z(),b.delete(ee),!le.route.action&&!le.route.lazy){let gt=sn(405,{method:Ee.formMethod,pathname:re,routeId:J});q(ee,J,gt);return}let Ce=p.fetchers.get(ee),_e=ze({state:"submitting"},Ee,{data:Ce&&Ce.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(ee,_e),c({fetchers:new Map(p.fetchers)});let Re=new AbortController,Ke=sa(e.history,re,Re.signal,Ee);f.set(ee,Re);let we=await aa("action",Ke,le,se,r,t,I.basename);if(Ke.signal.aborted){f.get(ee)===Re&&f.delete(ee);return}if(Co(we)){f.delete(ee),O.add(ee);let gt=ze({state:"loading"},Ee,{data:void 0," _hasFetcherDoneAnything ":!0});return p.fetchers.set(ee,gt),c({fetchers:new Map(p.fetchers)}),X(p,we,{isFetchActionRedirect:!0})}if(ka(we)){q(ee,J,we.error);return}if(_i(we))throw sn(400,{type:"defer-action"});let We=p.navigation.location||p.location,ke=sa(e.history,We,Re.signal),$e=i||n,Ye=p.navigation.state!=="idle"?vo($e,p.navigation.location,e.basename):p.matches;Fe(Ye,"Didn't find any matches after fetcher action");let ht=++m;R.set(ee,ht);let Ve=ze({state:"loading",data:we.data},Ee,{" _hasFetcherDoneAnything ":!0});p.fetchers.set(ee,Ve);let[_t,it]=om(e.history,p,Ye,Ee,We,A,x,h,b,$e,e.basename,{[le.route.id]:we.data},void 0);it.filter(gt=>gt.key!==ee).forEach(gt=>{let jr=gt.key,ut=p.fetchers.get(jr),Ar={state:"loading",data:ut&&ut.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(jr,Ar),f.set(jr,Re)}),c({fetchers:new Map(p.fetchers)});let{results:tr,loaderResults:Qe,fetcherResults:Tt}=await Y(p.matches,Ye,_t,it,ke);if(Re.signal.aborted)return;R.delete(ee),f.delete(ee),it.forEach(gt=>f.delete(gt.key));let Wt=cm(tr);if(Wt)return X(p,Wt);let{loaderData:fr,errors:hr}=sm(p,p.matches,_t,Qe,void 0,it,Tt,P),Hr={state:"idle",data:we.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(ee,Hr);let Ft=ge(ht);p.navigation.state==="loading"&&ht>g?(Fe(w,"Expected pending action"),E&&E.abort(),D(p.navigation.location,{matches:Ye,loaderData:fr,errors:hr,fetchers:new Map(p.fetchers)})):(c(ze({errors:hr,loaderData:lm(p.loaderData,fr,Ye,hr)},Ft?{fetchers:new Map(p.fetchers)}:{})),A=!1)}async function G(ee,J,re,le,se,Ee){let Ce=p.fetchers.get(ee),_e=ze({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Ee,{data:Ce&&Ce.data," _hasFetcherDoneAnything ":!0});p.fetchers.set(ee,_e),c({fetchers:new Map(p.fetchers)});let Re=new AbortController,Ke=sa(e.history,re,Re.signal);f.set(ee,Re);let we=await aa("loader",Ke,le,se,r,t,I.basename);if(_i(we)&&(we=await yE(we,Ke.signal,!0)||we),f.get(ee)===Re&&f.delete(ee),Ke.signal.aborted)return;if(Co(we)){await X(p,we);return}if(ka(we)){let ke=mo(p.matches,J);p.fetchers.delete(ee),c({fetchers:new Map(p.fetchers),errors:{[ke.route.id]:we.error}});return}Fe(!_i(we),"Unhandled fetcher deferred data");let We={state:"idle",data:we.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(ee,We),c({fetchers:new Map(p.fetchers)})}async function X(ee,J,re){var le;let{submission:se,replace:Ee,isFetchActionRedirect:Ce}=re===void 0?{}:re;J.revalidate&&(A=!0);let _e=ls(ee.location,J.location,ze({_isRedirect:!0},Ce?{_isFetchActionRedirect:!0}:{}));if(Fe(_e,"Expected a location on the redirect navigation"),hE.test(J.location)&&pE&&typeof((le=window)==null?void 0:le.location)<"u"){let $e=e.history.createURL(J.location),Ye=Lu($e.pathname,e.basename||"/")==null;if(window.location.origin!==$e.origin||Ye){Ee?window.location.replace(J.location):window.location.assign(J.location);return}}E=null;let Re=Ee===!0?bt.Replace:bt.Push,{formMethod:Ke,formAction:we,formEncType:We,formData:ke}=ee.navigation;!se&&Ke&&we&&ke&&We&&(se={formMethod:Ke,formAction:we,formEncType:We,formData:ke}),Yb.has(J.status)&&se&&Tn(se.formMethod)?await U(Re,_e,{submission:ze({},se,{formAction:J.location}),preventScrollReset:S}):await U(Re,_e,{overrideNavigation:{state:"loading",location:_e,formMethod:se?se.formMethod:void 0,formAction:se?se.formAction:void 0,formEncType:se?se.formEncType:void 0,formData:se?se.formData:void 0},preventScrollReset:S})}async function Y(ee,J,re,le,se){let Ee=await Promise.all([...re.map(Re=>aa("loader",se,Re,J,r,t,I.basename)),...le.map(Re=>Re.matches&&Re.match?aa("loader",sa(e.history,Re.path,se.signal),Re.match,Re.matches,r,t,I.basename):{type:At.error,error:sn(404,{pathname:Re.path})})]),Ce=Ee.slice(0,re.length),_e=Ee.slice(re.length);return await Promise.all([dm(ee,re,Ce,se.signal,!1,p.loaderData),dm(ee,le.map(Re=>Re.match),_e,se.signal,!0)]),{results:Ee,loaderResults:Ce,fetcherResults:_e}}function Z(){A=!0,x.push(...Ae()),b.forEach((ee,J)=>{f.has(J)&&(h.push(J),te(J))})}function q(ee,J,re){let le=mo(p.matches,J);ne(ee),c({errors:{[le.route.id]:re},fetchers:new Map(p.fetchers)})}function ne(ee){f.has(ee)&&te(ee),b.delete(ee),R.delete(ee),O.delete(ee),p.fetchers.delete(ee)}function te(ee){let J=f.get(ee);Fe(J,"Expected fetch controller: "+ee),J.abort(),f.delete(ee)}function ie(ee){for(let J of ee){let le={state:"idle",data:W(J).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};p.fetchers.set(J,le)}}function ae(){let ee=[];for(let J of O){let re=p.fetchers.get(J);Fe(re,"Expected fetcher: "+J),re.state==="loading"&&(O.delete(J),ee.push(J))}ie(ee)}function ge(ee){let J=[];for(let[re,le]of R)if(le<ee){let se=p.fetchers.get(re);Fe(se,"Expected fetcher: "+re),se.state==="loading"&&(te(re),R.delete(re),J.push(re))}return ie(J),J.length>0}function de(ee,J){let re=p.blockers.get(ee)||nm;return F.get(ee)!==J&&F.set(ee,J),re}function oe(ee){p.blockers.delete(ee),F.delete(ee)}function he(ee,J){let re=p.blockers.get(ee)||nm;Fe(re.state==="unblocked"&&J.state==="blocked"||re.state==="blocked"&&J.state==="blocked"||re.state==="blocked"&&J.state==="proceeding"||re.state==="blocked"&&J.state==="unblocked"||re.state==="proceeding"&&J.state==="unblocked","Invalid blocker state transition: "+re.state+" -> "+J.state),p.blockers.set(ee,J),c({blockers:new Map(p.blockers)})}function Pe(ee){let{currentLocation:J,nextLocation:re,historyAction:le}=ee;if(F.size===0)return;F.size>1&&Ni(!1,"A router only supports one blocker at a time");let se=Array.from(F.entries()),[Ee,Ce]=se[se.length-1],_e=p.blockers.get(Ee);if(!(_e&&_e.state==="proceeding")&&Ce({currentLocation:J,nextLocation:re,historyAction:le}))return Ee}function Ae(ee){let J=[];return P.forEach((re,le)=>{(!ee||ee(le))&&(re.cancel(),J.push(le),P.delete(le))}),J}function ce(ee,J,re){if(l=ee,v=J,a=re||(le=>le.key),!d&&p.navigation===qc){d=!0;let le=Te(p.location,p.matches);le!=null&&c({restoreScrollPosition:le})}return()=>{l=null,v=null,a=null}}function fe(ee,J){if(l&&a&&v){let re=J.map(se=>fm(se,p.loaderData)),le=a(ee,re)||ee.key;l[le]=v()}}function Te(ee,J){if(l&&a&&v){let re=J.map(Ee=>fm(Ee,p.loaderData)),le=a(ee,re)||ee.key,se=l[le];if(typeof se=="number")return se}return null}function xe(ee){i=ee}return I={get basename(){return e.basename},get state(){return p},get routes(){return n},initialize:C,subscribe:_,enableScrollRestoration:ce,navigate:N,fetch:z,revalidate:k,createHref:ee=>e.history.createHref(ee),encodeLocation:ee=>e.history.encodeLocation(ee),getFetcher:W,deleteFetcher:ne,dispose:y,getBlocker:de,deleteBlocker:oe,_internalFetchControllers:f,_internalActiveDeferreds:P,_internalSetRoutes:xe},I}function qb(e){return e!=null&&"formData"in e}function im(e,t,r){r===void 0&&(r=!1);let n=typeof e=="string"?e:Bi(e);if(!t||!qb(t))return{path:n};if(t.formMethod&&!oC(t.formMethod))return{path:n,error:sn(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:gE(n),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},Tn(i.formMethod)))return{path:n,submission:i};let o=xn(n),s=mE(t.formData);return r&&o.search&&EE(o.search)&&s.append("index",""),o.search="?"+s,{path:Bi(o),submission:i}}function eC(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function om(e,t,r,n,i,o,s,l,a,v,d,M,L){let B=L?Object.values(L)[0]:M?Object.values(M)[0]:void 0,I=e.createURL(t.location),p=e.createURL(i),w=o||I.toString()===p.toString()||I.search!==p.search,S=L?Object.keys(L)[0]:void 0,u=eC(r,S).filter((x,h)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(tC(t.loaderData,t.matches[h],x)||s.some(g=>g===x.route.id))return!0;let f=t.matches[h],m=x;return am(x,ze({currentUrl:I,currentParams:f.params,nextUrl:p,nextParams:m.params},n,{actionResult:B,defaultShouldRevalidate:w||vE(f,m)}))}),A=[];return a.forEach((x,h)=>{if(!r.some(R=>R.route.id===x.routeId))return;let f=vo(v,x.path,d);if(!f){A.push(ze({key:h},x,{matches:null,match:null}));return}let m=mf(f,x.path);if(l.includes(h)){A.push(ze({key:h,matches:f,match:m},x));return}am(m,ze({currentUrl:I,currentParams:t.matches[t.matches.length-1].params,nextUrl:p,nextParams:r[r.length-1].params},n,{actionResult:B,defaultShouldRevalidate:w}))&&A.push(ze({key:h,matches:f,match:m},x))}),[u,A]}function tC(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function vE(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function am(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function vf(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];Fe(i,"No route found in manifest");let o={};for(let s in n){let a=i[s]!==void 0&&s!=="hasErrorBoundary";Ni(!a,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!a&&!Sb.has(s)&&(o[s]=n[s])}Object.assign(i,o),Object.assign(i,{hasErrorBoundary:t(ze({},i)),lazy:void 0})}async function aa(e,t,r,n,i,o,s,l,a,v){s===void 0&&(s="/"),l===void 0&&(l=!1),a===void 0&&(a=!1);let d,M,L,B=w=>{let S,E=new Promise((u,A)=>S=A);return L=()=>S(),t.signal.addEventListener("abort",L),Promise.race([w({request:t,params:r.params,context:v}),E])};try{let w=r.route[e];if(r.route.lazy)if(w)M=(await Promise.all([B(w),vf(r.route,o,i)]))[0];else if(await vf(r.route,o,i),w=r.route[e],w)M=await B(w);else{if(e==="action")throw sn(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:r.route.id});return{type:At.data,data:void 0}}else Fe(w,"Could not find the "+e+' to run on the "'+r.route.id+'" route'),M=await B(w);Fe(M!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){d=At.error,M=w}finally{L&&t.signal.removeEventListener("abort",L)}if(iC(M)){let w=M.status;if(Gb.has(w)){let u=M.headers.get("Location");if(Fe(u,"Redirects returned/thrown from loaders/actions must have a Location header"),hE.test(u)){if(!l){let A=new URL(t.url),x=u.startsWith("//")?new URL(A.protocol+u):new URL(u),h=Lu(x.pathname,s)!=null;x.origin===A.origin&&h&&(u=x.pathname+x.search+x.hash)}}else{let A=n.slice(0,n.indexOf(r)+1),x=Nh(A).map(f=>f.pathnameBase),h=lE(u,x,new URL(t.url).pathname);if(Fe(Bi(h),"Unable to resolve redirect location: "+u),s){let f=h.pathname;h.pathname=f==="/"?s:ni([s,f])}u=Bi(h)}if(l)throw M.headers.set("Location",u),M;return{type:At.redirect,status:w,location:u,revalidate:M.headers.get("X-Remix-Revalidate")!==null}}if(a)throw{type:d||At.data,response:M};let S,E=M.headers.get("Content-Type");return E&&/\bapplication\/json\b/.test(E)?S=await M.json():S=await M.text(),d===At.error?{type:d,error:new Bh(w,M.statusText,S),headers:M.headers}:{type:At.data,data:S,statusCode:M.status,headers:M.headers}}if(d===At.error)return{type:d,error:M};if(M instanceof uE){var I,p;return{type:At.deferred,deferredData:M,statusCode:(I=M.init)==null?void 0:I.status,headers:((p=M.init)==null?void 0:p.headers)&&new Headers(M.init.headers)}}return{type:At.data,data:M}}function sa(e,t,r,n){let i=e.createURL(gE(t)).toString(),o={signal:r};if(n&&Tn(n.formMethod)){let{formMethod:s,formEncType:l,formData:a}=n;o.method=s.toUpperCase(),o.body=l==="application/x-www-form-urlencoded"?mE(a):a}return new Request(i,o)}function mE(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,n instanceof File?n.name:n);return t}function rC(e,t,r,n,i){let o={},s=null,l,a=!1,v={};return r.forEach((d,M)=>{let L=t[M].route.id;if(Fe(!Co(d),"Cannot handle redirect results in processLoaderData"),ka(d)){let B=mo(e,L),I=d.error;n&&(I=Object.values(n)[0],n=void 0),s=s||{},s[B.route.id]==null&&(s[B.route.id]=I),o[L]=void 0,a||(a=!0,l=dE(d.error)?d.error.status:500),d.headers&&(v[L]=d.headers)}else _i(d)?(i.set(L,d.deferredData),o[L]=d.deferredData.data):o[L]=d.data,d.statusCode!=null&&d.statusCode!==200&&!a&&(l=d.statusCode),d.headers&&(v[L]=d.headers)}),n&&(s=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:s,statusCode:l||200,loaderHeaders:v}}function sm(e,t,r,n,i,o,s,l){let{loaderData:a,errors:v}=rC(t,r,n,i,l);for(let d=0;d<o.length;d++){let{key:M,match:L}=o[d];Fe(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let B=s[d];if(ka(B)){let I=mo(e.matches,L==null?void 0:L.route.id);v&&v[I.route.id]||(v=ze({},v,{[I.route.id]:B.error})),e.fetchers.delete(M)}else if(Co(B))Fe(!1,"Unhandled fetcher revalidation redirect");else if(_i(B))Fe(!1,"Unhandled fetcher deferred data");else{let I={state:"idle",data:B.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(M,I)}}return{loaderData:a,errors:v}}function lm(e,t,r,n){let i=ze({},t);for(let o of r){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),n&&n.hasOwnProperty(s))break}return i}function mo(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function um(e){let t=e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function sn(e,t){let{pathname:r,routeId:n,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"&&(l="defer() is not supported in actions")):e===403?(s="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):e===404?(s="Not Found",l='No route matches URL "'+r+'"'):e===405&&(s="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Bh(e||500,s,new Error(l),!0)}function cm(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Co(r))return r}}function gE(e){let t=typeof e=="string"?xn(e):e;return Bi(ze({},t,{hash:""}))}function nC(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function _i(e){return e.type===At.deferred}function ka(e){return e.type===At.error}function Co(e){return(e&&e.type)===At.redirect}function iC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function oC(e){return Vb.has(e)}function Tn(e){return Hb.has(e)}async function dm(e,t,r,n,i,o){for(let s=0;s<r.length;s++){let l=r[s],a=t[s];if(!a)continue;let v=e.find(M=>M.route.id===a.route.id),d=v!=null&&!vE(v,a)&&(o&&o[a.route.id])!==void 0;_i(l)&&(i||d)&&await yE(l,n,i).then(M=>{M&&(r[s]=M||r[s])})}}async function yE(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:At.data,data:e.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:e.deferredData.data}}}function EE(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function fm(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function mf(e,t){let r=typeof t=="string"?xn(t).search:t.search;if(e[e.length-1].route.index&&EE(r||""))return e[e.length-1];let n=Nh(e);return n[n.length-1]}/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const sC=typeof Object.is=="function"?Object.is:aC,{useState:lC,useEffect:uC,useLayoutEffect:cC,useDebugValue:dC}=Di;function fC(e,t,r){const n=t(),[{inst:i},o]=lC({inst:{value:n,getSnapshot:t}});return cC(()=>{i.value=n,i.getSnapshot=t,ed(i)&&o({inst:i})},[e,n,t]),uC(()=>(ed(i)&&o({inst:i}),e(()=>{ed(i)&&o({inst:i})})),[e]),dC(n),n}function ed(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!sC(r,n)}catch{return!0}}function hC(e,t,r){return t()}const pC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vC=!pC,mC=vC?hC:fC,gC="useSyncExternalStore"in Di?(e=>e.useSyncExternalStore)(Di):mC,Uh=j.createContext(null),$h=j.createContext(null),tu=j.createContext(null),Kh=j.createContext(null),Au=j.createContext(null),zi=j.createContext({outlet:null,matches:[]}),xE=j.createContext(null);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(this,arguments)}function Iu(){return j.useContext(Au)!=null}function SE(){return Iu()||Fe(!1),j.useContext(Au).location}function TE(){Iu()||Fe(!1);let{basename:e,navigator:t}=j.useContext(Kh),{matches:r}=j.useContext(zi),{pathname:n}=SE(),i=JSON.stringify(Nh(r).map(l=>l.pathnameBase)),o=j.useRef(!1);return j.useEffect(()=>{o.current=!0}),j.useCallback(function(l,a){if(a===void 0&&(a={}),!o.current)return;if(typeof l=="number"){t.go(l);return}let v=lE(l,JSON.parse(i),n,a.relative==="path");e!=="/"&&(v.pathname=v.pathname==="/"?e:ni([e,v.pathname])),(a.replace?t.replace:t.push)(v,a.state,a)},[e,t,i,n])}const yC=j.createContext(null);function EC(e){let t=j.useContext(zi).outlet;return t&&j.createElement(yC.Provider,{value:e},t)}function bE(){let{matches:e}=j.useContext(zi),t=e[e.length-1];return t?t.params:{}}function xC(e,t){Iu()||Fe(!1);let{navigator:r}=j.useContext(Kh),n=j.useContext($h),{matches:i}=j.useContext(zi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let a=SE(),v;if(t){var d;let p=typeof t=="string"?xn(t):t;l==="/"||(d=p.pathname)!=null&&d.startsWith(l)||Fe(!1),v=p}else v=a;let M=v.pathname||"/",L=l==="/"?M:M.slice(l.length)||"/",B=vo(e,{pathname:L}),I=CC(B&&B.map(p=>Object.assign({},p,{params:Object.assign({},s,p.params),pathname:ni([l,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:ni([l,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,n||void 0);return t&&I?j.createElement(Au.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:bt.Pop}},I):I}function SC(){let e=PE(),t=dE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,o)}class TC extends j.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location?{error:t.error,location:t.location}:{error:t.error||r.error,location:r.location}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?j.createElement(zi.Provider,{value:this.props.routeContext},j.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bC(e){let{routeContext:t,match:r,children:n}=e,i=j.useContext(Uh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(zi.Provider,{value:t},n)}function CC(e,t,r){if(t===void 0&&(t=[]),e==null)if(r!=null&&r.errors)e=r.matches;else return null;let n=e,i=r==null?void 0:r.errors;if(i!=null){let o=n.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||Fe(!1),n=n.slice(0,Math.min(n.length,o+1))}return n.reduceRight((o,s,l)=>{let a=s.route.id?i==null?void 0:i[s.route.id]:null,v=null;r&&(s.route.ErrorBoundary?v=j.createElement(s.route.ErrorBoundary,null):s.route.errorElement?v=s.route.errorElement:v=j.createElement(SC,null));let d=t.concat(n.slice(0,l+1)),M=()=>{let L=o;return a?L=v:s.route.Component?L=j.createElement(s.route.Component,null):s.route.element&&(L=s.route.element),j.createElement(bC,{match:s,routeContext:{outlet:o,matches:d},children:L})};return r&&(s.route.ErrorBoundary||s.route.errorElement||l===0)?j.createElement(TC,{location:r.location,component:v,error:a,children:M(),routeContext:{outlet:null,matches:d}}):M()},null)}var hm;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(hm||(hm={}));var Fo;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(Fo||(Fo={}));function CE(e){let t=j.useContext($h);return t||Fe(!1),t}function _C(e){let t=j.useContext(zi);return t||Fe(!1),t}function _E(e){let t=_C(),r=t.matches[t.matches.length-1];return r.route.id||Fe(!1),r.route.id}function RE(){let e=CE(Fo.UseLoaderData),t=_E(Fo.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function PE(){var e;let t=j.useContext(xE),r=CE(Fo.UseRouteError),n=_E(Fo.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}function Du(){let e=j.useContext(tu);return e==null?void 0:e._data}function RC(){let e=j.useContext(tu);return e==null?void 0:e._error}function PC(e){let{fallbackElement:t,router:r}=e,n=j.useCallback(()=>r.state,[r]),i=gC(r.subscribe,n,n),o=j.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:a=>r.navigate(a),push:(a,v,d)=>r.navigate(a,{state:v,preventScrollReset:d==null?void 0:d.preventScrollReset}),replace:(a,v,d)=>r.navigate(a,{replace:!0,state:v,preventScrollReset:d==null?void 0:d.preventScrollReset})}),[r]),s=r.basename||"/",l=j.useMemo(()=>({router:r,navigator:o,static:!1,basename:s}),[r,o,s]);return j.createElement(j.Fragment,null,j.createElement(Uh.Provider,{value:l},j.createElement($h.Provider,{value:i},j.createElement(AC,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:o},r.state.initialized?j.createElement(IC,null):t))),null)}function LE(e){return EC(e.context)}function LC(e){Fe(!1)}function AC(e){let{basename:t="/",children:r=null,location:n,navigationType:i=bt.Pop,navigator:o,static:s=!1}=e;Iu()&&Fe(!1);let l=t.replace(/^\/*/,"/"),a=j.useMemo(()=>({basename:l,navigator:o,static:s}),[l,o,s]);typeof n=="string"&&(n=xn(n));let{pathname:v="/",search:d="",hash:M="",state:L=null,key:B="default"}=n,I=j.useMemo(()=>{let p=Lu(v,l);return p==null?null:{location:{pathname:p,search:d,hash:M,state:L,key:B},navigationType:i}},[l,v,d,M,L,B,i]);return I==null?null:j.createElement(Kh.Provider,{value:a},j.createElement(Au.Provider,{children:r,value:I}))}function IC(e){let{children:t,location:r}=e,n=j.useContext(Uh),i=n&&!t?n.router.routes:yf(t);return xC(i,r)}function AE(e){let{children:t,errorElement:r,resolve:n}=e;return j.createElement(OC,{resolve:n,errorElement:r},j.createElement(MC,null,t))}var vr;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(vr||(vr={}));const DC=new Promise(()=>{});class OC extends j.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,r){console.error("<Await> caught the following error during render",t,r)}render(){let{children:t,errorElement:r,resolve:n}=this.props,i=null,o=vr.pending;if(!(n instanceof Promise))o=vr.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});else if(this.state.error){o=vr.error;let s=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>s})}else n._tracked?(i=n,o=i._error!==void 0?vr.error:i._data!==void 0?vr.success:vr.pending):(o=vr.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),i=n.then(s=>Object.defineProperty(n,"_data",{get:()=>s}),s=>Object.defineProperty(n,"_error",{get:()=>s})));if(o===vr.error&&i._error instanceof pf)throw DC;if(o===vr.error&&!r)throw i._error;if(o===vr.error)return j.createElement(tu.Provider,{value:i,children:r});if(o===vr.success)return j.createElement(tu.Provider,{value:i,children:t});throw i}}function MC(e){let{children:t}=e,r=Du(),n=typeof t=="function"?t(r):t;return j.createElement(j.Fragment,null,n)}function yf(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,i)=>{if(!j.isValidElement(n))return;if(n.type===j.Fragment){r.push.apply(r,yf(n.props.children,t));return}n.type!==LC&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let o=[...t,i],s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=yf(n.props.children,o)),r.push(s)}),r}function wC(e){return Boolean(e.ErrorBoundary)||Boolean(e.errorElement)}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function kC(e,t){return Zb({basename:t==null?void 0:t.basename,history:yb({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||FC(),routes:e,detectErrorBoundary:wC}).initialize()}function FC(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ef({},t,{errors:NC(t.errors)})),t}function NC(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new Bh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let o=new Error(i.message);o.stack="",r[n]=o}else r[n]=i;return r}var pm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(pm||(pm={}));var vm;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vm||(vm={}));const IE=e=>({...e,launchDate:new Date(e.launchDate)});function DE(e,t){return function(){return e.apply(t,arguments)}}const{toString:OE}=Object.prototype,{getPrototypeOf:Wh}=Object,zh=(e=>t=>{const r=OE.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kn=e=>(e=e.toLowerCase(),t=>zh(t)===e),Ou=e=>t=>typeof t===e,{isArray:Go}=Array,us=Ou("undefined");function BC(e){return e!==null&&!us(e)&&e.constructor!==null&&!us(e.constructor)&&si(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ME=kn("ArrayBuffer");function UC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ME(e.buffer),t}const $C=Ou("string"),si=Ou("function"),wE=Ou("number"),Hh=e=>e!==null&&typeof e=="object",KC=e=>e===!0||e===!1,bl=e=>{if(zh(e)!=="object")return!1;const t=Wh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},WC=kn("Date"),zC=kn("File"),HC=kn("Blob"),jC=kn("FileList"),VC=e=>Hh(e)&&si(e.pipe),GC=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||OE.call(e)===t||si(e.toString)&&e.toString()===t)},YC=kn("URLSearchParams"),XC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bs(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Go(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let l;for(n=0;n<s;n++)l=o[n],t.call(null,e[l],l,e)}}function kE(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const FE=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),NE=e=>!us(e)&&e!==FE;function xf(){const{caseless:e}=NE(this)&&this||{},t={},r=(n,i)=>{const o=e&&kE(t,i)||i;bl(t[o])&&bl(n)?t[o]=xf(t[o],n):bl(n)?t[o]=xf({},n):Go(n)?t[o]=n.slice():t[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&bs(arguments[n],r);return t}const QC=(e,t,r,{allOwnKeys:n}={})=>(bs(t,(i,o)=>{r&&si(i)?e[o]=DE(i,r):e[o]=i},{allOwnKeys:n}),e),JC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZC=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},qC=(e,t,r,n)=>{let i,o,s;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!n||n(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=r!==!1&&Wh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},e_=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},t_=e=>{if(!e)return null;if(Go(e))return e;let t=e.length;if(!wE(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},r_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wh(Uint8Array)),n_=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},i_=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},o_=kn("HTMLFormElement"),a_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),mm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),s_=kn("RegExp"),BE=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};bs(r,(i,o)=>{t(i,o,e)!==!1&&(n[o]=i)}),Object.defineProperties(e,n)},l_=e=>{BE(e,(t,r)=>{if(si(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(si(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},u_=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Go(e)?n(e):n(String(e).split(t)),r},c_=()=>{},d_=(e,t)=>(e=+e,Number.isFinite(e)?e:t),td="abcdefghijklmnopqrstuvwxyz",gm="0123456789",UE={DIGIT:gm,ALPHA:td,ALPHA_DIGIT:td+td.toUpperCase()+gm},f_=(e=16,t=UE.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function h_(e){return!!(e&&si(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const p_=e=>{const t=new Array(10),r=(n,i)=>{if(Hh(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const o=Go(n)?[]:{};return bs(n,(s,l)=>{const a=r(s,i+1);!us(a)&&(o[l]=a)}),t[i]=void 0,o}}return n};return r(e,0)},ue={isArray:Go,isArrayBuffer:ME,isBuffer:BC,isFormData:GC,isArrayBufferView:UC,isString:$C,isNumber:wE,isBoolean:KC,isObject:Hh,isPlainObject:bl,isUndefined:us,isDate:WC,isFile:zC,isBlob:HC,isRegExp:s_,isFunction:si,isStream:VC,isURLSearchParams:YC,isTypedArray:r_,isFileList:jC,forEach:bs,merge:xf,extend:QC,trim:XC,stripBOM:JC,inherits:ZC,toFlatObject:qC,kindOf:zh,kindOfTest:kn,endsWith:e_,toArray:t_,forEachEntry:n_,matchAll:i_,isHTMLForm:o_,hasOwnProperty:mm,hasOwnProp:mm,reduceDescriptors:BE,freezeMethods:l_,toObjectSet:u_,toCamelCase:a_,noop:c_,toFiniteNumber:d_,findKey:kE,global:FE,isContextDefined:NE,ALPHABET:UE,generateString:f_,isSpecCompliantForm:h_,toJSONObject:p_};function He(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}ue.inherits(He,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $E=He.prototype,KE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{KE[e]={value:e}});Object.defineProperties(He,KE);Object.defineProperty($E,"isAxiosError",{value:!0});He.from=(e,t,r,n,i,o)=>{const s=Object.create($E);return ue.toFlatObject(e,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),He.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const v_=null;function Sf(e){return ue.isPlainObject(e)||ue.isArray(e)}function WE(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function ym(e,t,r){return e?e.concat(t).map(function(i,o){return i=WE(i),!r&&o?"["+i+"]":i}).join(r?".":""):t}function m_(e){return ue.isArray(e)&&!e.some(Sf)}const g_=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Mu(e,t,r){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ue.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!ue.isUndefined(w[p])});const n=r.metaTokens,i=r.visitor||d,o=r.dots,s=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(i))throw new TypeError("visitor must be a function");function v(I){if(I===null)return"";if(ue.isDate(I))return I.toISOString();if(!a&&ue.isBlob(I))throw new He("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(I)||ue.isTypedArray(I)?a&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function d(I,p,w){let S=I;if(I&&!w&&typeof I=="object"){if(ue.endsWith(p,"{}"))p=n?p:p.slice(0,-2),I=JSON.stringify(I);else if(ue.isArray(I)&&m_(I)||(ue.isFileList(I)||ue.endsWith(p,"[]"))&&(S=ue.toArray(I)))return p=WE(p),S.forEach(function(u,A){!(ue.isUndefined(u)||u===null)&&t.append(s===!0?ym([p],A,o):s===null?p:p+"[]",v(u))}),!1}return Sf(I)?!0:(t.append(ym(w,p,o),v(I)),!1)}const M=[],L=Object.assign(g_,{defaultVisitor:d,convertValue:v,isVisitable:Sf});function B(I,p){if(!ue.isUndefined(I)){if(M.indexOf(I)!==-1)throw Error("Circular reference detected in "+p.join("."));M.push(I),ue.forEach(I,function(S,E){(!(ue.isUndefined(S)||S===null)&&i.call(t,S,ue.isString(E)?E.trim():E,p,L))===!0&&B(S,p?p.concat(E):[E])}),M.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return B(e),t}function Em(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function jh(e,t){this._pairs=[],e&&Mu(e,this,t)}const zE=jh.prototype;zE.append=function(t,r){this._pairs.push([t,r])};zE.toString=function(t){const r=t?function(n){return t.call(this,n,Em)}:Em;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function y_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HE(e,t,r){if(!t)return e;const n=r&&r.encode||y_,i=r&&r.serialize;let o;if(i?o=i(t,r):o=ue.isURLSearchParams(t)?t.toString():new jh(t,r).toString(n),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class E_{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(n){n!==null&&t(n)})}}const xm=E_,jE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x_=typeof URLSearchParams<"u"?URLSearchParams:jh,S_=typeof FormData<"u"?FormData:null,T_=typeof Blob<"u"?Blob:null,b_=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),C_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fn={isBrowser:!0,classes:{URLSearchParams:x_,FormData:S_,Blob:T_},isStandardBrowserEnv:b_,isStandardBrowserWebWorkerEnv:C_,protocols:["http","https","file","blob","url","data"]};function __(e,t){return Mu(e,new fn.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return fn.isNode&&ue.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function R_(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function P_(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function VE(e){function t(r,n,i,o){let s=r[o++];const l=Number.isFinite(+s),a=o>=r.length;return s=!s&&ue.isArray(i)?i.length:s,a?(ue.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!l):((!i[s]||!ue.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],o)&&ue.isArray(i[s])&&(i[s]=P_(i[s])),!l)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const r={};return ue.forEachEntry(e,(n,i)=>{t(R_(n),i,r,0)}),r}return null}const L_={"Content-Type":void 0};function A_(e,t,r){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const wu={transitional:jE,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=ue.isObject(t);if(o&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return i&&i?JSON.stringify(VE(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return __(t,this.formSerializer).toString();if((l=ue.isFileList(t))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Mu(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),A_(t)):t}],transformResponse:[function(t){const r=this.transitional||wu.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(t&&ue.isString(t)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?He.from(l,He.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ue.forEach(["delete","get","head"],function(t){wu.headers[t]={}});ue.forEach(["post","put","patch"],function(t){wu.headers[t]=ue.merge(L_)});const Vh=wu,I_=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),D_=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||t[r]&&I_[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Sm=Symbol("internals");function la(e){return e&&String(e).trim().toLowerCase()}function Cl(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Cl):String(e)}function O_(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}function M_(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function rd(e,t,r,n,i){if(ue.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!ue.isString(t)){if(ue.isString(n))return t.indexOf(n)!==-1;if(ue.isRegExp(n))return n.test(t)}}function w_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function k_(e,t){const r=ue.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,s){return this[n].call(this,t,i,o,s)},configurable:!0})})}class ku{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function o(l,a,v){const d=la(a);if(!d)throw new Error("header name must be a non-empty string");const M=ue.findKey(i,d);(!M||i[M]===void 0||v===!0||v===void 0&&i[M]!==!1)&&(i[M||a]=Cl(l))}const s=(l,a)=>ue.forEach(l,(v,d)=>o(v,d,a));return ue.isPlainObject(t)||t instanceof this.constructor?s(t,r):ue.isString(t)&&(t=t.trim())&&!M_(t)?s(D_(t),r):t!=null&&o(r,t,n),this}get(t,r){if(t=la(t),t){const n=ue.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return O_(i);if(ue.isFunction(r))return r.call(this,i,n);if(ue.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=la(t),t){const n=ue.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||rd(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function o(s){if(s=la(s),s){const l=ue.findKey(n,s);l&&(!r||rd(n,n[l],l,r))&&(delete n[l],i=!0)}}return ue.isArray(t)?t.forEach(o):o(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!t||rd(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const r=this,n={};return ue.forEach(this,(i,o)=>{const s=ue.findKey(n,o);if(s){r[s]=Cl(i),delete r[o];return}const l=t?w_(o):String(o).trim();l!==o&&delete r[o],r[l]=Cl(i),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ue.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&ue.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Sm]=this[Sm]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=la(s);n[l]||(k_(i,s),n[l]=!0)}return ue.isArray(t)?t.forEach(o):o(t),this}}ku.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.freezeMethods(ku.prototype);ue.freezeMethods(ku);const Pn=ku;function nd(e,t){const r=this||Vh,n=t||r,i=Pn.from(n.headers);let o=n.data;return ue.forEach(e,function(l){o=l.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function GE(e){return!!(e&&e.__CANCEL__)}function Cs(e,t,r){He.call(this,e??"canceled",He.ERR_CANCELED,t,r),this.name="CanceledError"}ue.inherits(Cs,He,{__CANCEL__:!0});function F_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new He("Request failed with status code "+r.status,[He.ERR_BAD_REQUEST,He.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const N_=fn.isStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,l){const a=[];a.push(r+"="+encodeURIComponent(n)),ue.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),ue.isString(o)&&a.push("path="+o),ue.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function B_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function U_(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function YE(e,t){return e&&!B_(t)?U_(e,t):t}const $_=fn.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(o){let s=o;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){const l=ue.isString(s)?i(s):s;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}();function K_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function W_(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const v=Date.now(),d=n[o];s||(s=v),r[i]=a,n[i]=v;let M=o,L=0;for(;M!==i;)L+=r[M++],M=M%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),v-s<t)return;const B=d&&v-d;return B?Math.round(L*1e3/B):void 0}}function Tm(e,t){let r=0;const n=W_(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-r,a=n(l),v=o<=s;r=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&v?(s-o)/a:void 0,event:i};d[t?"download":"upload"]=!0,e(d)}}const z_=typeof XMLHttpRequest<"u",H_=z_&&function(e){return new Promise(function(r,n){let i=e.data;const o=Pn.from(e.headers).normalize(),s=e.responseType;let l;function a(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}ue.isFormData(i)&&(fn.isStandardBrowserEnv||fn.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let v=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",I=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(B+":"+I))}const d=YE(e.baseURL,e.url);v.open(e.method.toUpperCase(),HE(d,e.params,e.paramsSerializer),!0),v.timeout=e.timeout;function M(){if(!v)return;const B=Pn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),p={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:B,config:e,request:v};F_(function(S){r(S),a()},function(S){n(S),a()},p),v=null}if("onloadend"in v?v.onloadend=M:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(M)},v.onabort=function(){v&&(n(new He("Request aborted",He.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new He("Network Error",He.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let I=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const p=e.transitional||jE;e.timeoutErrorMessage&&(I=e.timeoutErrorMessage),n(new He(I,p.clarifyTimeoutError?He.ETIMEDOUT:He.ECONNABORTED,e,v)),v=null},fn.isStandardBrowserEnv){const B=(e.withCredentials||$_(d))&&e.xsrfCookieName&&N_.read(e.xsrfCookieName);B&&o.set(e.xsrfHeaderName,B)}i===void 0&&o.setContentType(null),"setRequestHeader"in v&&ue.forEach(o.toJSON(),function(I,p){v.setRequestHeader(p,I)}),ue.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),s&&s!=="json"&&(v.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&v.addEventListener("progress",Tm(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&v.upload&&v.upload.addEventListener("progress",Tm(e.onUploadProgress)),(e.cancelToken||e.signal)&&(l=B=>{v&&(n(!B||B.type?new Cs(null,e,v):B),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l)));const L=K_(d);if(L&&fn.protocols.indexOf(L)===-1){n(new He("Unsupported protocol "+L+":",He.ERR_BAD_REQUEST,e));return}v.send(i||null)})},_l={http:v_,xhr:H_};ue.forEach(_l,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const j_={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let r,n;for(let i=0;i<t&&(r=e[i],!(n=ue.isString(r)?_l[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new He(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ue.hasOwnProp(_l,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!ue.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:_l};function id(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cs(null,e)}function bm(e){return id(e),e.headers=Pn.from(e.headers),e.data=nd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),j_.getAdapter(e.adapter||Vh.adapter)(e).then(function(n){return id(e),n.data=nd.call(e,e.transformResponse,n),n.headers=Pn.from(n.headers),n},function(n){return GE(n)||(id(e),n&&n.response&&(n.response.data=nd.call(e,e.transformResponse,n.response),n.response.headers=Pn.from(n.response.headers))),Promise.reject(n)})}const Cm=e=>e instanceof Pn?e.toJSON():e;function No(e,t){t=t||{};const r={};function n(v,d,M){return ue.isPlainObject(v)&&ue.isPlainObject(d)?ue.merge.call({caseless:M},v,d):ue.isPlainObject(d)?ue.merge({},d):ue.isArray(d)?d.slice():d}function i(v,d,M){if(ue.isUndefined(d)){if(!ue.isUndefined(v))return n(void 0,v,M)}else return n(v,d,M)}function o(v,d){if(!ue.isUndefined(d))return n(void 0,d)}function s(v,d){if(ue.isUndefined(d)){if(!ue.isUndefined(v))return n(void 0,v)}else return n(void 0,d)}function l(v,d,M){if(M in t)return n(v,d);if(M in e)return n(void 0,v)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(v,d)=>i(Cm(v),Cm(d),!0)};return ue.forEach(Object.keys(e).concat(Object.keys(t)),function(d){const M=a[d]||i,L=M(e[d],t[d],d);ue.isUndefined(L)&&M!==l||(r[d]=L)}),r}const XE="1.3.4",Gh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _m={};Gh.transitional=function(t,r,n){function i(o,s){return"[Axios v"+XE+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,l)=>{if(t===!1)throw new He(i(s," has been removed"+(r?" in "+r:"")),He.ERR_DEPRECATED);return r&&!_m[s]&&(_m[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,s,l):!0}};function V_(e,t,r){if(typeof e!="object")throw new He("options must be an object",He.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const l=e[o],a=l===void 0||s(l,o,e);if(a!==!0)throw new He("option "+o+" must be "+a,He.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new He("Unknown option "+o,He.ERR_BAD_OPTION)}}const Tf={assertOptions:V_,validators:Gh},$n=Tf.validators;class ru{constructor(t){this.defaults=t,this.interceptors={request:new xm,response:new xm}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=No(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&Tf.assertOptions(n,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),i!==void 0&&Tf.assertOptions(i,{encode:$n.function,serialize:$n.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s;s=o&&ue.merge(o.common,o[r.method]),s&&ue.forEach(["delete","get","head","post","put","patch","common"],I=>{delete o[I]}),r.headers=Pn.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(a=a&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const v=[];this.interceptors.response.forEach(function(p){v.push(p.fulfilled,p.rejected)});let d,M=0,L;if(!a){const I=[bm.bind(this),void 0];for(I.unshift.apply(I,l),I.push.apply(I,v),L=I.length,d=Promise.resolve(r);M<L;)d=d.then(I[M++],I[M++]);return d}L=l.length;let B=r;for(M=0;M<L;){const I=l[M++],p=l[M++];try{B=I(B)}catch(w){p.call(this,w);break}}try{d=bm.call(this,B)}catch(I){return Promise.reject(I)}for(M=0,L=v.length;M<L;)d=d.then(v[M++],v[M++]);return d}getUri(t){t=No(this.defaults,t);const r=YE(t.baseURL,t.url);return HE(r,t.params,t.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(t){ru.prototype[t]=function(r,n){return this.request(No(n||{},{method:t,url:r,data:(n||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,l){return this.request(No(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ru.prototype[t]=r(),ru.prototype[t+"Form"]=r(!0)});const Rl=ru;class Yh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{n.subscribe(l),o=l}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},t(function(o,s,l){n.reason||(n.reason=new Cs(o,s,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Yh(function(i){t=i}),cancel:t}}}const G_=Yh;function Y_(e){return function(r){return e.apply(null,r)}}function X_(e){return ue.isObject(e)&&e.isAxiosError===!0}const bf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bf).forEach(([e,t])=>{bf[t]=e});const Q_=bf;function QE(e){const t=new Rl(e),r=DE(Rl.prototype.request,t);return ue.extend(r,Rl.prototype,t,{allOwnKeys:!0}),ue.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return QE(No(e,i))},r}const Ot=QE(Vh);Ot.Axios=Rl;Ot.CanceledError=Cs;Ot.CancelToken=G_;Ot.isCancel=GE;Ot.VERSION=XE;Ot.toFormData=Mu;Ot.AxiosError=He;Ot.Cancel=Ot.CanceledError;Ot.all=function(t){return Promise.all(t)};Ot.spread=Y_;Ot.isAxiosError=X_;Ot.mergeConfig=No;Ot.AxiosHeaders=Pn;Ot.formToJSON=e=>VE(ue.isHTMLForm(e)?new FormData(e):e);Ot.HttpStatusCode=Q_;Ot.default=Ot;const JE=Ot,ZE="https://api.wisey.app/api/v1",cs=JE.create({withCredentials:!0,baseURL:ZE});cs.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});cs.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&e.config&&!e.config._isRetry){t._isRetry=!0;try{const n=await JE.get(`${ZE}/auth/anonymous?platform=subscriptions`,{withCredentials:!0});return localStorage.setItem("token",n.data.token),cs.request(t)}catch(n){console.error(n)}}throw e});const J_=async()=>(await cs.get("/core/preview-courses")).data.courses.map(t=>IE(t)),Z_=async e=>{if(!e)throw new Error("id: corrupted");const t=await cs.get(`/core/preview-courses/${e}`);return IE(t.data)},q_={black:"#000",white:"#fff"},ds=q_,eR={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Gi=eR,tR={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Yi=tR,rR={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xi=rR,nR={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Qi=nR,iR={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ji=iR,oR={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ua=oR,aR={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sR=aR;function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(this,arguments)}function Si(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function qE(e){if(!Si(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=qE(e[r])}),t}function lr(e,t,r={clone:!0}){const n=r.clone?V({},e):e;return Si(e)&&Si(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Si(t[i])&&i in e&&Si(e[i])?n[i]=lr(e[i],t[i],r):r.clone?n[i]=Si(t[i])?qE(t[i]):t[i]:n[i]=t[i])}),n}function li(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ve(e){if(typeof e!="string")throw new Error(li(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Cf(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function Xh(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function lR(e,t){return()=>null}function Fa(e,t){return j.isValidElement(e)&&t.indexOf(e.type.muiName)!==-1}function Lt(e){return e&&e.ownerDocument||document}function ui(e){return Lt(e).defaultView||window}function uR(e,t){return()=>null}function nu(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const cR=typeof window<"u"?j.useLayoutEffect:j.useEffect,Tr=cR;let Rm=0;function dR(e){const[t,r]=j.useState(e),n=e||t;return j.useEffect(()=>{t==null&&(Rm+=1,r(`mui-${Rm}`))},[t]),n}const Pm=Di["useId"];function _s(e){if(Pm!==void 0){const t=Pm();return e??t}return dR(e)}function fR(e,t,r,n,i){return null}function ci({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=j.useRef(e!==void 0),[o,s]=j.useState(t),l=i?e:o,a=j.useCallback(v=>{i||s(v)},[]);return[l,a]}function Jr(e){const t=j.useRef(e);return Tr(()=>{t.current=e}),j.useCallback((...r)=>(0,t.current)(...r),[])}function ft(...e){return j.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{nu(r,t)})},e)}let Fu=!0,_f=!1,Lm;const hR={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function pR(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&hR[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function vR(e){e.metaKey||e.altKey||e.ctrlKey||(Fu=!0)}function od(){Fu=!1}function mR(){this.visibilityState==="hidden"&&_f&&(Fu=!0)}function gR(e){e.addEventListener("keydown",vR,!0),e.addEventListener("mousedown",od,!0),e.addEventListener("pointerdown",od,!0),e.addEventListener("touchstart",od,!0),e.addEventListener("visibilitychange",mR,!0)}function yR(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return Fu||pR(t)}function Rs(){const e=j.useCallback(i=>{i!=null&&gR(i.ownerDocument)},[]),t=j.useRef(!1);function r(){return t.current?(_f=!0,window.clearTimeout(Lm),Lm=window.setTimeout(()=>{_f=!1},100),t.current=!1,!0):!1}function n(i){return yR(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function ex(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const ER={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},tx=ER;function Qh(e,t){const r=V({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=V({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=V({},o),Object.keys(i).forEach(s=>{r[n][s]=Qh(i[s],o[s])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function De(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,s)=>{if(s){const l=t(s);l!==""&&o.push(l),r&&r[s]&&o.push(r[s])}return o},[]).join(" ")}),n}const Am=e=>e,xR=()=>{let e=Am;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Am}}},SR=xR(),Jh=SR,TR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ie(e,t,r="Mui"){const n=TR[t];return n?`${r}-${n}`:`${Jh.generate(e)}-${t}`}function Me(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=Ie(e,i,r)}),n}function Se(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function rx(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var bR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,CR=rx(function(e){return bR.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function _R(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function RR(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PR=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RR(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_R(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),jt="-ms-",iu="-moz-",Xe="-webkit-",nx="comm",Zh="rule",qh="decl",LR="@import",ix="@keyframes",AR=Math.abs,Nu=String.fromCharCode,IR=Object.assign;function DR(e,t){return Bt(e,0)^45?(((t<<2^Bt(e,0))<<2^Bt(e,1))<<2^Bt(e,2))<<2^Bt(e,3):0}function ox(e){return e.trim()}function OR(e,t){return(e=t.exec(e))?e[0]:e}function Je(e,t,r){return e.replace(t,r)}function Rf(e,t){return e.indexOf(t)}function Bt(e,t){return e.charCodeAt(t)|0}function fs(e,t,r){return e.slice(t,r)}function ln(e){return e.length}function ep(e){return e.length}function Zs(e,t){return t.push(e),e}function MR(e,t){return e.map(t).join("")}var Bu=1,Bo=1,ax=0,dr=0,Rt=0,Yo="";function Uu(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:Bu,column:Bo,length:s,return:""}}function ca(e,t){return IR(Uu("",null,null,"",null,null,0),e,{length:-e.length},t)}function wR(){return Rt}function kR(){return Rt=dr>0?Bt(Yo,--dr):0,Bo--,Rt===10&&(Bo=1,Bu--),Rt}function xr(){return Rt=dr<ax?Bt(Yo,dr++):0,Bo++,Rt===10&&(Bo=1,Bu++),Rt}function vn(){return Bt(Yo,dr)}function Pl(){return dr}function Ps(e,t){return fs(Yo,e,t)}function hs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sx(e){return Bu=Bo=1,ax=ln(Yo=e),dr=0,[]}function lx(e){return Yo="",e}function Ll(e){return ox(Ps(dr-1,Pf(e===91?e+2:e===40?e+1:e)))}function FR(e){for(;(Rt=vn())&&Rt<33;)xr();return hs(e)>2||hs(Rt)>3?"":" "}function NR(e,t){for(;--t&&xr()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return Ps(e,Pl()+(t<6&&vn()==32&&xr()==32))}function Pf(e){for(;xr();)switch(Rt){case e:return dr;case 34:case 39:e!==34&&e!==39&&Pf(Rt);break;case 40:e===41&&Pf(e);break;case 92:xr();break}return dr}function BR(e,t){for(;xr()&&e+Rt!==47+10;)if(e+Rt===42+42&&vn()===47)break;return"/*"+Ps(t,dr-1)+"*"+Nu(e===47?e:xr())}function UR(e){for(;!hs(vn());)xr();return Ps(e,dr)}function $R(e){return lx(Al("",null,null,null,[""],e=sx(e),0,[0],e))}function Al(e,t,r,n,i,o,s,l,a){for(var v=0,d=0,M=s,L=0,B=0,I=0,p=1,w=1,S=1,E=0,u="",A=i,x=o,h=n,f=u;w;)switch(I=E,E=xr()){case 40:if(I!=108&&Bt(f,M-1)==58){Rf(f+=Je(Ll(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:f+=Ll(E);break;case 9:case 10:case 13:case 32:f+=FR(I);break;case 92:f+=NR(Pl()-1,7);continue;case 47:switch(vn()){case 42:case 47:Zs(KR(BR(xr(),Pl()),t,r),a);break;default:f+="/"}break;case 123*p:l[v++]=ln(f)*S;case 125*p:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+d:B>0&&ln(f)-M&&Zs(B>32?Dm(f+";",n,r,M-1):Dm(Je(f," ","")+";",n,r,M-2),a);break;case 59:f+=";";default:if(Zs(h=Im(f,t,r,v,d,i,l,u,A=[],x=[],M),o),E===123)if(d===0)Al(f,t,h,h,A,o,M,l,x);else switch(L===99&&Bt(f,3)===110?100:L){case 100:case 109:case 115:Al(e,h,h,n&&Zs(Im(e,h,h,0,0,i,l,u,i,A=[],M),x),i,x,M,l,n?A:x);break;default:Al(f,h,h,h,[""],x,0,l,x)}}v=d=B=0,p=S=1,u=f="",M=s;break;case 58:M=1+ln(f),B=I;default:if(p<1){if(E==123)--p;else if(E==125&&p++==0&&kR()==125)continue}switch(f+=Nu(E),E*p){case 38:S=d>0?1:(f+="\f",-1);break;case 44:l[v++]=(ln(f)-1)*S,S=1;break;case 64:vn()===45&&(f+=Ll(xr())),L=vn(),d=M=ln(u=f+=UR(Pl())),E++;break;case 45:I===45&&ln(f)==2&&(p=0)}}return o}function Im(e,t,r,n,i,o,s,l,a,v,d){for(var M=i-1,L=i===0?o:[""],B=ep(L),I=0,p=0,w=0;I<n;++I)for(var S=0,E=fs(e,M+1,M=AR(p=s[I])),u=e;S<B;++S)(u=ox(p>0?L[S]+" "+E:Je(E,/&\f/g,L[S])))&&(a[w++]=u);return Uu(e,t,r,i===0?Zh:l,a,v,d)}function KR(e,t,r){return Uu(e,t,r,nx,Nu(wR()),fs(e,2,-2),0)}function Dm(e,t,r,n){return Uu(e,t,r,qh,fs(e,0,n),fs(e,n+1,-1),n)}function _o(e,t){for(var r="",n=ep(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function WR(e,t,r,n){switch(e.type){case LR:case qh:return e.return=e.return||e.value;case nx:return"";case ix:return e.return=e.value+"{"+_o(e.children,n)+"}";case Zh:e.value=e.props.join(",")}return ln(r=_o(e.children,n))?e.return=e.value+"{"+r+"}":""}function zR(e){var t=ep(e);return function(r,n,i,o){for(var s="",l=0;l<t;l++)s+=e[l](r,n,i,o)||"";return s}}function HR(e){return function(t){t.root||(t=t.return)&&e(t)}}var jR=function(t,r,n){for(var i=0,o=0;i=o,o=vn(),i===38&&o===12&&(r[n]=1),!hs(o);)xr();return Ps(t,dr)},VR=function(t,r){var n=-1,i=44;do switch(hs(i)){case 0:i===38&&vn()===12&&(r[n]=1),t[n]+=jR(dr-1,r,n);break;case 2:t[n]+=Ll(i);break;case 4:if(i===44){t[++n]=vn()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Nu(i)}while(i=xr());return t},GR=function(t,r){return lx(VR(sx(t),r))},Om=new WeakMap,YR=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Om.get(n))&&!i){Om.set(t,!0);for(var o=[],s=GR(r,o),l=n.props,a=0,v=0;a<s.length;a++)for(var d=0;d<l.length;d++,v++)t.props[v]=o[a]?s[a].replace(/&\f/g,l[d]):l[d]+" "+s[a]}}},XR=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function ux(e,t){switch(DR(e,t)){case 5103:return Xe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+e+iu+e+jt+e+e;case 6828:case 4268:return Xe+e+jt+e+e;case 6165:return Xe+e+jt+"flex-"+e+e;case 5187:return Xe+e+Je(e,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+jt+"flex-$1$2")+e;case 5443:return Xe+e+jt+"flex-item-"+Je(e,/flex-|-self/,"")+e;case 4675:return Xe+e+jt+"flex-line-pack"+Je(e,/align-content|flex-|-self/,"")+e;case 5548:return Xe+e+jt+Je(e,"shrink","negative")+e;case 5292:return Xe+e+jt+Je(e,"basis","preferred-size")+e;case 6060:return Xe+"box-"+Je(e,"-grow","")+Xe+e+jt+Je(e,"grow","positive")+e;case 4554:return Xe+Je(e,/([^-])(transform)/g,"$1"+Xe+"$2")+e;case 6187:return Je(Je(Je(e,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),e,"")+e;case 5495:case 3959:return Je(e,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return Je(Je(e,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+e+e;case 4095:case 3583:case 4068:case 2532:return Je(e,/(.+)-inline(.+)/,Xe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ln(e)-1-t>6)switch(Bt(e,t+1)){case 109:if(Bt(e,t+4)!==45)break;case 102:return Je(e,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+iu+(Bt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Rf(e,"stretch")?ux(Je(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Bt(e,t+1)!==115)break;case 6444:switch(Bt(e,ln(e)-3-(~Rf(e,"!important")&&10))){case 107:return Je(e,":",":"+Xe)+e;case 101:return Je(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(Bt(e,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+jt+"$2box$3")+e}break;case 5936:switch(Bt(e,t+11)){case 114:return Xe+e+jt+Je(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xe+e+jt+Je(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xe+e+jt+Je(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Xe+e+jt+e+e}return e}var QR=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case qh:t.return=ux(t.value,t.length);break;case ix:return _o([ca(t,{value:Je(t.value,"@","@"+Xe)})],i);case Zh:if(t.length)return MR(t.props,function(o){switch(OR(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _o([ca(t,{props:[Je(o,/:(read-\w+)/,":"+iu+"$1")]})],i);case"::placeholder":return _o([ca(t,{props:[Je(o,/:(plac\w+)/,":"+Xe+"input-$1")]}),ca(t,{props:[Je(o,/:(plac\w+)/,":"+iu+"$1")]}),ca(t,{props:[Je(o,/:(plac\w+)/,jt+"input-$1")]})],i)}return""})}},JR=[QR],ZR=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var w=p.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||JR,o={},s,l=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var w=p.getAttribute("data-emotion").split(" "),S=1;S<w.length;S++)o[w[S]]=!0;l.push(p)});var a,v=[YR,XR];{var d,M=[WR,HR(function(p){d.insert(p)})],L=zR(v.concat(i,M)),B=function(w){return _o($R(w),L)};a=function(w,S,E,u){d=E,B(w?w+"{"+S.styles+"}":S.styles),u&&(I.inserted[S.name]=!0)}}var I={key:r,sheet:new PR({key:r,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:a};return I.sheet.hydrate(l),I},Lf={},qR={get exports(){return Lf},set exports(e){Lf=e}},tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=typeof Symbol=="function"&&Symbol.for,tp=kt?Symbol.for("react.element"):60103,rp=kt?Symbol.for("react.portal"):60106,$u=kt?Symbol.for("react.fragment"):60107,Ku=kt?Symbol.for("react.strict_mode"):60108,Wu=kt?Symbol.for("react.profiler"):60114,zu=kt?Symbol.for("react.provider"):60109,Hu=kt?Symbol.for("react.context"):60110,np=kt?Symbol.for("react.async_mode"):60111,ju=kt?Symbol.for("react.concurrent_mode"):60111,Vu=kt?Symbol.for("react.forward_ref"):60112,Gu=kt?Symbol.for("react.suspense"):60113,eP=kt?Symbol.for("react.suspense_list"):60120,Yu=kt?Symbol.for("react.memo"):60115,Xu=kt?Symbol.for("react.lazy"):60116,tP=kt?Symbol.for("react.block"):60121,rP=kt?Symbol.for("react.fundamental"):60117,nP=kt?Symbol.for("react.responder"):60118,iP=kt?Symbol.for("react.scope"):60119;function _r(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case tp:switch(e=e.type,e){case np:case ju:case $u:case Wu:case Ku:case Gu:return e;default:switch(e=e&&e.$$typeof,e){case Hu:case Vu:case Xu:case Yu:case zu:return e;default:return t}}case rp:return t}}}function cx(e){return _r(e)===ju}tt.AsyncMode=np;tt.ConcurrentMode=ju;tt.ContextConsumer=Hu;tt.ContextProvider=zu;tt.Element=tp;tt.ForwardRef=Vu;tt.Fragment=$u;tt.Lazy=Xu;tt.Memo=Yu;tt.Portal=rp;tt.Profiler=Wu;tt.StrictMode=Ku;tt.Suspense=Gu;tt.isAsyncMode=function(e){return cx(e)||_r(e)===np};tt.isConcurrentMode=cx;tt.isContextConsumer=function(e){return _r(e)===Hu};tt.isContextProvider=function(e){return _r(e)===zu};tt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===tp};tt.isForwardRef=function(e){return _r(e)===Vu};tt.isFragment=function(e){return _r(e)===$u};tt.isLazy=function(e){return _r(e)===Xu};tt.isMemo=function(e){return _r(e)===Yu};tt.isPortal=function(e){return _r(e)===rp};tt.isProfiler=function(e){return _r(e)===Wu};tt.isStrictMode=function(e){return _r(e)===Ku};tt.isSuspense=function(e){return _r(e)===Gu};tt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$u||e===ju||e===Wu||e===Ku||e===Gu||e===eP||typeof e=="object"&&e!==null&&(e.$$typeof===Xu||e.$$typeof===Yu||e.$$typeof===zu||e.$$typeof===Hu||e.$$typeof===Vu||e.$$typeof===rP||e.$$typeof===nP||e.$$typeof===iP||e.$$typeof===tP)};tt.typeOf=_r;(function(e){e.exports=tt})(qR);var dx=Lf,oP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},aP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},fx={};fx[dx.ForwardRef]=oP;fx[dx.Memo]=aP;var sP=!0;function lP(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var hx=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||sP===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},px=function(t,r,n){hx(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function uP(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cP={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dP=/[A-Z]|^ms/g,fP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vx=function(t){return t.charCodeAt(1)===45},Mm=function(t){return t!=null&&typeof t!="boolean"},ad=rx(function(e){return vx(e)?e:e.replace(dP,"-$&").toLowerCase()}),wm=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(fP,function(n,i,o){return un={name:i,styles:o,next:un},i})}return cP[t]!==1&&!vx(t)&&typeof r=="number"&&r!==0?r+"px":r};function ps(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return un={name:r.name,styles:r.styles,next:un},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)un={name:n.name,styles:n.styles,next:un},n=n.next;var i=r.styles+";";return i}return hP(e,t,r)}case"function":{if(e!==void 0){var o=un,s=r(e);return un=o,ps(e,t,s)}break}}if(t==null)return r;var l=t[r];return l!==void 0?l:r}function hP(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ps(e,t,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object")t!=null&&t[s]!==void 0?n+=o+"{"+t[s]+"}":Mm(s)&&(n+=ad(o)+":"+wm(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var l=0;l<s.length;l++)Mm(s[l])&&(n+=ad(o)+":"+wm(o,s[l])+";");else{var a=ps(e,t,s);switch(o){case"animation":case"animationName":{n+=ad(o)+":"+a+";";break}default:n+=o+"{"+a+"}"}}}return n}var km=/label:\s*([^\s;\n{]+)\s*(;|$)/g,un,ip=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";un=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=ps(n,r,s)):o+=s[0];for(var l=1;l<t.length;l++)o+=ps(n,r,t[l]),i&&(o+=s[l]);km.lastIndex=0;for(var a="",v;(v=km.exec(o))!==null;)a+="-"+v[1];var d=uP(o)+a;return{name:d,styles:o,next:un}},pP=function(t){return t()},mx=Di["useInsertionEffect"]?Di["useInsertionEffect"]:!1,vP=mx||pP,Fm=mx||j.useLayoutEffect,gx=j.createContext(typeof HTMLElement<"u"?ZR({key:"css"}):null);gx.Provider;var yx=function(t){return j.forwardRef(function(r,n){var i=j.useContext(gx);return t(r,i,n)})},op=j.createContext({}),mP=yx(function(e,t){var r=e.styles,n=ip([r],void 0,j.useContext(op)),i=j.useRef();return Fm(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,a=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),a!==null&&(l=!0,a.setAttribute("data-emotion",o),s.hydrate([a])),i.current=[s,l],function(){s.flush()}},[t]),Fm(function(){var o=i.current,s=o[0],l=o[1];if(l){o[1]=!1;return}if(n.next!==void 0&&px(t,n.next,!0),s.tags.length){var a=s.tags[s.tags.length-1].nextElementSibling;s.before=a,s.flush()}t.insert("",n,s,!1)},[t,n.name]),null});function Af(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ip(t)}var Ls=function(){var t=Af.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},gP=CR,yP=function(t){return t!=="theme"},Nm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?gP:yP},Bm=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},EP=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return hx(r,n,i),vP(function(){return px(r,n,i)}),null},xP=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,s;r!==void 0&&(o=r.label,s=r.target);var l=Bm(t,r,n),a=l||Nm(i),v=!a("as");return function(){var d=arguments,M=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&M.push("label:"+o+";"),d[0]==null||d[0].raw===void 0)M.push.apply(M,d);else{M.push(d[0][0]);for(var L=d.length,B=1;B<L;B++)M.push(d[B],d[0][B])}var I=yx(function(p,w,S){var E=v&&p.as||i,u="",A=[],x=p;if(p.theme==null){x={};for(var h in p)x[h]=p[h];x.theme=j.useContext(op)}typeof p.className=="string"?u=lP(w.registered,A,p.className):p.className!=null&&(u=p.className+" ");var f=ip(M.concat(A),w.registered,x);u+=w.key+"-"+f.name,s!==void 0&&(u+=" "+s);var m=v&&l===void 0?Nm(E):a,g={};for(var R in p)v&&R==="as"||m(R)&&(g[R]=p[R]);return g.className=u,g.ref=S,j.createElement(j.Fragment,null,j.createElement(EP,{cache:w,serialized:f,isStringTag:typeof E=="string"}),j.createElement(E,g))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=t.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=M,I.__emotion_forwardProp=l,Object.defineProperty(I,"toString",{value:function(){return"."+s}}),I.withComponent=function(p,w){return e(p,V({},r,w,{shouldForwardProp:Bm(I,w,!0)})).apply(void 0,M)},I}};const SP=xP;var TP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],If=SP.bind();TP.forEach(function(e){If[e]=If(e)});const bP=If;function CP(e){return e==null||Object.keys(e).length===0}function _P(e){const{styles:t,defaultTheme:r={}}=e;return Q(mP,{styles:typeof t=="function"?i=>t(CP(i)?r:i):t})}/**
 * @mui/styled-engine v5.11.11
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ex(e,t){return bP(e,t)}const RP=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))};function Na(e,t){return t?lr(e,t,{clone:!1}):e}const ap={xs:0,sm:600,md:900,lg:1200,xl:1536},Um={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ap[e]}px)`};function Jt(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||Um;return t.reduce((s,l,a)=>(s[o.up(o.keys[a])]=r(t[a]),s),{})}if(typeof t=="object"){const o=n.breakpoints||Um;return Object.keys(t).reduce((s,l)=>{if(Object.keys(o.values||ap).indexOf(l)!==-1){const a=o.up(l);s[a]=r(t[l],l)}else{const a=l;s[a]=t[a]}return s},{})}return r(t)}function xx(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function Sx(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function PP(e,...t){const r=xx(e),n=[r,...t].reduce((i,o)=>lr(i,o),{});return Sx(Object.keys(r),n)}function LP(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function Ai({values:e,breakpoints:t,base:r}){const n=r||LP(e,t),i=Object.keys(n);if(i.length===0)return e;let o;return i.reduce((s,l,a)=>(Array.isArray(e)?(s[l]=e[a]!=null?e[a]:e[o],o=a):typeof e=="object"?(s[l]=e[l]!=null?e[l]:e[o],o=l):s[l]=e,s),{})}function Qu(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function ou(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Qu(e,r)||n,t&&(i=t(i,n,e)),i}function qe(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=s=>{if(s[t]==null)return null;const l=s[t],a=s.theme,v=Qu(a,n)||{};return Jt(s,l,M=>{let L=ou(v,i,M);return M===L&&typeof M=="string"&&(L=ou(v,i,`${t}${M==="default"?"":ve(M)}`,M)),r===!1?L:{[r]:L}})};return o.propTypes={},o.filterProps=[t],o}function Ju(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?Na(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function AP(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const IP={m:"margin",p:"padding"},DP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$m={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},OP=AP(e=>{if(e.length>2)if($m[e])e=$m[e];else return[e];const[t,r]=e.split(""),n=IP[t],i=DP[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),sp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],lp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...sp,...lp];function As(e,t,r,n){var i;const o=(i=Qu(e,t,!1))!=null?i:r;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function up(e){return As(e,"spacing",8)}function Xo(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function MP(e,t){return r=>e.reduce((n,i)=>(n[i]=Xo(t,r),n),{})}function wP(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=OP(r),o=MP(i,n),s=e[r];return Jt(e,s,o)}function Tx(e,t){const r=up(e.theme);return Object.keys(e).map(n=>wP(e,t,n,r)).reduce(Na,{})}function Et(e){return Tx(e,sp)}Et.propTypes={};Et.filterProps=sp;function xt(e){return Tx(e,lp)}xt.propTypes={};xt.filterProps=lp;function dn(e){return typeof e!="number"?e:`${e}px solid`}const kP=qe({prop:"border",themeKey:"borders",transform:dn}),FP=qe({prop:"borderTop",themeKey:"borders",transform:dn}),NP=qe({prop:"borderRight",themeKey:"borders",transform:dn}),BP=qe({prop:"borderBottom",themeKey:"borders",transform:dn}),UP=qe({prop:"borderLeft",themeKey:"borders",transform:dn}),$P=qe({prop:"borderColor",themeKey:"palette"}),KP=qe({prop:"borderTopColor",themeKey:"palette"}),WP=qe({prop:"borderRightColor",themeKey:"palette"}),zP=qe({prop:"borderBottomColor",themeKey:"palette"}),HP=qe({prop:"borderLeftColor",themeKey:"palette"}),Zu=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=As(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Xo(t,n)});return Jt(e,e.borderRadius,r)}return null};Zu.propTypes={};Zu.filterProps=["borderRadius"];Ju(kP,FP,NP,BP,UP,$P,KP,WP,zP,HP,Zu);const qu=e=>{if(e.gap!==void 0&&e.gap!==null){const t=As(e.theme,"spacing",8),r=n=>({gap:Xo(t,n)});return Jt(e,e.gap,r)}return null};qu.propTypes={};qu.filterProps=["gap"];const ec=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=As(e.theme,"spacing",8),r=n=>({columnGap:Xo(t,n)});return Jt(e,e.columnGap,r)}return null};ec.propTypes={};ec.filterProps=["columnGap"];const tc=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=As(e.theme,"spacing",8),r=n=>({rowGap:Xo(t,n)});return Jt(e,e.rowGap,r)}return null};tc.propTypes={};tc.filterProps=["rowGap"];const jP=qe({prop:"gridColumn"}),VP=qe({prop:"gridRow"}),GP=qe({prop:"gridAutoFlow"}),YP=qe({prop:"gridAutoColumns"}),XP=qe({prop:"gridAutoRows"}),QP=qe({prop:"gridTemplateColumns"}),JP=qe({prop:"gridTemplateRows"}),ZP=qe({prop:"gridTemplateAreas"}),qP=qe({prop:"gridArea"});Ju(qu,ec,tc,jP,VP,GP,YP,XP,QP,JP,ZP,qP);function Ro(e,t){return t==="grey"?t:e}const eL=qe({prop:"color",themeKey:"palette",transform:Ro}),tL=qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ro}),rL=qe({prop:"backgroundColor",themeKey:"palette",transform:Ro});Ju(eL,tL,rL);function gr(e){return e<=1&&e!==0?`${e*100}%`:e}const nL=qe({prop:"width",transform:gr}),cp=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i,o;return{maxWidth:((n=e.theme)==null||(i=n.breakpoints)==null||(o=i.values)==null?void 0:o[r])||ap[r]||gr(r)}};return Jt(e,e.maxWidth,t)}return null};cp.filterProps=["maxWidth"];const iL=qe({prop:"minWidth",transform:gr}),oL=qe({prop:"height",transform:gr}),aL=qe({prop:"maxHeight",transform:gr}),sL=qe({prop:"minHeight",transform:gr});qe({prop:"size",cssProperty:"width",transform:gr});qe({prop:"size",cssProperty:"height",transform:gr});const lL=qe({prop:"boxSizing"});Ju(nL,cp,iL,oL,aL,sL,lL);const sd=e=>t=>{if(t[e]!==void 0&&t[e]!==null){const r=n=>{var i,o;let s=(i=t.theme.typography)==null?void 0:i[`${e}${t[e]==="default"||t[e]===e?"":ve((o=t[e])==null?void 0:o.toString())}`];if(!s){var l,a;s=(l=t.theme.typography)==null||(a=l[n])==null?void 0:a[e]}return s||(s=n),{[e]:s}};return Jt(t,t[e],r)}return null},uL={border:{themeKey:"borders",transform:dn},borderTop:{themeKey:"borders",transform:dn},borderRight:{themeKey:"borders",transform:dn},borderBottom:{themeKey:"borders",transform:dn},borderLeft:{themeKey:"borders",transform:dn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zu},color:{themeKey:"palette",transform:Ro},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ro},backgroundColor:{themeKey:"palette",transform:Ro},p:{style:xt},pt:{style:xt},pr:{style:xt},pb:{style:xt},pl:{style:xt},px:{style:xt},py:{style:xt},padding:{style:xt},paddingTop:{style:xt},paddingRight:{style:xt},paddingBottom:{style:xt},paddingLeft:{style:xt},paddingX:{style:xt},paddingY:{style:xt},paddingInline:{style:xt},paddingInlineStart:{style:xt},paddingInlineEnd:{style:xt},paddingBlock:{style:xt},paddingBlockStart:{style:xt},paddingBlockEnd:{style:xt},m:{style:Et},mt:{style:Et},mr:{style:Et},mb:{style:Et},ml:{style:Et},mx:{style:Et},my:{style:Et},margin:{style:Et},marginTop:{style:Et},marginRight:{style:Et},marginBottom:{style:Et},marginLeft:{style:Et},marginX:{style:Et},marginY:{style:Et},marginInline:{style:Et},marginInlineStart:{style:Et},marginInlineEnd:{style:Et},marginBlock:{style:Et},marginBlockStart:{style:Et},marginBlockEnd:{style:Et},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qu},rowGap:{style:tc},columnGap:{style:ec},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gr},maxWidth:{style:cp},minWidth:{transform:gr},height:{transform:gr},maxHeight:{transform:gr},minHeight:{transform:gr},boxSizing:{},fontFamily:{themeKey:"typography",style:sd("fontFamily")},fontSize:{themeKey:"typography",style:sd("fontSize")},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography",style:sd("fontWeight")},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},rc=uL;function cL(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function dL(e,t){return typeof e=="function"?e(t):e}function fL(){function e(r,n,i,o){const s={[r]:n,theme:i},l=o[r];if(!l)return{[r]:n};const{cssProperty:a=r,themeKey:v,transform:d,style:M}=l;if(n==null)return null;const L=Qu(i,v)||{};return M?M(s):Jt(s,n,I=>{let p=ou(L,d,I);return I===p&&typeof I=="string"&&(p=ou(L,d,`${r}${I==="default"?"":ve(I)}`,I)),a===!1?p:{[a]:p}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const s=(n=o.unstable_sxConfig)!=null?n:rc;function l(a){let v=a;if(typeof a=="function")v=a(o);else if(typeof a!="object")return a;if(!v)return null;const d=xx(o.breakpoints),M=Object.keys(d);let L=d;return Object.keys(v).forEach(B=>{const I=dL(v[B],o);if(I!=null)if(typeof I=="object")if(s[B])L=Na(L,e(B,I,o,s));else{const p=Jt({theme:o},I,w=>({[B]:w}));cL(p,I)?L[B]=t({sx:I,theme:o}):L=Na(L,p)}else L=Na(L,e(B,I,o,s))}),Sx(M,L)}return Array.isArray(i)?i.map(l):l(i)}return t}const bx=fL();bx.filterProps=["sx"];const nc=bx,hL=["sx"],pL=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:rc;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function ic(e){const{sx:t}=e,r=Se(e,hL),{systemProps:n,otherProps:i}=pL(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...s)=>{const l=t(...s);return Si(l)?V({},n,l):n}:o=V({},n,t),V({},i,{sx:o})}function Cx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Cx(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ye(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Cx(e))&&(n&&(n+=" "),n+=t);return n}const vL=["values","unit","step"],mL=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>V({},r,{[n.key]:n.val}),{})};function gL(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Se(e,vL),o=mL(t),s=Object.keys(o);function l(L){return`@media (min-width:${typeof t[L]=="number"?t[L]:L}${r})`}function a(L){return`@media (max-width:${(typeof t[L]=="number"?t[L]:L)-n/100}${r})`}function v(L,B){const I=s.indexOf(B);return`@media (min-width:${typeof t[L]=="number"?t[L]:L}${r}) and (max-width:${(I!==-1&&typeof t[s[I]]=="number"?t[s[I]]:B)-n/100}${r})`}function d(L){return s.indexOf(L)+1<s.length?v(L,s[s.indexOf(L)+1]):l(L)}function M(L){const B=s.indexOf(L);return B===0?l(s[1]):B===s.length-1?a(s[B]):v(L,s[s.indexOf(L)+1]).replace("@media","@media not all and")}return V({keys:s,values:o,up:l,down:a,between:v,only:d,not:M,unit:r},i)}const yL={borderRadius:4},EL=yL;function xL(e=8){if(e.mui)return e;const t=up({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}const SL=["breakpoints","palette","spacing","shape"];function Is(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,s=Se(e,SL),l=gL(r),a=xL(i);let v=lr({breakpoints:l,direction:"ltr",components:{},palette:V({mode:"light"},n),spacing:a,shape:V({},EL,o)},s);return v=t.reduce((d,M)=>lr(d,M),v),v.unstable_sxConfig=V({},rc,s==null?void 0:s.unstable_sxConfig),v.unstable_sx=function(M){return nc({sx:M,theme:this})},v}const TL=j.createContext(null),_x=TL;function Rx(){return j.useContext(_x)}const bL=typeof Symbol=="function"&&Symbol.for,CL=bL?Symbol.for("mui.nested"):"__THEME_NESTED__";function _L(e,t){return typeof t=="function"?t(e):V({},e,t)}function RL(e){const{children:t,theme:r}=e,n=Rx(),i=j.useMemo(()=>{const o=n===null?r:_L(n,r);return o!=null&&(o[CL]=n!==null),o},[r,n]);return Q(_x.Provider,{value:i,children:t})}function PL(e){return Object.keys(e).length===0}function dp(e=null){const t=Rx();return!t||PL(t)?e:t}const LL=Is();function oc(e=LL){return dp(e)}const AL=["className","component"];function IL(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:n}=e,i=Ex("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(nc);return j.forwardRef(function(l,a){const v=oc(t),d=ic(l),{className:M,component:L="div"}=d,B=Se(d,AL);return Q(i,V({as:L,ref:a,className:ye(M,n?n(r):r),theme:v},B))})}const DL=["variant"];function Km(e){return e.length===0}function Px(e){const{variant:t}=e,r=Se(e,DL);let n=t||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=Km(n)?e[i]:ve(e[i]):n+=`${Km(n)?i:ve(i)}${ve(e[i].toString())}`}),n}const OL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],ML=["theme"],wL=["theme"];function da(e){return Object.keys(e).length===0}function kL(e){return typeof e=="string"&&e.charCodeAt(0)>96}const FL=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,NL=(e,t)=>{let r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);const n={};return r.forEach(i=>{const o=Px(i.props);n[o]=i.style}),n},BL=(e,t,r,n)=>{var i,o;const{ownerState:s={}}=e,l=[],a=r==null||(i=r.components)==null||(o=i[n])==null?void 0:o.variants;return a&&a.forEach(v=>{let d=!0;Object.keys(v.props).forEach(M=>{s[M]!==v.props[M]&&e[M]!==v.props[M]&&(d=!1)}),d&&l.push(t[Px(v.props)])}),l};function Ba(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const UL=Is();function Lx(e={}){const{defaultTheme:t=UL,rootShouldForwardProp:r=Ba,slotShouldForwardProp:n=Ba}=e,i=o=>{const s=da(o.theme)?t:o.theme;return nc(V({},o,{theme:s}))};return i.__mui_systemSx=!0,(o,s={})=>{RP(o,u=>u.filter(A=>!(A!=null&&A.__mui_systemSx)));const{name:l,slot:a,skipVariantsResolver:v,skipSx:d,overridesResolver:M}=s,L=Se(s,OL),B=v!==void 0?v:a&&a!=="Root"||!1,I=d||!1;let p,w=Ba;a==="Root"?w=r:a?w=n:kL(o)&&(w=void 0);const S=Ex(o,V({shouldForwardProp:w,label:p},L)),E=(u,...A)=>{const x=A?A.map(g=>typeof g=="function"&&g.__emotion_real!==g?R=>{let{theme:O}=R,b=Se(R,ML);return g(V({theme:da(O)?t:O},b))}:g):[];let h=u;l&&M&&x.push(g=>{const R=da(g.theme)?t:g.theme,O=FL(l,R);if(O){const b={};return Object.entries(O).forEach(([P,F])=>{b[P]=typeof F=="function"?F(V({},g,{theme:R})):F}),M(g,b)}return null}),l&&!B&&x.push(g=>{const R=da(g.theme)?t:g.theme;return BL(g,NL(l,R),R,l)}),I||x.push(i);const f=x.length-A.length;if(Array.isArray(u)&&f>0){const g=new Array(f).fill("");h=[...u,...g],h.raw=[...u.raw,...g]}else typeof u=="function"&&u.__emotion_real!==u&&(h=g=>{let{theme:R}=g,O=Se(g,wL);return u(V({theme:da(R)?t:R},O))});return S(h,...x)};return S.withConfig&&(E.withConfig=S.withConfig),E}}const $L=Lx(),Ax=$L;function Ix(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:Qh(t.components[r].defaultProps,n)}function fp({props:e,name:t,defaultTheme:r}){const n=oc(r);return Ix({theme:n,name:t,props:e})}function hp(e,t=0,r=1){return Math.min(Math.max(t,e),r)}function KL(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ui(e){if(e.type)return e;if(e.charAt(0)==="#")return Ui(KL(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(li(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(li(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}function ac(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function WL(e){e=Ui(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),s=(v,d=(v+r/30)%12)=>i-o*Math.max(Math.min(d-3,9-d,1),-1);let l="rgb";const a=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(l+="a",a.push(t[3])),ac({type:l,values:a})}function Wm(e){e=Ui(e);let t=e.type==="hsl"||e.type==="hsla"?Ui(WL(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function zL(e,t){const r=Wm(e),n=Wm(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Ne(e,t){return e=Ui(e),t=hp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ac(e)}function Dx(e,t){if(e=Ui(e),t=hp(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return ac(e)}function Ox(e,t){if(e=Ui(e),t=hp(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ac(e)}const HL={};function jL(e){const t=oc();return Q(op.Provider,{value:typeof t=="object"?t:HL,children:e.children})}function VL(e){const{children:t,theme:r}=e;return Q(RL,{theme:r,children:Q(jL,{children:t})})}const GL=["className","component","disableGutters","fixed","maxWidth","classes"],YL=Is(),XL=Ax("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ve(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),QL=e=>fp({props:e,name:"MuiContainer",defaultTheme:YL}),JL=(e,t)=>{const r=a=>Ie(t,a),{classes:n,fixed:i,disableGutters:o,maxWidth:s}=e,l={root:["root",s&&`maxWidth${ve(String(s))}`,i&&"fixed",o&&"disableGutters"]};return De(l,r,n)};function ZL(e={}){const{createStyledComponent:t=XL,useThemeProps:r=QL,componentName:n="MuiContainer"}=e,i=t(({theme:s,ownerState:l})=>V({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!l.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:l})=>l.fixed&&Object.keys(s.breakpoints.values).reduce((a,v)=>{const d=v,M=s.breakpoints.values[d];return M!==0&&(a[s.breakpoints.up(d)]={maxWidth:`${M}${s.breakpoints.unit}`}),a},{}),({theme:s,ownerState:l})=>V({},l.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},l.maxWidth&&l.maxWidth!=="xs"&&{[s.breakpoints.up(l.maxWidth)]:{maxWidth:`${s.breakpoints.values[l.maxWidth]}${s.breakpoints.unit}`}}));return j.forwardRef(function(l,a){const v=r(l),{className:d,component:M="div",disableGutters:L=!1,fixed:B=!1,maxWidth:I="lg"}=v,p=Se(v,GL),w=V({},v,{component:M,disableGutters:L,fixed:B,maxWidth:I}),S=JL(w,n);return Q(i,V({as:M,ownerState:w,className:ye(S.root,d),ref:a},p))})}const qL=["component","direction","spacing","divider","children","className"],eA=Is(),tA=Ax("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function rA(e){return fp({props:e,name:"MuiStack",defaultTheme:eA})}function nA(e,t){const r=j.Children.toArray(e).filter(Boolean);return r.reduce((n,i,o)=>(n.push(i),o<r.length-1&&n.push(j.cloneElement(t,{key:`separator-${o}`})),n),[])}const iA=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],oA=({ownerState:e,theme:t})=>{let r=V({display:"flex",flexDirection:"column"},Jt({theme:t},Ai({values:e.direction,breakpoints:t.breakpoints.values}),n=>({flexDirection:n})));if(e.spacing){const n=up(t),i=Object.keys(t.breakpoints.values).reduce((a,v)=>((typeof e.spacing=="object"&&e.spacing[v]!=null||typeof e.direction=="object"&&e.direction[v]!=null)&&(a[v]=!0),a),{}),o=Ai({values:e.direction,base:i}),s=Ai({values:e.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((a,v,d)=>{if(!o[a]){const L=v>0?o[d[v-1]]:"column";o[a]=L}}),r=lr(r,Jt({theme:t},s,(a,v)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${iA(v?o[v]:e.direction)}`]:Xo(n,a)}})))}return r=PP(t.breakpoints,r),r};function aA(e={}){const{createStyledComponent:t=tA,useThemeProps:r=rA,componentName:n="MuiStack"}=e,i=()=>De({root:["root"]},a=>Ie(n,a),{}),o=t(oA);return j.forwardRef(function(a,v){const d=r(a),M=ic(d),{component:L="div",direction:B="column",spacing:I=0,divider:p,children:w,className:S}=M,E=Se(M,qL),u={direction:B,spacing:I},A=i();return Q(o,V({as:L,ownerState:u,ref:v,className:ye(A.root,S)},E,{children:p?nA(w,p):w}))})}function sA(e,t){return V({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const lA=["mode","contrastThreshold","tonalOffset"],zm={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ds.white,default:ds.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ld={text:{primary:ds.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ds.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Hm(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=Ox(e.main,i):t==="dark"&&(e.dark=Dx(e.main,o)))}function uA(e="light"){return e==="dark"?{main:Xi[200],light:Xi[50],dark:Xi[400]}:{main:Xi[700],light:Xi[400],dark:Xi[800]}}function cA(e="light"){return e==="dark"?{main:Yi[200],light:Yi[50],dark:Yi[400]}:{main:Yi[500],light:Yi[300],dark:Yi[700]}}function dA(e="light"){return e==="dark"?{main:Gi[500],light:Gi[300],dark:Gi[700]}:{main:Gi[700],light:Gi[400],dark:Gi[800]}}function fA(e="light"){return e==="dark"?{main:Qi[400],light:Qi[300],dark:Qi[700]}:{main:Qi[700],light:Qi[500],dark:Qi[900]}}function hA(e="light"){return e==="dark"?{main:Ji[400],light:Ji[300],dark:Ji[700]}:{main:Ji[800],light:Ji[500],dark:Ji[900]}}function pA(e="light"){return e==="dark"?{main:ua[400],light:ua[300],dark:ua[700]}:{main:"#ed6c02",light:ua[500],dark:ua[900]}}function vA(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Se(e,lA),o=e.primary||uA(t),s=e.secondary||cA(t),l=e.error||dA(t),a=e.info||fA(t),v=e.success||hA(t),d=e.warning||pA(t);function M(p){return zL(p,ld.text.primary)>=r?ld.text.primary:zm.text.primary}const L=({color:p,name:w,mainShade:S=500,lightShade:E=300,darkShade:u=700})=>{if(p=V({},p),!p.main&&p[S]&&(p.main=p[S]),!p.hasOwnProperty("main"))throw new Error(li(11,w?` (${w})`:"",S));if(typeof p.main!="string")throw new Error(li(12,w?` (${w})`:"",JSON.stringify(p.main)));return Hm(p,"light",E,n),Hm(p,"dark",u,n),p.contrastText||(p.contrastText=M(p.main)),p},B={dark:ld,light:zm};return lr(V({common:V({},ds),mode:t,primary:L({color:o,name:"primary"}),secondary:L({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:L({color:l,name:"error"}),warning:L({color:d,name:"warning"}),info:L({color:a,name:"info"}),success:L({color:v,name:"success"}),grey:sR,contrastThreshold:r,getContrastText:M,augmentColor:L,tonalOffset:n},B[t]),i)}const mA=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function gA(e){return Math.round(e*1e5)/1e5}const jm={textTransform:"uppercase"},Vm='"Roboto", "Helvetica", "Arial", sans-serif';function yA(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=Vm,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:a=700,htmlFontSize:v=16,allVariants:d,pxToRem:M}=r,L=Se(r,mA),B=i/14,I=M||(S=>`${S/v*B}rem`),p=(S,E,u,A,x)=>V({fontFamily:n,fontWeight:S,fontSize:I(E),lineHeight:u},n===Vm?{letterSpacing:`${gA(A/E)}em`}:{},x,d),w={h1:p(o,96,1.167,-1.5),h2:p(o,60,1.2,-.5),h3:p(s,48,1.167,0),h4:p(s,34,1.235,.25),h5:p(s,24,1.334,0),h6:p(l,20,1.6,.15),subtitle1:p(s,16,1.75,.15),subtitle2:p(l,14,1.57,.1),body1:p(s,16,1.5,.15),body2:p(s,14,1.43,.15),button:p(l,14,1.75,.4,jm),caption:p(s,12,1.66,.4),overline:p(s,12,2.66,1,jm),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr(V({htmlFontSize:v,pxToRem:I,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:a},w),L,{clone:!1})}const EA=.2,xA=.14,SA=.12;function ct(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${EA})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${xA})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${SA})`].join(",")}const TA=["none",ct(0,2,1,-1,0,1,1,0,0,1,3,0),ct(0,3,1,-2,0,2,2,0,0,1,5,0),ct(0,3,3,-2,0,3,4,0,0,1,8,0),ct(0,2,4,-1,0,4,5,0,0,1,10,0),ct(0,3,5,-1,0,5,8,0,0,1,14,0),ct(0,3,5,-1,0,6,10,0,0,1,18,0),ct(0,4,5,-2,0,7,10,1,0,2,16,1),ct(0,5,5,-3,0,8,10,1,0,3,14,2),ct(0,5,6,-3,0,9,12,1,0,3,16,2),ct(0,6,6,-3,0,10,14,1,0,4,18,3),ct(0,6,7,-4,0,11,15,1,0,4,20,3),ct(0,7,8,-4,0,12,17,2,0,5,22,4),ct(0,7,8,-4,0,13,19,2,0,5,24,4),ct(0,7,9,-4,0,14,21,2,0,5,26,4),ct(0,8,9,-5,0,15,22,2,0,6,28,5),ct(0,8,10,-5,0,16,24,2,0,6,30,5),ct(0,8,11,-5,0,17,26,2,0,6,32,5),ct(0,9,11,-5,0,18,28,2,0,7,34,6),ct(0,9,12,-6,0,19,29,2,0,7,36,6),ct(0,10,13,-6,0,20,31,3,0,8,38,7),ct(0,10,13,-6,0,21,33,3,0,8,40,7),ct(0,10,14,-6,0,22,35,3,0,8,42,7),ct(0,11,14,-7,0,23,36,3,0,9,44,8),ct(0,11,15,-7,0,24,38,3,0,9,46,8)],bA=TA,CA=["duration","easing","delay"],_A={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},RA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Gm(e){return`${Math.round(e)}ms`}function PA(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function LA(e){const t=V({},_A,e.easing),r=V({},RA,e.duration);return V({getAutoHeightDuration:PA,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:l=t.easeInOut,delay:a=0}=o;return Se(o,CA),(Array.isArray(i)?i:[i]).map(v=>`${v} ${typeof s=="string"?s:Gm(s)} ${l} ${typeof a=="string"?a:Gm(a)}`).join(",")}},e,{easing:t,duration:r})}const AA={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},IA=AA,DA=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function pp(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,s=Se(e,DA);if(e.vars)throw new Error(li(18));const l=vA(n),a=Is(e);let v=lr(a,{mixins:sA(a.breakpoints,r),palette:l,shadows:bA.slice(),typography:yA(l,o),transitions:LA(i),zIndex:V({},IA)});return v=lr(v,s),v=t.reduce((d,M)=>lr(d,M),v),v.unstable_sxConfig=V({},rc,s==null?void 0:s.unstable_sxConfig),v.unstable_sx=function(M){return nc({sx:M,theme:this})},v}function OA(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function MA(e){return parseFloat(e)}const wA=pp(),sc=wA;function rn(){return oc(sc)}function Oe({props:e,name:t}){return fp({props:e,name:t,defaultTheme:sc})}const nn=e=>Ba(e)&&e!=="classes",lc=Ba,kA=Lx({defaultTheme:sc,rootShouldForwardProp:nn}),pe=kA,FA=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},Ym=FA;function mn(e){return typeof e=="string"}function ba(e,t,r){return e===void 0||mn(e)?t:V({},t,{ownerState:V({},t.ownerState,r)})}const NA={disableDefaultClasses:!1},BA=j.createContext(NA);function Mx(e){const{disableDefaultClasses:t}=j.useContext(BA);return r=>t?"":e(r)}function UA(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function Df(e,t){return typeof e=="function"?e(t):e}function Xm(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function $A(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const B=ye(i==null?void 0:i.className,n==null?void 0:n.className,o,r==null?void 0:r.className),I=V({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),p=V({},r,i,n);return B.length>0&&(p.className=B),Object.keys(I).length>0&&(p.style=I),{props:p,internalRef:void 0}}const s=UA(V({},i,n)),l=Xm(n),a=Xm(i),v=t(s),d=ye(v==null?void 0:v.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),M=V({},v==null?void 0:v.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),L=V({},v,r,a,l);return d.length>0&&(L.className=d),Object.keys(M).length>0&&(L.style=M),{props:L,internalRef:v.ref}}const KA=["elementType","externalSlotProps","ownerState"];function Yr(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i}=e,o=Se(e,KA),s=Df(n,i),{props:l,internalRef:a}=$A(V({},o,{externalSlotProps:s})),v=ft(a,s==null?void 0:s.ref,(t=e.additionalProps)==null?void 0:t.ref);return ba(r,V({},l,{ref:v}),i)}const WA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zA(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function HA(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function jA(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||HA(e))}function VA(e){const t=[],r=[];return Array.from(e.querySelectorAll(WA)).forEach((n,i)=>{const o=zA(n);o===-1||!jA(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function GA(){return!0}function YA(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=VA,isEnabled:s=GA,open:l}=e,a=j.useRef(!1),v=j.useRef(null),d=j.useRef(null),M=j.useRef(null),L=j.useRef(null),B=j.useRef(!1),I=j.useRef(null),p=ft(t.ref,I),w=j.useRef(null);j.useEffect(()=>{!l||!I.current||(B.current=!r)},[r,l]),j.useEffect(()=>{if(!l||!I.current)return;const u=Lt(I.current);return I.current.contains(u.activeElement)||(I.current.hasAttribute("tabIndex")||I.current.setAttribute("tabIndex","-1"),B.current&&I.current.focus()),()=>{i||(M.current&&M.current.focus&&(a.current=!0,M.current.focus()),M.current=null)}},[l]),j.useEffect(()=>{if(!l||!I.current)return;const u=Lt(I.current),A=f=>{const{current:m}=I;if(m!==null){if(!u.hasFocus()||n||!s()||a.current){a.current=!1;return}if(!m.contains(u.activeElement)){if(f&&L.current!==f.target||u.activeElement!==L.current)L.current=null;else if(L.current!==null)return;if(!B.current)return;let O=[];if((u.activeElement===v.current||u.activeElement===d.current)&&(O=o(I.current)),O.length>0){var g,R;const b=Boolean(((g=w.current)==null?void 0:g.shiftKey)&&((R=w.current)==null?void 0:R.key)==="Tab"),P=O[0],F=O[O.length-1];typeof P!="string"&&typeof F!="string"&&(b?F.focus():P.focus())}else m.focus()}}},x=f=>{w.current=f,!(n||!s()||f.key!=="Tab")&&u.activeElement===I.current&&f.shiftKey&&(a.current=!0,d.current&&d.current.focus())};u.addEventListener("focusin",A),u.addEventListener("keydown",x,!0);const h=setInterval(()=>{u.activeElement&&u.activeElement.tagName==="BODY"&&A(null)},50);return()=>{clearInterval(h),u.removeEventListener("focusin",A),u.removeEventListener("keydown",x,!0)}},[r,n,i,s,l,o]);const S=u=>{M.current===null&&(M.current=u.relatedTarget),B.current=!0,L.current=u.target;const A=t.props.onFocus;A&&A(u)},E=u=>{M.current===null&&(M.current=u.relatedTarget),B.current=!0};return be(j.Fragment,{children:[Q("div",{tabIndex:l?0:-1,onFocus:E,ref:v,"data-testid":"sentinelStart"}),j.cloneElement(t,{ref:p,onFocus:S}),Q("div",{tabIndex:l?0:-1,onFocus:E,ref:d,"data-testid":"sentinelEnd"})]})}var ur="top",$r="bottom",Kr="right",cr="left",vp="auto",Ds=[ur,$r,Kr,cr],Uo="start",vs="end",XA="clippingParents",wx="viewport",fa="popper",QA="reference",Qm=Ds.reduce(function(e,t){return e.concat([t+"-"+Uo,t+"-"+vs])},[]),kx=[].concat(Ds,[vp]).reduce(function(e,t){return e.concat([t,t+"-"+Uo,t+"-"+vs])},[]),JA="beforeRead",ZA="read",qA="afterRead",eI="beforeMain",tI="main",rI="afterMain",nI="beforeWrite",iI="write",oI="afterWrite",aI=[JA,ZA,qA,eI,tI,rI,nI,iI,oI];function En(e){return e?(e.nodeName||"").toLowerCase():null}function Wr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $i(e){var t=Wr(e).Element;return e instanceof t||e instanceof Element}function Nr(e){var t=Wr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function mp(e){if(typeof ShadowRoot>"u")return!1;var t=Wr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function sI(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!Nr(o)||!En(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var l=i[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function lI(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},s=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),l=s.reduce(function(a,v){return a[v]="",a},{});!Nr(i)||!En(i)||(Object.assign(i.style,l),Object.keys(o).forEach(function(a){i.removeAttribute(a)}))})}}const uI={name:"applyStyles",enabled:!0,phase:"write",fn:sI,effect:lI,requires:["computeStyles"]};function gn(e){return e.split("-")[0]}var Ii=Math.max,au=Math.min,$o=Math.round;function Of(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Fx(){return!/^((?!chrome|android).)*safari/i.test(Of())}function Ko(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,o=1;t&&Nr(e)&&(i=e.offsetWidth>0&&$o(n.width)/e.offsetWidth||1,o=e.offsetHeight>0&&$o(n.height)/e.offsetHeight||1);var s=$i(e)?Wr(e):window,l=s.visualViewport,a=!Fx()&&r,v=(n.left+(a&&l?l.offsetLeft:0))/i,d=(n.top+(a&&l?l.offsetTop:0))/o,M=n.width/i,L=n.height/o;return{width:M,height:L,top:d,right:v+M,bottom:d+L,left:v,x:v,y:d}}function gp(e){var t=Ko(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Nx(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&mp(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function On(e){return Wr(e).getComputedStyle(e)}function cI(e){return["table","td","th"].indexOf(En(e))>=0}function pi(e){return(($i(e)?e.ownerDocument:e.document)||window.document).documentElement}function uc(e){return En(e)==="html"?e:e.assignedSlot||e.parentNode||(mp(e)?e.host:null)||pi(e)}function Jm(e){return!Nr(e)||On(e).position==="fixed"?null:e.offsetParent}function dI(e){var t=/firefox/i.test(Of()),r=/Trident/i.test(Of());if(r&&Nr(e)){var n=On(e);if(n.position==="fixed")return null}var i=uc(e);for(mp(i)&&(i=i.host);Nr(i)&&["html","body"].indexOf(En(i))<0;){var o=On(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Os(e){for(var t=Wr(e),r=Jm(e);r&&cI(r)&&On(r).position==="static";)r=Jm(r);return r&&(En(r)==="html"||En(r)==="body"&&On(r).position==="static")?t:r||dI(e)||t}function yp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ua(e,t,r){return Ii(e,au(t,r))}function fI(e,t,r){var n=Ua(e,t,r);return n>r?r:n}function Bx(){return{top:0,right:0,bottom:0,left:0}}function Ux(e){return Object.assign({},Bx(),e)}function $x(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var hI=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Ux(typeof t!="number"?t:$x(t,Ds))};function pI(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,l=gn(r.placement),a=yp(l),v=[cr,Kr].indexOf(l)>=0,d=v?"height":"width";if(!(!o||!s)){var M=hI(i.padding,r),L=gp(o),B=a==="y"?ur:cr,I=a==="y"?$r:Kr,p=r.rects.reference[d]+r.rects.reference[a]-s[a]-r.rects.popper[d],w=s[a]-r.rects.reference[a],S=Os(o),E=S?a==="y"?S.clientHeight||0:S.clientWidth||0:0,u=p/2-w/2,A=M[B],x=E-L[d]-M[I],h=E/2-L[d]/2+u,f=Ua(A,h,x),m=a;r.modifiersData[n]=(t={},t[m]=f,t.centerOffset=f-h,t)}}function vI(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Nx(t.elements.popper,i)&&(t.elements.arrow=i))}const mI={name:"arrow",enabled:!0,phase:"main",fn:pI,effect:vI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wo(e){return e.split("-")[1]}var gI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yI(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:$o(t*i)/i||0,y:$o(r*i)/i||0}}function Zm(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,l=e.position,a=e.gpuAcceleration,v=e.adaptive,d=e.roundOffsets,M=e.isFixed,L=s.x,B=L===void 0?0:L,I=s.y,p=I===void 0?0:I,w=typeof d=="function"?d({x:B,y:p}):{x:B,y:p};B=w.x,p=w.y;var S=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),u=cr,A=ur,x=window;if(v){var h=Os(r),f="clientHeight",m="clientWidth";if(h===Wr(r)&&(h=pi(r),On(h).position!=="static"&&l==="absolute"&&(f="scrollHeight",m="scrollWidth")),h=h,i===ur||(i===cr||i===Kr)&&o===vs){A=$r;var g=M&&h===x&&x.visualViewport?x.visualViewport.height:h[f];p-=g-n.height,p*=a?1:-1}if(i===cr||(i===ur||i===$r)&&o===vs){u=Kr;var R=M&&h===x&&x.visualViewport?x.visualViewport.width:h[m];B-=R-n.width,B*=a?1:-1}}var O=Object.assign({position:l},v&&gI),b=d===!0?yI({x:B,y:p}):{x:B,y:p};if(B=b.x,p=b.y,a){var P;return Object.assign({},O,(P={},P[A]=E?"0":"",P[u]=S?"0":"",P.transform=(x.devicePixelRatio||1)<=1?"translate("+B+"px, "+p+"px)":"translate3d("+B+"px, "+p+"px, 0)",P))}return Object.assign({},O,(t={},t[A]=E?p+"px":"",t[u]=S?B+"px":"",t.transform="",t))}function EI(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,l=r.roundOffsets,a=l===void 0?!0:l,v={placement:gn(t.placement),variation:Wo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Zm(Object.assign({},v,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Zm(Object.assign({},v,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const xI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:EI,data:{}};var qs={passive:!0};function SI(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,l=s===void 0?!0:s,a=Wr(t.elements.popper),v=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&v.forEach(function(d){d.addEventListener("scroll",r.update,qs)}),l&&a.addEventListener("resize",r.update,qs),function(){o&&v.forEach(function(d){d.removeEventListener("scroll",r.update,qs)}),l&&a.removeEventListener("resize",r.update,qs)}}const TI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:SI,data:{}};var bI={left:"right",right:"left",bottom:"top",top:"bottom"};function Il(e){return e.replace(/left|right|bottom|top/g,function(t){return bI[t]})}var CI={start:"end",end:"start"};function qm(e){return e.replace(/start|end/g,function(t){return CI[t]})}function Ep(e){var t=Wr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function xp(e){return Ko(pi(e)).left+Ep(e).scrollLeft}function _I(e,t){var r=Wr(e),n=pi(e),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,l=0,a=0;if(i){o=i.width,s=i.height;var v=Fx();(v||!v&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:s,x:l+xp(e),y:a}}function RI(e){var t,r=pi(e),n=Ep(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Ii(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Ii(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-n.scrollLeft+xp(e),a=-n.scrollTop;return On(i||r).direction==="rtl"&&(l+=Ii(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:a}}function Sp(e){var t=On(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Kx(e){return["html","body","#document"].indexOf(En(e))>=0?e.ownerDocument.body:Nr(e)&&Sp(e)?e:Kx(uc(e))}function $a(e,t){var r;t===void 0&&(t=[]);var n=Kx(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=Wr(n),s=i?[o].concat(o.visualViewport||[],Sp(n)?n:[]):n,l=t.concat(s);return i?l:l.concat($a(uc(s)))}function Mf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function PI(e,t){var r=Ko(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function eg(e,t,r){return t===wx?Mf(_I(e,r)):$i(t)?PI(t,r):Mf(RI(pi(e)))}function LI(e){var t=$a(uc(e)),r=["absolute","fixed"].indexOf(On(e).position)>=0,n=r&&Nr(e)?Os(e):e;return $i(n)?t.filter(function(i){return $i(i)&&Nx(i,n)&&En(i)!=="body"}):[]}function AI(e,t,r,n){var i=t==="clippingParents"?LI(e):[].concat(t),o=[].concat(i,[r]),s=o[0],l=o.reduce(function(a,v){var d=eg(e,v,n);return a.top=Ii(d.top,a.top),a.right=au(d.right,a.right),a.bottom=au(d.bottom,a.bottom),a.left=Ii(d.left,a.left),a},eg(e,s,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Wx(e){var t=e.reference,r=e.element,n=e.placement,i=n?gn(n):null,o=n?Wo(n):null,s=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,a;switch(i){case ur:a={x:s,y:t.y-r.height};break;case $r:a={x:s,y:t.y+t.height};break;case Kr:a={x:t.x+t.width,y:l};break;case cr:a={x:t.x-r.width,y:l};break;default:a={x:t.x,y:t.y}}var v=i?yp(i):null;if(v!=null){var d=v==="y"?"height":"width";switch(o){case Uo:a[v]=a[v]-(t[d]/2-r[d]/2);break;case vs:a[v]=a[v]+(t[d]/2-r[d]/2);break}}return a}function ms(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.strategy,s=o===void 0?e.strategy:o,l=r.boundary,a=l===void 0?XA:l,v=r.rootBoundary,d=v===void 0?wx:v,M=r.elementContext,L=M===void 0?fa:M,B=r.altBoundary,I=B===void 0?!1:B,p=r.padding,w=p===void 0?0:p,S=Ux(typeof w!="number"?w:$x(w,Ds)),E=L===fa?QA:fa,u=e.rects.popper,A=e.elements[I?E:L],x=AI($i(A)?A:A.contextElement||pi(e.elements.popper),a,d,s),h=Ko(e.elements.reference),f=Wx({reference:h,element:u,strategy:"absolute",placement:i}),m=Mf(Object.assign({},u,f)),g=L===fa?m:h,R={top:x.top-g.top+S.top,bottom:g.bottom-x.bottom+S.bottom,left:x.left-g.left+S.left,right:g.right-x.right+S.right},O=e.modifiersData.offset;if(L===fa&&O){var b=O[i];Object.keys(R).forEach(function(P){var F=[Kr,$r].indexOf(P)>=0?1:-1,T=[ur,$r].indexOf(P)>=0?"y":"x";R[P]+=b[T]*F})}return R}function II(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,l=r.flipVariations,a=r.allowedAutoPlacements,v=a===void 0?kx:a,d=Wo(n),M=d?l?Qm:Qm.filter(function(I){return Wo(I)===d}):Ds,L=M.filter(function(I){return v.indexOf(I)>=0});L.length===0&&(L=M);var B=L.reduce(function(I,p){return I[p]=ms(e,{placement:p,boundary:i,rootBoundary:o,padding:s})[gn(p)],I},{});return Object.keys(B).sort(function(I,p){return B[I]-B[p]})}function DI(e){if(gn(e)===vp)return[];var t=Il(e);return[qm(e),t,qm(t)]}function OI(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!0:s,a=r.fallbackPlacements,v=r.padding,d=r.boundary,M=r.rootBoundary,L=r.altBoundary,B=r.flipVariations,I=B===void 0?!0:B,p=r.allowedAutoPlacements,w=t.options.placement,S=gn(w),E=S===w,u=a||(E||!I?[Il(w)]:DI(w)),A=[w].concat(u).reduce(function($,K){return $.concat(gn(K)===vp?II(t,{placement:K,boundary:d,rootBoundary:M,padding:v,flipVariations:I,allowedAutoPlacements:p}):K)},[]),x=t.rects.reference,h=t.rects.popper,f=new Map,m=!0,g=A[0],R=0;R<A.length;R++){var O=A[R],b=gn(O),P=Wo(O)===Uo,F=[ur,$r].indexOf(b)>=0,T=F?"width":"height",C=ms(t,{placement:O,boundary:d,rootBoundary:M,altBoundary:L,padding:v}),y=F?P?Kr:cr:P?$r:ur;x[T]>h[T]&&(y=Il(y));var _=Il(y),c=[];if(o&&c.push(C[b]<=0),l&&c.push(C[y]<=0,C[_]<=0),c.every(function($){return $})){g=O,m=!1;break}f.set(O,c)}if(m)for(var D=I?3:1,N=function(K){var W=A.find(function(z){var H=f.get(z);if(H)return H.slice(0,K).every(function(G){return G})});if(W)return g=W,"break"},k=D;k>0;k--){var U=N(k);if(U==="break")break}t.placement!==g&&(t.modifiersData[n]._skip=!0,t.placement=g,t.reset=!0)}}const MI={name:"flip",enabled:!0,phase:"main",fn:OI,requiresIfExists:["offset"],data:{_skip:!1}};function tg(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function rg(e){return[ur,Kr,$r,cr].some(function(t){return e[t]>=0})}function wI(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=ms(t,{elementContext:"reference"}),l=ms(t,{altBoundary:!0}),a=tg(s,n),v=tg(l,i,o),d=rg(a),M=rg(v);t.modifiersData[r]={referenceClippingOffsets:a,popperEscapeOffsets:v,isReferenceHidden:d,hasPopperEscaped:M},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":M})}const kI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wI};function FI(e,t,r){var n=gn(e),i=[cr,ur].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[cr,Kr].indexOf(n)>=0?{x:l,y:s}:{x:s,y:l}}function NI(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,s=kx.reduce(function(d,M){return d[M]=FI(M,t.rects,o),d},{}),l=s[t.placement],a=l.x,v=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=v),t.modifiersData[n]=s}const BI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NI};function UI(e){var t=e.state,r=e.name;t.modifiersData[r]=Wx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const $I={name:"popperOffsets",enabled:!0,phase:"read",fn:UI,data:{}};function KI(e){return e==="x"?"y":"x"}function WI(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,l=s===void 0?!1:s,a=r.boundary,v=r.rootBoundary,d=r.altBoundary,M=r.padding,L=r.tether,B=L===void 0?!0:L,I=r.tetherOffset,p=I===void 0?0:I,w=ms(t,{boundary:a,rootBoundary:v,padding:M,altBoundary:d}),S=gn(t.placement),E=Wo(t.placement),u=!E,A=yp(S),x=KI(A),h=t.modifiersData.popperOffsets,f=t.rects.reference,m=t.rects.popper,g=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,R=typeof g=="number"?{mainAxis:g,altAxis:g}:Object.assign({mainAxis:0,altAxis:0},g),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,b={x:0,y:0};if(h){if(o){var P,F=A==="y"?ur:cr,T=A==="y"?$r:Kr,C=A==="y"?"height":"width",y=h[A],_=y+w[F],c=y-w[T],D=B?-m[C]/2:0,N=E===Uo?f[C]:m[C],k=E===Uo?-m[C]:-f[C],U=t.elements.arrow,$=B&&U?gp(U):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Bx(),W=K[F],z=K[T],H=Ua(0,f[C],$[C]),G=u?f[C]/2-D-H-W-R.mainAxis:N-H-W-R.mainAxis,X=u?-f[C]/2+D+H+z+R.mainAxis:k+H+z+R.mainAxis,Y=t.elements.arrow&&Os(t.elements.arrow),Z=Y?A==="y"?Y.clientTop||0:Y.clientLeft||0:0,q=(P=O==null?void 0:O[A])!=null?P:0,ne=y+G-q-Z,te=y+X-q,ie=Ua(B?au(_,ne):_,y,B?Ii(c,te):c);h[A]=ie,b[A]=ie-y}if(l){var ae,ge=A==="x"?ur:cr,de=A==="x"?$r:Kr,oe=h[x],he=x==="y"?"height":"width",Pe=oe+w[ge],Ae=oe-w[de],ce=[ur,cr].indexOf(S)!==-1,fe=(ae=O==null?void 0:O[x])!=null?ae:0,Te=ce?Pe:oe-f[he]-m[he]-fe+R.altAxis,xe=ce?oe+f[he]+m[he]-fe-R.altAxis:Ae,ee=B&&ce?fI(Te,oe,xe):Ua(B?Te:Pe,oe,B?xe:Ae);h[x]=ee,b[x]=ee-oe}t.modifiersData[n]=b}}const zI={name:"preventOverflow",enabled:!0,phase:"main",fn:WI,requiresIfExists:["offset"]};function HI(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function jI(e){return e===Wr(e)||!Nr(e)?Ep(e):HI(e)}function VI(e){var t=e.getBoundingClientRect(),r=$o(t.width)/e.offsetWidth||1,n=$o(t.height)/e.offsetHeight||1;return r!==1||n!==1}function GI(e,t,r){r===void 0&&(r=!1);var n=Nr(t),i=Nr(t)&&VI(t),o=pi(t),s=Ko(e,i,r),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!r)&&((En(t)!=="body"||Sp(o))&&(l=jI(t)),Nr(t)?(a=Ko(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):o&&(a.x=xp(o))),{x:s.left+l.scrollLeft-a.x,y:s.top+l.scrollTop-a.y,width:s.width,height:s.height}}function YI(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!r.has(l)){var a=t.get(l);a&&i(a)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function XI(e){var t=YI(e);return aI.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function QI(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function JI(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var ng={placement:"bottom",modifiers:[],strategy:"absolute"};function ig(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ZI(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?ng:i;return function(l,a,v){v===void 0&&(v=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},ng,o),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},M=[],L=!1,B={state:d,setOptions:function(S){var E=typeof S=="function"?S(d.options):S;p(),d.options=Object.assign({},o,d.options,E),d.scrollParents={reference:$i(l)?$a(l):l.contextElement?$a(l.contextElement):[],popper:$a(a)};var u=XI(JI([].concat(n,d.options.modifiers)));return d.orderedModifiers=u.filter(function(A){return A.enabled}),I(),B.update()},forceUpdate:function(){if(!L){var S=d.elements,E=S.reference,u=S.popper;if(ig(E,u)){d.rects={reference:GI(E,Os(u),d.options.strategy==="fixed"),popper:gp(u)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var x=d.orderedModifiers[A],h=x.fn,f=x.options,m=f===void 0?{}:f,g=x.name;typeof h=="function"&&(d=h({state:d,options:m,name:g,instance:B})||d)}}}},update:QI(function(){return new Promise(function(w){B.forceUpdate(),w(d)})}),destroy:function(){p(),L=!0}};if(!ig(l,a))return B;B.setOptions(v).then(function(w){!L&&v.onFirstUpdate&&v.onFirstUpdate(w)});function I(){d.orderedModifiers.forEach(function(w){var S=w.name,E=w.options,u=E===void 0?{}:E,A=w.effect;if(typeof A=="function"){var x=A({state:d,name:S,instance:B,options:u}),h=function(){};M.push(x||h)}})}function p(){M.forEach(function(w){return w()}),M=[]}return B}}var qI=[TI,$I,xI,uI,BI,MI,zI,mI,kI],eD=ZI({defaultModifiers:qI});function tD(e){return typeof e=="function"?e():e}const rD=j.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[s,l]=j.useState(null),a=ft(j.isValidElement(n)?n.ref:null,r);if(Tr(()=>{o||l(tD(i)||document.body)},[i,o]),Tr(()=>{if(s&&!o)return nu(r,s),()=>{nu(r,null)}},[r,s,o]),o){if(j.isValidElement(n)){const v={ref:a};return j.cloneElement(n,v)}return Q(j.Fragment,{children:n})}return Q(j.Fragment,{children:s&&Lo.createPortal(n,s)})}),zx=rD;function nD(e){return Ie("MuiPopper",e)}Me("MuiPopper",["root"]);const iD=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],oD=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function aD(e,t){if(t==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function wf(e){return typeof e=="function"?e():e}function sD(e){return e.nodeType!==void 0}const lD=()=>De({root:["root"]},Mx(nD)),uD={},cD=j.forwardRef(function(t,r){var n;const{anchorEl:i,children:o,component:s,direction:l,disablePortal:a,modifiers:v,open:d,ownerState:M,placement:L,popperOptions:B,popperRef:I,slotProps:p={},slots:w={},TransitionProps:S}=t,E=Se(t,iD),u=j.useRef(null),A=ft(u,r),x=j.useRef(null),h=ft(x,I),f=j.useRef(h);Tr(()=>{f.current=h},[h]),j.useImperativeHandle(I,()=>x.current,[]);const m=aD(L,l),[g,R]=j.useState(m),[O,b]=j.useState(wf(i));j.useEffect(()=>{x.current&&x.current.forceUpdate()}),j.useEffect(()=>{i&&b(wf(i))},[i]),Tr(()=>{if(!O||!d)return;const y=D=>{R(D.placement)};let _=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:D})=>{y(D)}}];v!=null&&(_=_.concat(v)),B&&B.modifiers!=null&&(_=_.concat(B.modifiers));const c=eD(O,u.current,V({placement:m},B,{modifiers:_}));return f.current(c),()=>{c.destroy(),f.current(null)}},[O,a,v,d,B,m]);const P={placement:g};S!==null&&(P.TransitionProps=S);const F=lD(),T=(n=s??w.root)!=null?n:"div",C=Yr({elementType:T,externalSlotProps:p.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:A},ownerState:V({},t,M),className:F.root});return Q(T,V({},C,{children:typeof o=="function"?o(P):o}))}),dD=j.forwardRef(function(t,r){const{anchorEl:n,children:i,container:o,direction:s="ltr",disablePortal:l=!1,keepMounted:a=!1,modifiers:v,open:d,placement:M="bottom",popperOptions:L=uD,popperRef:B,style:I,transition:p=!1,slotProps:w={},slots:S={}}=t,E=Se(t,oD),[u,A]=j.useState(!0),x=()=>{A(!1)},h=()=>{A(!0)};if(!a&&!d&&(!p||u))return null;let f;if(o)f=o;else if(n){const R=wf(n);f=R&&sD(R)?Lt(R).body:Lt(null).body}const m=!d&&a&&(!p||u)?"none":void 0,g=p?{in:d,onEnter:x,onExited:h}:void 0;return Q(zx,{disablePortal:l,container:f,children:Q(cD,V({anchorEl:n,direction:s,disablePortal:l,modifiers:v,ref:r,open:p?!u:d,placement:M,popperOptions:L,popperRef:B,slotProps:w,slots:S},E,{style:V({position:"fixed",top:0,left:0,display:m},I),TransitionProps:g,children:i}))})}),fD=dD;function hD(e){const t=Lt(e);return t.body===e?ui(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ka(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function og(e){return parseInt(ui(e).getComputedStyle(e).paddingRight,10)||0}function pD(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function ag(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,s=>{const l=o.indexOf(s)===-1,a=!pD(s);l&&a&&Ka(s,i)})}function ud(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function vD(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(hD(n)){const s=ex(Lt(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${og(n)+s}px`;const l=Lt(n).querySelectorAll(".mui-fixed");[].forEach.call(l,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${og(a)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Lt(n).body;else{const s=n.parentElement,l=ui(n);o=(s==null?void 0:s.nodeName)==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:l})=>{o?s.style.setProperty(l,o):s.style.removeProperty(l)})}}function mD(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class gD{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&Ka(t.modalRef,!1);const i=mD(r);ag(r,t.mount,t.modalRef,i,!0);const o=ud(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=ud(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=vD(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=ud(this.containers,s=>s.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Ka(t.modalRef,r),ag(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Ka(s.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function yD(e){return Ie("MuiModal",e)}Me("MuiModal",["root","hidden","backdrop"]);const ED=["children","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],xD=e=>{const{open:t,exited:r}=e;return De({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},Mx(yD))};function SD(e){return typeof e=="function"?e():e}function TD(e){return e?e.props.hasOwnProperty("in"):!1}const bD=new gD,CD=j.forwardRef(function(t,r){var n,i;const{children:o,closeAfterTransition:s=!1,component:l,container:a,disableAutoFocus:v=!1,disableEnforceFocus:d=!1,disableEscapeKeyDown:M=!1,disablePortal:L=!1,disableRestoreFocus:B=!1,disableScrollLock:I=!1,hideBackdrop:p=!1,keepMounted:w=!1,manager:S=bD,onBackdropClick:E,onClose:u,onKeyDown:A,open:x,onTransitionEnter:h,onTransitionExited:f,slotProps:m={},slots:g={}}=t,R=Se(t,ED),[O,b]=j.useState(!x),P=j.useRef({}),F=j.useRef(null),T=j.useRef(null),C=ft(T,r),y=TD(o),_=(n=t["aria-hidden"])!=null?n:!0,c=()=>Lt(F.current),D=()=>(P.current.modalRef=T.current,P.current.mountNode=F.current,P.current),N=()=>{S.mount(D(),{disableScrollLock:I}),T.current&&(T.current.scrollTop=0)},k=Jr(()=>{const ae=SD(a)||c().body;S.add(D(),ae),T.current&&N()}),U=j.useCallback(()=>S.isTopModal(D()),[S]),$=Jr(ae=>{F.current=ae,!(!ae||!T.current)&&(x&&U()?N():Ka(T.current,_))}),K=j.useCallback(()=>{S.remove(D(),_)},[S,_]);j.useEffect(()=>()=>{K()},[K]),j.useEffect(()=>{x?k():(!y||!s)&&K()},[x,K,y,s,k]);const W=V({},t,{closeAfterTransition:s,disableAutoFocus:v,disableEnforceFocus:d,disableEscapeKeyDown:M,disablePortal:L,disableRestoreFocus:B,disableScrollLock:I,exited:O,hideBackdrop:p,keepMounted:w}),z=xD(W),H=()=>{b(!1),h&&h()},G=()=>{b(!0),f&&f(),s&&K()},X=ae=>{ae.target===ae.currentTarget&&(E&&E(ae),u&&u(ae,"backdropClick"))},Y=ae=>{A&&A(ae),!(ae.key!=="Escape"||!U())&&(M||(ae.stopPropagation(),u&&u(ae,"escapeKeyDown")))},Z={};o.props.tabIndex===void 0&&(Z.tabIndex="-1"),y&&(Z.onEnter=Cf(H,o.props.onEnter),Z.onExited=Cf(G,o.props.onExited));const q=(i=l??g.root)!=null?i:"div",ne=Yr({elementType:q,externalSlotProps:m.root,externalForwardedProps:R,additionalProps:{ref:C,role:"presentation",onKeyDown:Y},className:z.root,ownerState:W}),te=g.backdrop,ie=Yr({elementType:te,externalSlotProps:m.backdrop,additionalProps:{"aria-hidden":!0,onClick:X,open:x},className:z.backdrop,ownerState:W});return!w&&!x&&(!y||O)?null:Q(zx,{ref:$,container:a,disablePortal:L,children:be(q,V({},ne,{children:[!p&&te?Q(te,V({},ie)):null,Q(YA,{disableEnforceFocus:d,disableAutoFocus:v,disableRestoreFocus:B,isEnabled:U,open:x,children:j.cloneElement(o,Z)})]}))})}),_D=CD,RD=2;function Hx(e,t){return e-t}function ha(e,t,r){return e==null?t:Math.min(Math.max(t,e),r)}function sg(e,t){var r;const{index:n}=(r=e.reduce((i,o,s)=>{const l=Math.abs(t-o);return i===null||l<i.distance||l===i.distance?{distance:l,index:s}:i},null))!=null?r:{};return n}function el(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function su(e,t,r){return(e-t)*100/(r-t)}function PD(e,t,r){return(r-t)*e+t}function LD(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function AD(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(LD(t)))}function lg({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(Hx)}function tl({sliderRef:e,activeIndex:t,setActive:r}){var n,i;const o=Lt(e.current);if(!((n=e.current)!=null&&n.contains(o.activeElement))||Number(o==null||(i=o.activeElement)==null?void 0:i.getAttribute("data-index"))!==t){var s;(s=e.current)==null||s.querySelector(`[type="range"][data-index="${t}"]`).focus()}r&&r(t)}const ID={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},DD=e=>e;let rl;function cd(){return rl===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?rl=CSS.supports("touch-action","none"):rl=!0),rl}function OD(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:l=100,min:a=0,name:v,onChange:d,onChangeCommitted:M,orientation:L="horizontal",ref:B,scale:I=DD,step:p=1,tabIndex:w,value:S}=e,E=j.useRef(),[u,A]=j.useState(-1),[x,h]=j.useState(-1),[f,m]=j.useState(!1),g=j.useRef(0),[R,O]=ci({controlled:S,default:r??a,name:"Slider"}),b=d&&((ce,fe,Te)=>{const xe=ce.nativeEvent||ce,ee=new xe.constructor(xe.type,xe);Object.defineProperty(ee,"target",{writable:!0,value:{value:fe,name:v}}),d(ee,fe,Te)}),P=Array.isArray(R);let F=P?R.slice().sort(Hx):[R];F=F.map(ce=>ha(ce,a,l));const T=s===!0&&p!==null?[...Array(Math.floor((l-a)/p)+1)].map((ce,fe)=>({value:a+p*fe})):s||[],C=T.map(ce=>ce.value),{isFocusVisibleRef:y,onBlur:_,onFocus:c,ref:D}=Rs(),[N,k]=j.useState(-1),U=j.useRef(),$=ft(D,U),K=ft(B,$),W=ce=>fe=>{var Te;const xe=Number(fe.currentTarget.getAttribute("data-index"));c(fe),y.current===!0&&k(xe),h(xe),ce==null||(Te=ce.onFocus)==null||Te.call(ce,fe)},z=ce=>fe=>{var Te;_(fe),y.current===!1&&k(-1),h(-1),ce==null||(Te=ce.onBlur)==null||Te.call(ce,fe)};Tr(()=>{if(n&&U.current.contains(document.activeElement)){var ce;(ce=document.activeElement)==null||ce.blur()}},[n]),n&&u!==-1&&A(-1),n&&N!==-1&&k(-1);const H=ce=>fe=>{var Te;(Te=ce.onChange)==null||Te.call(ce,fe);const xe=Number(fe.currentTarget.getAttribute("data-index")),ee=F[xe],J=C.indexOf(ee);let re=fe.target.valueAsNumber;if(T&&p==null&&(re=re<ee?C[J-1]:C[J+1]),re=ha(re,a,l),T&&p==null){const le=C.indexOf(F[xe]);re=re<F[xe]?C[le-1]:C[le+1]}if(P){i&&(re=ha(re,F[xe-1]||-1/0,F[xe+1]||1/0));const le=re;re=lg({values:F,newValue:re,index:xe});let se=xe;i||(se=re.indexOf(le)),tl({sliderRef:U,activeIndex:se})}O(re),k(xe),b&&b(fe,re,xe),M&&M(fe,re)},G=j.useRef();let X=L;o&&L==="horizontal"&&(X+="-reverse");const Y=({finger:ce,move:fe=!1})=>{const{current:Te}=U,{width:xe,height:ee,bottom:J,left:re}=Te.getBoundingClientRect();let le;X.indexOf("vertical")===0?le=(J-ce.y)/ee:le=(ce.x-re)/xe,X.indexOf("-reverse")!==-1&&(le=1-le);let se;if(se=PD(le,a,l),p)se=AD(se,p,a);else{const Ce=sg(C,se);se=C[Ce]}se=ha(se,a,l);let Ee=0;if(P){fe?Ee=G.current:Ee=sg(F,se),i&&(se=ha(se,F[Ee-1]||-1/0,F[Ee+1]||1/0));const Ce=se;se=lg({values:F,newValue:se,index:Ee}),i&&fe||(Ee=se.indexOf(Ce),G.current=Ee)}return{newValue:se,activeIndex:Ee}},Z=Jr(ce=>{const fe=el(ce,E);if(!fe)return;if(g.current+=1,ce.type==="mousemove"&&ce.buttons===0){q(ce);return}const{newValue:Te,activeIndex:xe}=Y({finger:fe,move:!0});tl({sliderRef:U,activeIndex:xe,setActive:A}),O(Te),!f&&g.current>RD&&m(!0),b&&Te!==R&&b(ce,Te,xe)}),q=Jr(ce=>{const fe=el(ce,E);if(m(!1),!fe)return;const{newValue:Te}=Y({finger:fe,move:!0});A(-1),ce.type==="touchend"&&h(-1),M&&M(ce,Te),E.current=void 0,te()}),ne=Jr(ce=>{if(n)return;cd()||ce.preventDefault();const fe=ce.changedTouches[0];fe!=null&&(E.current=fe.identifier);const Te=el(ce,E);if(Te!==!1){const{newValue:ee,activeIndex:J}=Y({finger:Te});tl({sliderRef:U,activeIndex:J,setActive:A}),O(ee),b&&b(ce,ee,J)}g.current=0;const xe=Lt(U.current);xe.addEventListener("touchmove",Z),xe.addEventListener("touchend",q)}),te=j.useCallback(()=>{const ce=Lt(U.current);ce.removeEventListener("mousemove",Z),ce.removeEventListener("mouseup",q),ce.removeEventListener("touchmove",Z),ce.removeEventListener("touchend",q)},[q,Z]);j.useEffect(()=>{const{current:ce}=U;return ce.addEventListener("touchstart",ne,{passive:cd()}),()=>{ce.removeEventListener("touchstart",ne,{passive:cd()}),te()}},[te,ne]),j.useEffect(()=>{n&&te()},[n,te]);const ie=ce=>fe=>{var Te;if((Te=ce.onMouseDown)==null||Te.call(ce,fe),n||fe.defaultPrevented||fe.button!==0)return;fe.preventDefault();const xe=el(fe,E);if(xe!==!1){const{newValue:J,activeIndex:re}=Y({finger:xe});tl({sliderRef:U,activeIndex:re,setActive:A}),O(J),b&&b(fe,J,re)}g.current=0;const ee=Lt(U.current);ee.addEventListener("mousemove",Z),ee.addEventListener("mouseup",q)},ae=su(P?F[0]:a,a,l),ge=su(F[F.length-1],a,l)-ae,de=(ce={})=>{const fe={onMouseDown:ie(ce||{})},Te=V({},ce,fe);return V({ref:K},Te)},oe=ce=>fe=>{var Te;(Te=ce.onMouseOver)==null||Te.call(ce,fe);const xe=Number(fe.currentTarget.getAttribute("data-index"));h(xe)},he=ce=>fe=>{var Te;(Te=ce.onMouseLeave)==null||Te.call(ce,fe),h(-1)};return{active:u,axis:X,axisProps:ID,dragging:f,focusedThumbIndex:N,getHiddenInputProps:(ce={})=>{var fe;const Te={onChange:H(ce||{}),onFocus:W(ce||{}),onBlur:z(ce||{})},xe=V({},ce,Te);return V({tabIndex:w,"aria-labelledby":t,"aria-orientation":L,"aria-valuemax":I(l),"aria-valuemin":I(a),name:v,type:"range",min:e.min,max:e.max,step:(fe=e.step)!=null?fe:void 0,disabled:n},xe,{style:V({},tx,{direction:o?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:de,getThumbProps:(ce={})=>{const fe={onMouseOver:oe(ce||{}),onMouseLeave:he(ce||{})};return V({},ce,fe)},marks:T,open:x,range:P,trackLeap:ge,trackOffset:ae,values:F}}const MD=["onChange","maxRows","minRows","style","value"];function nl(e){return parseInt(e,10)||0}const wD={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function ug(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const kD=j.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:s,value:l}=t,a=Se(t,MD),{current:v}=j.useRef(l!=null),d=j.useRef(null),M=ft(r,d),L=j.useRef(null),B=j.useRef(0),[I,p]=j.useState({outerHeightStyle:0}),w=j.useCallback(()=>{const x=d.current,f=ui(x).getComputedStyle(x);if(f.width==="0px")return{outerHeightStyle:0};const m=L.current;m.style.width=f.width,m.value=x.value||t.placeholder||"x",m.value.slice(-1)===`
`&&(m.value+=" ");const g=f.boxSizing,R=nl(f.paddingBottom)+nl(f.paddingTop),O=nl(f.borderBottomWidth)+nl(f.borderTopWidth),b=m.scrollHeight;m.value="x";const P=m.scrollHeight;let F=b;o&&(F=Math.max(Number(o)*P,F)),i&&(F=Math.min(Number(i)*P,F)),F=Math.max(F,P);const T=F+(g==="border-box"?R+O:0),C=Math.abs(F-b)<=1;return{outerHeightStyle:T,overflow:C}},[i,o,t.placeholder]),S=(x,h)=>{const{outerHeightStyle:f,overflow:m}=h;return B.current<20&&(f>0&&Math.abs((x.outerHeightStyle||0)-f)>1||x.overflow!==m)?(B.current+=1,{overflow:m,outerHeightStyle:f}):x},E=j.useCallback(()=>{const x=w();ug(x)||p(h=>S(h,x))},[w]),u=()=>{const x=w();ug(x)||Lo.flushSync(()=>{p(h=>S(h,x))})};j.useEffect(()=>{const x=Xh(()=>{B.current=0,d.current&&u()});let h;const f=d.current,m=ui(f);return m.addEventListener("resize",x),typeof ResizeObserver<"u"&&(h=new ResizeObserver(x),h.observe(f)),()=>{x.clear(),m.removeEventListener("resize",x),h&&h.disconnect()}}),Tr(()=>{E()}),j.useEffect(()=>{B.current=0},[l]);const A=x=>{B.current=0,v||E(),n&&n(x)};return be(j.Fragment,{children:[Q("textarea",V({value:l,onChange:A,ref:M,rows:o,style:V({height:I.outerHeightStyle,overflow:I.overflow?"hidden":void 0},s)},a)),Q("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:L,tabIndex:-1,style:V({},wD.shadow,s,{padding:0})})]})}),FD=kD;function ND(e){return Ie("MuiSvgIcon",e)}Me("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const BD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],UD=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${ve(t)}`,`fontSize${ve(r)}`]};return De(i,ND,n)},$D=pe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${ve(r.color)}`],t[`fontSize${ve(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,s,l,a,v,d,M,L,B,I,p,w,S,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem",medium:((a=e.typography)==null||(v=a.pxToRem)==null?void 0:v.call(a,24))||"1.5rem",large:((d=e.typography)==null||(M=d.pxToRem)==null?void 0:M.call(d,35))||"2.1875rem"}[t.fontSize],color:(L=(B=(e.vars||e).palette)==null||(I=B[t.color])==null?void 0:I.main)!=null?L:{action:(p=(e.vars||e).palette)==null||(w=p.action)==null?void 0:w.active,disabled:(S=(e.vars||e).palette)==null||(E=S.action)==null?void 0:E.disabled,inherit:void 0}[t.color]}}),jx=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:l="svg",fontSize:a="medium",htmlColor:v,inheritViewBox:d=!1,titleAccess:M,viewBox:L="0 0 24 24"}=n,B=Se(n,BD),I=V({},n,{color:s,component:l,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:d,viewBox:L}),p={};d||(p.viewBox=L);const w=UD(I);return be($D,V({as:l,className:ye(w.root,o),focusable:"false",color:v,"aria-hidden":M?void 0:!0,role:M?"img":void 0,ref:r},p,B,{ownerState:I,children:[i,M?Q("title",{children:M}):null]}))});jx.muiName="SvgIcon";const cg=jx;function Rr(e,t){function r(n,i){return Q(cg,V({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=cg.muiName,j.memo(j.forwardRef(r))}const KD={configure:e=>{Jh.configure(e)}},WD=Object.freeze(Object.defineProperty({__proto__:null,capitalize:ve,createChainedFunction:Cf,createSvgIcon:Rr,debounce:Xh,deprecatedPropType:lR,isMuiElement:Fa,ownerDocument:Lt,ownerWindow:ui,requirePropFactory:uR,setRef:nu,unstable_ClassNameGenerator:KD,unstable_useEnhancedEffect:Tr,unstable_useId:_s,unsupportedProp:fR,useControlled:ci,useEventCallback:Jr,useForkRef:ft,useIsFocusVisible:Rs},Symbol.toStringTag,{value:"Module"}));var dg={},zD={get exports(){return dg},set exports(e){dg=e}},rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),bp=Symbol.for("react.portal"),cc=Symbol.for("react.fragment"),dc=Symbol.for("react.strict_mode"),fc=Symbol.for("react.profiler"),hc=Symbol.for("react.provider"),pc=Symbol.for("react.context"),HD=Symbol.for("react.server_context"),vc=Symbol.for("react.forward_ref"),mc=Symbol.for("react.suspense"),gc=Symbol.for("react.suspense_list"),yc=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),jD=Symbol.for("react.offscreen"),Vx;Vx=Symbol.for("react.module.reference");function zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tp:switch(e=e.type,e){case cc:case fc:case dc:case mc:case gc:return e;default:switch(e=e&&e.$$typeof,e){case HD:case pc:case vc:case Ec:case yc:case hc:return e;default:return t}}case bp:return t}}}rt.ContextConsumer=pc;rt.ContextProvider=hc;rt.Element=Tp;rt.ForwardRef=vc;rt.Fragment=cc;rt.Lazy=Ec;rt.Memo=yc;rt.Portal=bp;rt.Profiler=fc;rt.StrictMode=dc;rt.Suspense=mc;rt.SuspenseList=gc;rt.isAsyncMode=function(){return!1};rt.isConcurrentMode=function(){return!1};rt.isContextConsumer=function(e){return zr(e)===pc};rt.isContextProvider=function(e){return zr(e)===hc};rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tp};rt.isForwardRef=function(e){return zr(e)===vc};rt.isFragment=function(e){return zr(e)===cc};rt.isLazy=function(e){return zr(e)===Ec};rt.isMemo=function(e){return zr(e)===yc};rt.isPortal=function(e){return zr(e)===bp};rt.isProfiler=function(e){return zr(e)===fc};rt.isStrictMode=function(e){return zr(e)===dc};rt.isSuspense=function(e){return zr(e)===mc};rt.isSuspenseList=function(e){return zr(e)===gc};rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cc||e===fc||e===dc||e===mc||e===gc||e===jD||typeof e=="object"&&e!==null&&(e.$$typeof===Ec||e.$$typeof===yc||e.$$typeof===hc||e.$$typeof===pc||e.$$typeof===vc||e.$$typeof===Vx||e.getModuleId!==void 0)};rt.typeOf=zr;(function(e){e.exports=rt})(zD);function kf(e,t){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kf(e,t)}function Gx(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kf(e,t)}const fg={disabled:!1},lu=wr.createContext(null);var VD=function(t){return t.scrollTop},Ca="unmounted",Ei="exited",xi="entering",qi="entered",Ff="exiting",Fn=function(e){Gx(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=i,l=s&&!s.isMounting?n.enter:n.appear,a;return o.appearStatus=null,n.in?l?(a=Ei,o.appearStatus=xi):a=qi:n.unmountOnExit||n.mountOnEnter?a=Ca:a=Ei,o.state={status:a},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Ca?{status:Ei}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==xi&&s!==qi&&(o=xi):(s===xi||s===qi)&&(o=Ff)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===xi){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this);s&&VD(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ei&&this.setState({status:Ca})},r.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,a=this.props.nodeRef?[l]:[Js.findDOMNode(this),l],v=a[0],d=a[1],M=this.getTimeouts(),L=l?M.appear:M.enter;if(!i&&!s||fg.disabled){this.safeSetState({status:qi},function(){o.props.onEntered(v)});return}this.props.onEnter(v,d),this.safeSetState({status:xi},function(){o.props.onEntering(v,d),o.onTransitionEnd(L,function(){o.safeSetState({status:qi},function(){o.props.onEntered(v,d)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Js.findDOMNode(this);if(!o||fg.disabled){this.safeSetState({status:Ei},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ff},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ei},function(){i.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Js.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],v=a[0],d=a[1];this.props.addEndListener(v,d)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Ca)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Se(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return wr.createElement(lu.Provider,{value:null},typeof s=="function"?s(i,l):wr.cloneElement(wr.Children.only(s),l))},t}(wr.Component);Fn.contextType=lu;Fn.propTypes={};function Zi(){}Fn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Zi,onEntering:Zi,onEntered:Zi,onExit:Zi,onExiting:Zi,onExited:Zi};Fn.UNMOUNTED=Ca;Fn.EXITED=Ei;Fn.ENTERING=xi;Fn.ENTERED=qi;Fn.EXITING=Ff;const Yx=Fn;function GD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cp(e,t){var r=function(o){return t&&j.isValidElement(o)?t(o):o},n=Object.create(null);return e&&j.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function YD(e,t){e=e||{},t=t||{};function r(d){return d in t?t[d]:e[d]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var s,l={};for(var a in t){if(n[a])for(s=0;s<n[a].length;s++){var v=n[a][s];l[n[a][s]]=r(v)}l[a]=r(a)}for(s=0;s<i.length;s++)l[i[s]]=r(i[s]);return l}function Ri(e,t,r){return r[t]!=null?r[t]:e.props[t]}function XD(e,t){return Cp(e.children,function(r){return j.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ri(r,"appear",e),enter:Ri(r,"enter",e),exit:Ri(r,"exit",e)})})}function QD(e,t,r){var n=Cp(e.children),i=YD(t,n);return Object.keys(i).forEach(function(o){var s=i[o];if(j.isValidElement(s)){var l=o in t,a=o in n,v=t[o],d=j.isValidElement(v)&&!v.props.in;a&&(!l||d)?i[o]=j.cloneElement(s,{onExited:r.bind(null,s),in:!0,exit:Ri(s,"exit",e),enter:Ri(s,"enter",e)}):!a&&l&&!d?i[o]=j.cloneElement(s,{in:!1}):a&&l&&j.isValidElement(v)&&(i[o]=j.cloneElement(s,{onExited:r.bind(null,s),in:v.props.in,exit:Ri(s,"exit",e),enter:Ri(s,"enter",e)}))}}),i}var JD=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},ZD={component:"div",childFactory:function(t){return t}},_p=function(e){Gx(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var s=o.handleExited.bind(GD(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,a=o.firstRender;return{children:a?XD(i,l):QD(i,s,l),firstRender:!1}},r.handleExited=function(i,o){var s=Cp(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var a=V({},l.children);return delete a[i.key],{children:a}}))},r.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=Se(i,["component","childFactory"]),a=this.state.contextValue,v=JD(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?wr.createElement(lu.Provider,{value:a},v):wr.createElement(lu.Provider,{value:a},wr.createElement(o,l,v))},t}(wr.Component);_p.propTypes={};_p.defaultProps=ZD;const qD=_p,Xx=e=>e.scrollTop;function uu(e,t){var r,n;const{timeout:i,easing:o,style:s={}}=e;return{duration:(r=s.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=s.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:s.transitionDelay}}function eO(e){return Ie("MuiPaper",e)}Me("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const tO=["className","component","elevation","square","variant"],rO=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return De(o,eO,i)},nO=pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return V({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&V({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ne("#fff",Ym(t.elevation))}, ${Ne("#fff",Ym(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),iO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:l=!1,variant:a="elevation"}=n,v=Se(n,tO),d=V({},n,{component:o,elevation:s,square:l,variant:a}),M=rO(d);return Q(nO,V({as:o,ownerState:d,className:ye(M.root,i),ref:r},v))}),Hi=iO;function oO(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:s,in:l,onExited:a,timeout:v}=e,[d,M]=j.useState(!1),L=ye(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),B={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},I=ye(r.child,d&&r.childLeaving,n&&r.childPulsate);return!l&&!d&&M(!0),j.useEffect(()=>{if(!l&&a!=null){const p=setTimeout(a,v);return()=>{clearTimeout(p)}}},[a,l,v]),Q("span",{className:L,style:B,children:Q("span",{className:I})})}const aO=Me("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Dr=aO,sO=["center","classes","className"];let xc=e=>e,hg,pg,vg,mg;const Nf=550,lO=80,uO=Ls(hg||(hg=xc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),cO=Ls(pg||(pg=xc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),dO=Ls(vg||(vg=xc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),fO=pe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hO=pe(oO,{name:"MuiTouchRipple",slot:"Ripple"})(mg||(mg=xc`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Dr.rippleVisible,uO,Nf,({theme:e})=>e.transitions.easing.easeInOut,Dr.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Dr.child,Dr.childLeaving,cO,Nf,({theme:e})=>e.transitions.easing.easeInOut,Dr.childPulsate,dO,({theme:e})=>e.transitions.easing.easeInOut),pO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=n,l=Se(n,sO),[a,v]=j.useState([]),d=j.useRef(0),M=j.useRef(null);j.useEffect(()=>{M.current&&(M.current(),M.current=null)},[a]);const L=j.useRef(!1),B=j.useRef(null),I=j.useRef(null),p=j.useRef(null);j.useEffect(()=>()=>{clearTimeout(B.current)},[]);const w=j.useCallback(A=>{const{pulsate:x,rippleX:h,rippleY:f,rippleSize:m,cb:g}=A;v(R=>[...R,Q(hO,{classes:{ripple:ye(o.ripple,Dr.ripple),rippleVisible:ye(o.rippleVisible,Dr.rippleVisible),ripplePulsate:ye(o.ripplePulsate,Dr.ripplePulsate),child:ye(o.child,Dr.child),childLeaving:ye(o.childLeaving,Dr.childLeaving),childPulsate:ye(o.childPulsate,Dr.childPulsate)},timeout:Nf,pulsate:x,rippleX:h,rippleY:f,rippleSize:m},d.current)]),d.current+=1,M.current=g},[o]),S=j.useCallback((A={},x={},h=()=>{})=>{const{pulsate:f=!1,center:m=i||x.pulsate,fakeElement:g=!1}=x;if((A==null?void 0:A.type)==="mousedown"&&L.current){L.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(L.current=!0);const R=g?null:p.current,O=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let b,P,F;if(m||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)b=Math.round(O.width/2),P=Math.round(O.height/2);else{const{clientX:T,clientY:C}=A.touches&&A.touches.length>0?A.touches[0]:A;b=Math.round(T-O.left),P=Math.round(C-O.top)}if(m)F=Math.sqrt((2*O.width**2+O.height**2)/3),F%2===0&&(F+=1);else{const T=Math.max(Math.abs((R?R.clientWidth:0)-b),b)*2+2,C=Math.max(Math.abs((R?R.clientHeight:0)-P),P)*2+2;F=Math.sqrt(T**2+C**2)}A!=null&&A.touches?I.current===null&&(I.current=()=>{w({pulsate:f,rippleX:b,rippleY:P,rippleSize:F,cb:h})},B.current=setTimeout(()=>{I.current&&(I.current(),I.current=null)},lO)):w({pulsate:f,rippleX:b,rippleY:P,rippleSize:F,cb:h})},[i,w]),E=j.useCallback(()=>{S({},{pulsate:!0})},[S]),u=j.useCallback((A,x)=>{if(clearTimeout(B.current),(A==null?void 0:A.type)==="touchend"&&I.current){I.current(),I.current=null,B.current=setTimeout(()=>{u(A,x)});return}I.current=null,v(h=>h.length>0?h.slice(1):h),M.current=x},[]);return j.useImperativeHandle(r,()=>({pulsate:E,start:S,stop:u}),[E,S,u]),Q(fO,V({className:ye(Dr.root,o.root,s),ref:p},l,{children:Q(qD,{component:null,exit:!0,children:a})}))}),vO=pO;function mO(e){return Ie("MuiButtonBase",e)}const gO=Me("MuiButtonBase",["root","disabled","focusVisible"]),yO=gO,EO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xO=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,s=De({root:["root",t&&"disabled",r&&"focusVisible"]},mO,i);return r&&n&&(s.root+=` ${n}`),s},SO=pe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yO.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),TO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:l,component:a="button",disabled:v=!1,disableRipple:d=!1,disableTouchRipple:M=!1,focusRipple:L=!1,LinkComponent:B="a",onBlur:I,onClick:p,onContextMenu:w,onDragLeave:S,onFocus:E,onFocusVisible:u,onKeyDown:A,onKeyUp:x,onMouseDown:h,onMouseLeave:f,onMouseUp:m,onTouchEnd:g,onTouchMove:R,onTouchStart:O,tabIndex:b=0,TouchRippleProps:P,touchRippleRef:F,type:T}=n,C=Se(n,EO),y=j.useRef(null),_=j.useRef(null),c=ft(_,F),{isFocusVisibleRef:D,onFocus:N,onBlur:k,ref:U}=Rs(),[$,K]=j.useState(!1);v&&$&&K(!1),j.useImperativeHandle(i,()=>({focusVisible:()=>{K(!0),y.current.focus()}}),[]);const[W,z]=j.useState(!1);j.useEffect(()=>{z(!0)},[]);const H=W&&!d&&!v;j.useEffect(()=>{$&&L&&!d&&W&&_.current.pulsate()},[d,L,$,W]);function G(J,re,le=M){return Jr(se=>(re&&re(se),!le&&_.current&&_.current[J](se),!0))}const X=G("start",h),Y=G("stop",w),Z=G("stop",S),q=G("stop",m),ne=G("stop",J=>{$&&J.preventDefault(),f&&f(J)}),te=G("start",O),ie=G("stop",g),ae=G("stop",R),ge=G("stop",J=>{k(J),D.current===!1&&K(!1),I&&I(J)},!1),de=Jr(J=>{y.current||(y.current=J.currentTarget),N(J),D.current===!0&&(K(!0),u&&u(J)),E&&E(J)}),oe=()=>{const J=y.current;return a&&a!=="button"&&!(J.tagName==="A"&&J.href)},he=j.useRef(!1),Pe=Jr(J=>{L&&!he.current&&$&&_.current&&J.key===" "&&(he.current=!0,_.current.stop(J,()=>{_.current.start(J)})),J.target===J.currentTarget&&oe()&&J.key===" "&&J.preventDefault(),A&&A(J),J.target===J.currentTarget&&oe()&&J.key==="Enter"&&!v&&(J.preventDefault(),p&&p(J))}),Ae=Jr(J=>{L&&J.key===" "&&_.current&&$&&!J.defaultPrevented&&(he.current=!1,_.current.stop(J,()=>{_.current.pulsate(J)})),x&&x(J),p&&J.target===J.currentTarget&&oe()&&J.key===" "&&!J.defaultPrevented&&p(J)});let ce=a;ce==="button"&&(C.href||C.to)&&(ce=B);const fe={};ce==="button"?(fe.type=T===void 0?"button":T,fe.disabled=v):(!C.href&&!C.to&&(fe.role="button"),v&&(fe["aria-disabled"]=v));const Te=ft(r,U,y),xe=V({},n,{centerRipple:o,component:a,disabled:v,disableRipple:d,disableTouchRipple:M,focusRipple:L,tabIndex:b,focusVisible:$}),ee=xO(xe);return be(SO,V({as:ce,className:ye(ee.root,l),ownerState:xe,onBlur:ge,onClick:p,onContextMenu:Y,onFocus:de,onKeyDown:Pe,onKeyUp:Ae,onMouseDown:X,onMouseLeave:ne,onMouseUp:q,onDragLeave:Z,onTouchEnd:ie,onTouchMove:ae,onTouchStart:te,ref:Te,tabIndex:v?-1:b,type:T},fe,C,{children:[s,H?Q(vO,V({ref:c,center:o},P)):null]}))}),Mn=TO;function bO(e){return Ie("MuiIconButton",e)}const CO=Me("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_O=CO,RO=["edge","children","className","color","disabled","disableFocusRipple","size"],PO=e=>{const{classes:t,disabled:r,color:n,edge:i,size:o}=e,s={root:["root",r&&"disabled",n!=="default"&&`color${ve(n)}`,i&&`edge${ve(i)}`,`size${ve(o)}`]};return De(s,bO,t)},LO=pe(Mn,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${ve(r.color)}`],r.edge&&t[`edge${ve(r.edge)}`],t[`size${ve(r.size)}`]]}})(({theme:e,ownerState:t})=>V({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12}),({theme:e,ownerState:t})=>{var r;const n=(r=(e.vars||e).palette)==null?void 0:r[t.color];return V({},t.color==="inherit"&&{color:"inherit"},t.color!=="inherit"&&t.color!=="default"&&V({color:n==null?void 0:n.main},!t.disableRipple&&{"&:hover":V({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),t.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},t.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${_O.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),AO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:l="default",disabled:a=!1,disableFocusRipple:v=!1,size:d="medium"}=n,M=Se(n,RO),L=V({},n,{edge:i,color:l,disabled:a,disableFocusRipple:v,size:d}),B=PO(L);return Q(LO,V({className:ye(B.root,s),centerRipple:!0,focusRipple:!v,disabled:a,ref:r,ownerState:L},M,{children:o}))}),Bf=AO;function IO(e){return Ie("MuiTypography",e)}Me("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const DO=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],OO=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=e,l={root:["root",o,e.align!=="inherit"&&`align${ve(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return De(l,IO,s)},MO=pe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${ve(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>V({margin:0},t.variant&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),gg={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},wO={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kO=e=>wO[e]||e,FO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiTypography"}),i=kO(n.color),o=ic(V({},n,{color:i})),{align:s="inherit",className:l,component:a,gutterBottom:v=!1,noWrap:d=!1,paragraph:M=!1,variant:L="body1",variantMapping:B=gg}=o,I=Se(o,DO),p=V({},o,{align:s,color:i,className:l,component:a,gutterBottom:v,noWrap:d,paragraph:M,variant:L,variantMapping:B}),w=a||(M?"p":B[L]||gg[L])||"span",S=OO(p);return Q(MO,V({as:w,ref:r,ownerState:p,className:ye(S.root,l)},I))}),Ze=FO;function NO(e){return Ie("MuiAppBar",e)}Me("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const BO=["className","color","enableColorOnDark","position"],UO=e=>{const{color:t,position:r,classes:n}=e,i={root:["root",`color${ve(t)}`,`position${ve(r)}`]};return De(i,NO,n)},il=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,$O=pe(Hi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${ve(r.position)}`],t[`color${ve(r.color)}`]]}})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return V({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&V({},t.color==="default"&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&V({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&V({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:il(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:il(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:il(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:il(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),KO=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed"}=n,a=Se(n,BO),v=V({},n,{color:o,position:l,enableColorOnDark:s}),d=UO(v);return Q($O,V({square:!0,component:"header",ownerState:v,elevation:4,className:ye(d.root,i,l==="fixed"&&"mui-fixed"),ref:r},a))}),Qx=KO,WO=["components","componentsProps","slots","slotProps"],zO=pe(fD,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),HO=j.forwardRef(function(t,r){var n;const i=dp(),o=Oe({props:t,name:"MuiPopper"}),{components:s,componentsProps:l,slots:a,slotProps:v}=o,d=Se(o,WO),M=(n=a==null?void 0:a.root)!=null?n:s==null?void 0:s.Root;return Q(zO,V({direction:i==null?void 0:i.direction,slots:{root:M},slotProps:v??l},d,{ref:r}))}),Jx=HO;function jO(e){return Ie("MuiListSubheader",e)}Me("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const VO=["className","color","component","disableGutters","disableSticky","inset"],GO=e=>{const{classes:t,color:r,disableGutters:n,inset:i,disableSticky:o}=e,s={root:["root",r!=="default"&&`color${ve(r)}`,!n&&"gutters",i&&"inset",!o&&"sticky"]};return De(s,jO,t)},YO=pe("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="default"&&t[`color${ve(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>V({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},t.color==="primary"&&{color:(e.vars||e).palette.primary.main},t.color==="inherit"&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),Zx=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListSubheader"}),{className:i,color:o="default",component:s="li",disableGutters:l=!1,disableSticky:a=!1,inset:v=!1}=n,d=Se(n,VO),M=V({},n,{color:o,component:s,disableGutters:l,disableSticky:a,inset:v}),L=GO(M);return Q(YO,V({as:s,className:ye(L.root,i),ref:r,ownerState:M},d))});Zx.muiSkipListHighlight=!0;const XO=Zx,QO=Rr(Q("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function JO(e){return Ie("MuiChip",e)}const ZO=Me("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ge=ZO,qO=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],eM=e=>{const{classes:t,disabled:r,size:n,color:i,iconColor:o,onDelete:s,clickable:l,variant:a}=e,v={root:["root",a,r&&"disabled",`size${ve(n)}`,`color${ve(i)}`,l&&"clickable",l&&`clickableColor${ve(i)}`,s&&"deletable",s&&`deletableColor${ve(i)}`,`${a}${ve(i)}`],label:["label",`label${ve(n)}`],avatar:["avatar",`avatar${ve(n)}`,`avatarColor${ve(i)}`],icon:["icon",`icon${ve(n)}`,`iconColor${ve(o)}`],deleteIcon:["deleteIcon",`deleteIcon${ve(n)}`,`deleteIconColor${ve(i)}`,`deleteIcon${ve(a)}Color${ve(i)}`]};return De(v,JO,t)},tM=pe("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{color:n,iconColor:i,clickable:o,onDelete:s,size:l,variant:a}=r;return[{[`& .${Ge.avatar}`]:t.avatar},{[`& .${Ge.avatar}`]:t[`avatar${ve(l)}`]},{[`& .${Ge.avatar}`]:t[`avatarColor${ve(n)}`]},{[`& .${Ge.icon}`]:t.icon},{[`& .${Ge.icon}`]:t[`icon${ve(l)}`]},{[`& .${Ge.icon}`]:t[`iconColor${ve(i)}`]},{[`& .${Ge.deleteIcon}`]:t.deleteIcon},{[`& .${Ge.deleteIcon}`]:t[`deleteIcon${ve(l)}`]},{[`& .${Ge.deleteIcon}`]:t[`deleteIconColor${ve(n)}`]},{[`& .${Ge.deleteIcon}`]:t[`deleteIcon${ve(a)}Color${ve(n)}`]},t.root,t[`size${ve(l)}`],t[`color${ve(n)}`],o&&t.clickable,o&&n!=="default"&&t[`clickableColor${ve(n)})`],s&&t.deletable,s&&n!=="default"&&t[`deletableColor${ve(n)}`],t[a],t[`${a}${ve(n)}`]]}})(({theme:e,ownerState:t})=>{const r=Ne(e.palette.text.primary,.26),n=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return V({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Ge.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Ge.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${Ge.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${Ge.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${Ge.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${Ge.icon}`]:V({marginLeft:5,marginRight:-6},t.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&V({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},t.color!=="default"&&{color:"inherit"})),[`& .${Ge.deleteIcon}`]:V({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:Ne(r,.4)}},t.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},t.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:Ne(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},t.size==="small"&&{height:24},t.color!=="default"&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${Ge.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&t.color!=="default"&&{[`&.${Ge.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>V({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ne(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${Ge.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&t.color!=="default"&&{[`&:hover, &.${Ge.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>V({},t.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${Ge.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${Ge.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${Ge.avatar}`]:{marginLeft:4},[`& .${Ge.avatarSmall}`]:{marginLeft:2},[`& .${Ge.icon}`]:{marginLeft:4},[`& .${Ge.iconSmall}`]:{marginLeft:2},[`& .${Ge.deleteIcon}`]:{marginRight:5},[`& .${Ge.deleteIconSmall}`]:{marginRight:3}},t.variant==="outlined"&&t.color!=="default"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ne(e.palette[t.color].main,.7)}`,[`&.${Ge.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${Ge.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ne(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${Ge.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:Ne(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),rM=pe("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${ve(n)}`]]}})(({ownerState:e})=>V({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function yg(e){return e.key==="Backspace"||e.key==="Delete"}const nM=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:l="default",component:a,deleteIcon:v,disabled:d=!1,icon:M,label:L,onClick:B,onDelete:I,onKeyDown:p,onKeyUp:w,size:S="medium",variant:E="filled",tabIndex:u,skipFocusWhenDisabled:A=!1}=n,x=Se(n,qO),h=j.useRef(null),f=ft(h,r),m=c=>{c.stopPropagation(),I&&I(c)},g=c=>{c.currentTarget===c.target&&yg(c)&&c.preventDefault(),p&&p(c)},R=c=>{c.currentTarget===c.target&&(I&&yg(c)?I(c):c.key==="Escape"&&h.current&&h.current.blur()),w&&w(c)},O=s!==!1&&B?!0:s,b=O||I?Mn:a||"div",P=V({},n,{component:b,disabled:d,size:S,color:l,iconColor:j.isValidElement(M)&&M.props.color||l,onDelete:!!I,clickable:O,variant:E}),F=eM(P),T=b===Mn?V({component:a||"div",focusVisibleClassName:F.focusVisible},I&&{disableRipple:!0}):{};let C=null;I&&(C=v&&j.isValidElement(v)?j.cloneElement(v,{className:ye(v.props.className,F.deleteIcon),onClick:m}):Q(QO,{className:ye(F.deleteIcon),onClick:m}));let y=null;i&&j.isValidElement(i)&&(y=j.cloneElement(i,{className:ye(F.avatar,i.props.className)}));let _=null;return M&&j.isValidElement(M)&&(_=j.cloneElement(M,{className:ye(F.icon,M.props.className)})),be(tM,V({as:b,className:ye(F.root,o),disabled:O&&d?!0:void 0,onClick:B,onKeyDown:g,onKeyUp:R,ref:f,tabIndex:A&&d?-1:u,ownerState:P},T,x,{children:[y||_,Q(rM,{className:ye(F.label),ownerState:P,children:L}),C]}))}),iM=nM;function Qo({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const oM=j.createContext(void 0),Rp=oM;function ji(){return j.useContext(Rp)}function qx(e){return Q(_P,V({},e,{defaultTheme:sc}))}function Eg(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Pp(e,t=!1){return e&&(Eg(e.value)&&e.value!==""||t&&Eg(e.defaultValue)&&e.defaultValue!=="")}function aM(e){return e.startAdornment}function sM(e){return Ie("MuiInputBase",e)}const lM=Me("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),zo=lM,uM=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Sc=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${ve(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},Tc=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},cM=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:a,hiddenLabel:v,multiline:d,readOnly:M,size:L,startAdornment:B,type:I}=e,p={root:["root",`color${ve(r)}`,n&&"disabled",i&&"error",a&&"fullWidth",s&&"focused",l&&"formControl",L==="small"&&"sizeSmall",d&&"multiline",B&&"adornedStart",o&&"adornedEnd",v&&"hiddenLabel",M&&"readOnly"],input:["input",n&&"disabled",I==="search"&&"inputTypeSearch",d&&"inputMultiline",L==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",B&&"inputAdornedStart",o&&"inputAdornedEnd",M&&"readOnly"]};return De(p,sM,t)},bc=pe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Sc})(({theme:e,ownerState:t})=>V({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zo.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&V({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Cc=pe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Tc})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=V({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return V({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zo.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${zo.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),dM=Q(qx,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),fM=j.forwardRef(function(t,r){var n;const i=Oe({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:l,className:a,components:v={},componentsProps:d={},defaultValue:M,disabled:L,disableInjectingGlobalStyles:B,endAdornment:I,fullWidth:p=!1,id:w,inputComponent:S="input",inputProps:E={},inputRef:u,maxRows:A,minRows:x,multiline:h=!1,name:f,onBlur:m,onChange:g,onClick:R,onFocus:O,onKeyDown:b,onKeyUp:P,placeholder:F,readOnly:T,renderSuffix:C,rows:y,slotProps:_={},slots:c={},startAdornment:D,type:N="text",value:k}=i,U=Se(i,uM),$=E.value!=null?E.value:k,{current:K}=j.useRef($!=null),W=j.useRef(),z=j.useCallback(ee=>{},[]),H=ft(W,u,E.ref,z),[G,X]=j.useState(!1),Y=ji(),Z=Qo({props:i,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Z.focused=Y?Y.focused:G,j.useEffect(()=>{!Y&&L&&G&&(X(!1),m&&m())},[Y,L,G,m]);const q=Y&&Y.onFilled,ne=Y&&Y.onEmpty,te=j.useCallback(ee=>{Pp(ee)?q&&q():ne&&ne()},[q,ne]);Tr(()=>{K&&te({value:$})},[$,te,K]);const ie=ee=>{if(Z.disabled){ee.stopPropagation();return}O&&O(ee),E.onFocus&&E.onFocus(ee),Y&&Y.onFocus?Y.onFocus(ee):X(!0)},ae=ee=>{m&&m(ee),E.onBlur&&E.onBlur(ee),Y&&Y.onBlur?Y.onBlur(ee):X(!1)},ge=(ee,...J)=>{if(!K){const re=ee.target||W.current;if(re==null)throw new Error(li(1));te({value:re.value})}E.onChange&&E.onChange(ee,...J),g&&g(ee,...J)};j.useEffect(()=>{te(W.current)},[]);const de=ee=>{W.current&&ee.currentTarget===ee.target&&W.current.focus(),R&&R(ee)};let oe=S,he=E;h&&oe==="input"&&(y?he=V({type:void 0,minRows:y,maxRows:y},he):he=V({type:void 0,maxRows:A,minRows:x},he),oe=FD);const Pe=ee=>{te(ee.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};j.useEffect(()=>{Y&&Y.setAdornedStart(Boolean(D))},[Y,D]);const Ae=V({},i,{color:Z.color||"primary",disabled:Z.disabled,endAdornment:I,error:Z.error,focused:Z.focused,formControl:Y,fullWidth:p,hiddenLabel:Z.hiddenLabel,multiline:h,size:Z.size,startAdornment:D,type:N}),ce=cM(Ae),fe=c.root||v.Root||bc,Te=_.root||d.root||{},xe=c.input||v.Input||Cc;return he=V({},he,(n=_.input)!=null?n:d.input),be(j.Fragment,{children:[!B&&dM,be(fe,V({},Te,!mn(fe)&&{ownerState:V({},Ae,Te.ownerState)},{ref:r,onClick:de},U,{className:ye(ce.root,Te.className,a,T&&"MuiInputBase-readOnly"),children:[D,Q(Rp.Provider,{value:null,children:Q(xe,V({ownerState:Ae,"aria-invalid":Z.error,"aria-describedby":o,autoComplete:s,autoFocus:l,defaultValue:M,disabled:Z.disabled,id:w,onAnimationStart:Pe,name:f,placeholder:F,readOnly:T,required:Z.required,rows:y,value:$,onKeyDown:b,onKeyUp:P,type:N},he,!mn(xe)&&{as:oe,ownerState:V({},Ae,he.ownerState)},{ref:H,className:ye(ce.input,he.className,T&&"MuiInputBase-readOnly"),onBlur:ae,onChange:ge,onFocus:ie}))}),I,C?C(V({},Z,{startAdornment:D})):null]}))]})}),Lp=fM;function hM(e){return Ie("MuiInput",e)}const pM=V({},zo,Me("MuiInput",["root","underline","input"])),pa=pM;function vM(e){return Ie("MuiOutlinedInput",e)}const mM=V({},zo,Me("MuiOutlinedInput",["root","notchedOutline","input"])),Kn=mM;function gM(e){return Ie("MuiFilledInput",e)}const yM=V({},zo,Me("MuiFilledInput",["root","underline","input"])),mi=yM,EM=Rr(Q("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),xM=Rr(Q("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function SM(e){return Ie("MuiAvatar",e)}Me("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const TM=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],bM=e=>{const{classes:t,variant:r,colorDefault:n}=e;return De({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},SM,t)},CM=pe("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>V({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.variant==="square"&&{borderRadius:0},t.colorDefault&&V({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}))),_M=pe("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),RM=pe(xM,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function PM({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[i,o]=j.useState(!1);return j.useEffect(()=>{if(!r&&!n)return;o(!1);let s=!0;const l=new Image;return l.onload=()=>{s&&o("loaded")},l.onerror=()=>{s&&o("error")},l.crossOrigin=e,l.referrerPolicy=t,l.src=r,n&&(l.srcset=n),()=>{s=!1}},[e,t,r,n]),i}const LM=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:l="div",imgProps:a,sizes:v,src:d,srcSet:M,variant:L="circular"}=n,B=Se(n,TM);let I=null;const p=PM(V({},a,{src:d,srcSet:M})),w=d||M,S=w&&p!=="error",E=V({},n,{colorDefault:!S,component:l,variant:L}),u=bM(E);return S?I=Q(_M,V({alt:i,src:d,srcSet:M,sizes:v,ownerState:E,className:u.img},a)):o!=null?I=o:w&&i?I=i[0]:I=Q(RM,{ownerState:E,className:u.fallback}),Q(CM,V({as:l,ownerState:E,className:ye(u.root,s),ref:r},B,{children:I}))}),AM=LM,IM=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],DM={entering:{opacity:1},entered:{opacity:1}},OM=j.forwardRef(function(t,r){const n=rn(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,easing:a,in:v,onEnter:d,onEntered:M,onEntering:L,onExit:B,onExited:I,onExiting:p,style:w,timeout:S=i,TransitionComponent:E=Yx}=t,u=Se(t,IM),A=j.useRef(null),x=ft(A,l.ref,r),h=F=>T=>{if(F){const C=A.current;T===void 0?F(C):F(C,T)}},f=h(L),m=h((F,T)=>{Xx(F);const C=uu({style:w,timeout:S,easing:a},{mode:"enter"});F.style.webkitTransition=n.transitions.create("opacity",C),F.style.transition=n.transitions.create("opacity",C),d&&d(F,T)}),g=h(M),R=h(p),O=h(F=>{const T=uu({style:w,timeout:S,easing:a},{mode:"exit"});F.style.webkitTransition=n.transitions.create("opacity",T),F.style.transition=n.transitions.create("opacity",T),B&&B(F)}),b=h(I);return Q(E,V({appear:s,in:v,nodeRef:A,onEnter:m,onEntered:g,onEntering:f,onExit:O,onExited:b,onExiting:R,addEndListener:F=>{o&&o(A.current,F)},timeout:S},u,{children:(F,T)=>j.cloneElement(l,V({style:V({opacity:0,visibility:F==="exited"&&!v?"hidden":void 0},DM[F],w,l.props.style),ref:x},T))}))}),MM=OM;function wM(e){return Ie("MuiBackdrop",e)}Me("MuiBackdrop",["root","invisible"]);const kM=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],FM=e=>{const{classes:t,invisible:r}=e;return De({root:["root",r&&"invisible"]},wM,t)},NM=pe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),BM=j.forwardRef(function(t,r){var n,i,o;const s=Oe({props:t,name:"MuiBackdrop"}),{children:l,className:a,component:v="div",components:d={},componentsProps:M={},invisible:L=!1,open:B,slotProps:I={},slots:p={},TransitionComponent:w=MM,transitionDuration:S}=s,E=Se(s,kM),u=V({},s,{component:v,invisible:L}),A=FM(u),x=(n=I.root)!=null?n:M.root;return Q(w,V({in:B,timeout:S},E,{children:Q(NM,V({"aria-hidden":!0},x,{as:(i=(o=p.root)!=null?o:d.Root)!=null?i:v,className:ye(A.root,a,x==null?void 0:x.className),ownerState:V({},u,x==null?void 0:x.ownerState),classes:A,ref:r,children:l}))}))}),UM=BM,$M=pp(),KM=IL({defaultTheme:$M,defaultClassName:"MuiBox-root",generateClassName:Jh.generate}),Ut=KM;function WM(e){return Ie("MuiButton",e)}const zM=Me("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ol=zM,HM=j.createContext({}),jM=HM,VM=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],GM=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:s}=e,l={root:["root",o,`${o}${ve(t)}`,`size${ve(i)}`,`${o}Size${ve(i)}`,t==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ve(i)}`],endIcon:["endIcon",`iconSize${ve(i)}`]},a=De(l,WM,s);return V({},s,a)},eS=e=>V({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),YM=pe(Mn,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${ve(r.color)}`],t[`size${ve(r.size)}`],t[`${r.variant}Size${ve(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;return V({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${ol.focusVisible}`]:V({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${ol.disabled}`]:V({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${Ne(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ol.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ol.disabled}`]:{boxShadow:"none"}}),XM=pe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${ve(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},eS(e))),QM=pe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${ve(r.size)}`]]}})(({ownerState:e})=>V({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},eS(e))),JM=j.forwardRef(function(t,r){const n=j.useContext(jM),i=Qh(n,t),o=Oe({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:a="button",className:v,disabled:d=!1,disableElevation:M=!1,disableFocusRipple:L=!1,endIcon:B,focusVisibleClassName:I,fullWidth:p=!1,size:w="medium",startIcon:S,type:E,variant:u="text"}=o,A=Se(o,VM),x=V({},o,{color:l,component:a,disabled:d,disableElevation:M,disableFocusRipple:L,fullWidth:p,size:w,type:E,variant:u}),h=GM(x),f=S&&Q(XM,{className:h.startIcon,ownerState:x,children:S}),m=B&&Q(QM,{className:h.endIcon,ownerState:x,children:B});return be(YM,V({ownerState:x,className:ye(n.className,h.root,v),component:a,disabled:d,focusRipple:!L,focusVisibleClassName:ye(h.focusVisible,I),ref:r,type:E},A,{classes:h,children:[f,s,m]}))}),ZM=JM;function qM(e){return Ie("MuiCard",e)}Me("MuiCard",["root"]);const ew=["className","raised"],tw=e=>{const{classes:t}=e;return De({root:["root"]},qM,t)},rw=pe(Hi,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),nw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCard"}),{className:i,raised:o=!1}=n,s=Se(n,ew),l=V({},n,{raised:o}),a=tw(l);return Q(rw,V({className:ye(a.root,i),elevation:o?8:void 0,ref:r,ownerState:l},s))}),tS=nw;function iw(e){return Ie("MuiCardActionArea",e)}const ow=Me("MuiCardActionArea",["root","focusVisible","focusHighlight"]),dd=ow,aw=["children","className","focusVisibleClassName"],sw=e=>{const{classes:t}=e;return De({root:["root"],focusHighlight:["focusHighlight"]},iw,t)},lw=pe(Mn,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"block",textAlign:"inherit",width:"100%",[`&:hover .${dd.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${dd.focusVisible} .${dd.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}})),uw=pe("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})})),cw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCardActionArea"}),{children:i,className:o,focusVisibleClassName:s}=n,l=Se(n,aw),a=n,v=sw(a);return be(lw,V({className:ye(v.root,o),focusVisibleClassName:ye(s,v.focusVisible),ref:r,ownerState:a},l,{children:[i,Q(uw,{className:v.focusHighlight,ownerState:a})]}))}),dw=cw;function fw(e){return Ie("MuiCardActions",e)}Me("MuiCardActions",["root","spacing"]);const hw=["disableSpacing","className"],pw=e=>{const{classes:t,disableSpacing:r}=e;return De({root:["root",!r&&"spacing"]},fw,t)},vw=pe("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(({ownerState:e})=>V({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),mw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=n,s=Se(n,hw),l=V({},n,{disableSpacing:i}),a=pw(l);return Q(vw,V({className:ye(a.root,o),ownerState:l,ref:r},s))}),gw=mw;function yw(e){return Ie("MuiCardContent",e)}Me("MuiCardContent",["root"]);const Ew=["className","component"],xw=e=>{const{classes:t}=e;return De({root:["root"]},yw,t)},Sw=pe("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),Tw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCardContent"}),{className:i,component:o="div"}=n,s=Se(n,Ew),l=V({},n,{component:o}),a=xw(l);return Q(Sw,V({as:o,className:ye(a.root,i),ownerState:l,ref:r},s))}),rS=Tw;function bw(e){return Ie("MuiCardHeader",e)}const Cw=Me("MuiCardHeader",["root","avatar","action","content","title","subheader"]),xg=Cw,_w=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],Rw=e=>{const{classes:t}=e;return De({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},bw,t)},Pw=pe("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>V({[`& .${xg.title}`]:t.title,[`& .${xg.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),Lw=pe("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Aw=pe("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),Iw=pe("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),Dw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCardHeader"}),{action:i,avatar:o,className:s,component:l="div",disableTypography:a=!1,subheader:v,subheaderTypographyProps:d,title:M,titleTypographyProps:L}=n,B=Se(n,_w),I=V({},n,{component:l,disableTypography:a}),p=Rw(I);let w=M;w!=null&&w.type!==Ze&&!a&&(w=Q(Ze,V({variant:o?"body2":"h5",className:p.title,component:"span",display:"block"},L,{children:w})));let S=v;return S!=null&&S.type!==Ze&&!a&&(S=Q(Ze,V({variant:o?"body2":"body1",className:p.subheader,color:"text.secondary",component:"span",display:"block"},d,{children:S}))),be(Pw,V({className:ye(p.root,s),as:l,ref:r,ownerState:I},B,{children:[o&&Q(Lw,{className:p.avatar,ownerState:I,children:o}),be(Iw,{className:p.content,ownerState:I,children:[w,S]}),i&&Q(Aw,{className:p.action,ownerState:I,children:i})]}))}),nS=Dw;function Ow(e){return Ie("MuiCardMedia",e)}Me("MuiCardMedia",["root","media","img"]);const Mw=["children","className","component","image","src","style"],ww=e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e;return De({root:["root",r&&"media",n&&"img"]},Ow,t)},kw=pe("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:i}=r;return[t.root,n&&t.media,i&&t.img]}})(({ownerState:e})=>V({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"})),Fw=["video","audio","picture","iframe","img"],Nw=["picture","img"],Bw=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiCardMedia"}),{children:i,className:o,component:s="div",image:l,src:a,style:v}=n,d=Se(n,Mw),M=Fw.indexOf(s)!==-1,L=!M&&l?V({backgroundImage:`url("${l}")`},v):v,B=V({},n,{component:s,isMediaComponent:M,isImageComponent:Nw.indexOf(s)!==-1}),I=ww(B);return Q(kw,V({className:ye(I.root,o),as:s,role:!M&&l?"img":void 0,ref:r,style:L,ownerState:B,src:M?l||a:void 0},d,{children:i}))}),iS=Bw;function Uw(e){return Ie("PrivateSwitchBase",e)}Me("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const $w=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Kw=e=>{const{classes:t,checked:r,disabled:n,edge:i}=e,o={root:["root",r&&"checked",n&&"disabled",i&&`edge${ve(i)}`],input:["input"]};return De(o,Uw,t)},Ww=pe(Mn)(({ownerState:e})=>V({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),zw=pe("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Hw=j.forwardRef(function(t,r){const{autoFocus:n,checked:i,checkedIcon:o,className:s,defaultChecked:l,disabled:a,disableFocusRipple:v=!1,edge:d=!1,icon:M,id:L,inputProps:B,inputRef:I,name:p,onBlur:w,onChange:S,onFocus:E,readOnly:u,required:A=!1,tabIndex:x,type:h,value:f}=t,m=Se(t,$w),[g,R]=ci({controlled:i,default:Boolean(l),name:"SwitchBase",state:"checked"}),O=ji(),b=c=>{E&&E(c),O&&O.onFocus&&O.onFocus(c)},P=c=>{w&&w(c),O&&O.onBlur&&O.onBlur(c)},F=c=>{if(c.nativeEvent.defaultPrevented)return;const D=c.target.checked;R(D),S&&S(c,D)};let T=a;O&&typeof T>"u"&&(T=O.disabled);const C=h==="checkbox"||h==="radio",y=V({},t,{checked:g,disabled:T,disableFocusRipple:v,edge:d}),_=Kw(y);return be(Ww,V({component:"span",className:ye(_.root,s),centerRipple:!0,focusRipple:!v,disabled:T,tabIndex:null,role:void 0,onFocus:b,onBlur:P,ownerState:y,ref:r},m,{children:[Q(zw,V({autoFocus:n,checked:i,defaultChecked:l,className:_.input,disabled:T,id:C?L:void 0,name:p,onChange:F,readOnly:u,ref:I,required:A,ownerState:y,tabIndex:x,type:h},h==="checkbox"&&f===void 0?{}:{value:f},B)),g?o:M]}))}),jw=Hw,Vw=Rr(Q("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Gw=Rr(Q("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Yw=Rr(Q("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Xw(e){return Ie("MuiCheckbox",e)}const Qw=Me("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),fd=Qw,Jw=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Zw=e=>{const{classes:t,indeterminate:r,color:n}=e,i={root:["root",r&&"indeterminate",`color${ve(n)}`]},o=De(i,Xw,t);return V({},t,o)},qw=pe(jw,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,r.color!=="default"&&t[`color${ve(r.color)}`]]}})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ne(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${fd.checked}, &.${fd.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${fd.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),ek=Q(Gw,{}),tk=Q(Vw,{}),rk=Q(Yw,{}),nk=j.forwardRef(function(t,r){var n,i;const o=Oe({props:t,name:"MuiCheckbox"}),{checkedIcon:s=ek,color:l="primary",icon:a=tk,indeterminate:v=!1,indeterminateIcon:d=rk,inputProps:M,size:L="medium",className:B}=o,I=Se(o,Jw),p=v?d:a,w=v?d:s,S=V({},o,{color:l,indeterminate:v,size:L}),E=Zw(S);return Q(qw,V({type:"checkbox",inputProps:V({"data-indeterminate":v},M),icon:j.cloneElement(p,{fontSize:(n=p.props.fontSize)!=null?n:L}),checkedIcon:j.cloneElement(w,{fontSize:(i=w.props.fontSize)!=null?i:L}),ownerState:S,ref:r,className:ye(E.root,B)},I,{classes:E}))}),ik=nk,ok=ZL({createStyledComponent:pe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${ve(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Oe({props:e,name:"MuiContainer"})}),oS=ok,ak=(e,t)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),sk=e=>V({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),lk=(e,t=!1)=>{var r,n;const i={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([l,a])=>{var v;i[e.getColorSchemeSelector(l).replace(/\s*&/,"")]={colorScheme:(v=a.palette)==null?void 0:v.mode}});let o=V({html:ak(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:V({margin:0},sk(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i);const s=(r=e.components)==null||(n=r.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(o=[o,s]),o};function uk(e){const t=Oe({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=t;return be(j.Fragment,{children:[Q(qx,{styles:i=>lk(i,n)}),r]})}const ck=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],dk=pe("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>V({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),fk=pe(UM,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),hk=j.forwardRef(function(t,r){var n,i,o,s,l,a;const v=Oe({name:"MuiModal",props:t}),{BackdropComponent:d=fk,BackdropProps:M,classes:L,className:B,closeAfterTransition:I=!1,children:p,component:w,components:S={},componentsProps:E={},disableAutoFocus:u=!1,disableEnforceFocus:A=!1,disableEscapeKeyDown:x=!1,disablePortal:h=!1,disableRestoreFocus:f=!1,disableScrollLock:m=!1,hideBackdrop:g=!1,keepMounted:R=!1,slotProps:O,slots:b,theme:P}=v,F=Se(v,ck),[T,C]=j.useState(!0),y={closeAfterTransition:I,disableAutoFocus:u,disableEnforceFocus:A,disableEscapeKeyDown:x,disablePortal:h,disableRestoreFocus:f,disableScrollLock:m,hideBackdrop:g,keepMounted:R},_=V({},v,y,{exited:T}),c=(n=(i=b==null?void 0:b.root)!=null?i:S.Root)!=null?n:dk,D=(o=(s=b==null?void 0:b.backdrop)!=null?s:S.Backdrop)!=null?o:d,N=(l=O==null?void 0:O.root)!=null?l:E.root,k=(a=O==null?void 0:O.backdrop)!=null?a:E.backdrop;return Q(_D,V({slots:{root:c,backdrop:D},slotProps:{root:()=>V({},Df(N,_),!mn(c)&&{as:w,theme:P},{className:ye(B,N==null?void 0:N.className,L==null?void 0:L.root,!_.open&&_.exited&&(L==null?void 0:L.hidden))}),backdrop:()=>V({},M,Df(k,_),{className:ye(k==null?void 0:k.className,L==null?void 0:L.backdrop)})},onTransitionEnter:()=>C(!1),onTransitionExited:()=>C(!0),ref:r},F,y,{children:p}))}),pk=hk;function vk(e){return Ie("MuiDivider",e)}Me("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const mk=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],gk=e=>{const{absolute:t,children:r,classes:n,flexItem:i,light:o,orientation:s,textAlign:l,variant:a}=e;return De({root:["root",t&&"absolute",a,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&s==="vertical"&&"withChildrenVertical",l==="right"&&s!=="vertical"&&"textAlignRight",l==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},vk,n)},yk=pe("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,r.orientation==="vertical"&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&r.orientation==="vertical"&&t.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&t.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ne(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:e,ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:e,ownerState:t})=>V({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(e.vars||e).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:e})=>V({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Ek=pe("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,r.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>V({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),xk=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:l=o?"div":"hr",flexItem:a=!1,light:v=!1,orientation:d="horizontal",role:M=l!=="hr"?"separator":void 0,textAlign:L="center",variant:B="fullWidth"}=n,I=Se(n,mk),p=V({},n,{absolute:i,component:l,flexItem:a,light:v,orientation:d,role:M,textAlign:L,variant:B}),w=gk(p);return Q(yk,V({as:l,className:ye(w.root,s),role:M,ref:r,ownerState:p},I,{children:o?Q(Ek,{className:w.wrapper,ownerState:p,children:o}):null}))}),Sk=xk,Tk=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],bk=e=>{const{classes:t,disableUnderline:r}=e,i=De({root:["root",!r&&"underline"],input:["input"]},gM,t);return V({},t,i)},Ck=pe(bc,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Sc(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return V({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${mi.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${mi.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${mi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${mi.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${mi.disabled}, .${mi.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${mi.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&V({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),_k=pe(Cc,{name:"MuiFilledInput",slot:"Input",overridesResolver:Tc})(({theme:e,ownerState:t})=>V({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9})),aS=j.forwardRef(function(t,r){var n,i,o,s;const l=Oe({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:v,fullWidth:d=!1,inputComponent:M="input",multiline:L=!1,slotProps:B,slots:I={},type:p="text"}=l,w=Se(l,Tk),S=V({},l,{fullWidth:d,inputComponent:M,multiline:L,type:p}),E=bk(l),u={root:{ownerState:S},input:{ownerState:S}},A=B??v?lr(B??v,u):u,x=(n=(i=I.root)!=null?i:a.Root)!=null?n:Ck,h=(o=(s=I.input)!=null?s:a.Input)!=null?o:_k;return Q(Lp,V({slots:{root:x,input:h},componentsProps:A,fullWidth:d,inputComponent:M,multiline:L,ref:r,type:p},w,{classes:E}))});aS.muiName="Input";const sS=aS;function Rk(e){return Ie("MuiFormControl",e)}Me("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Pk=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Lk=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${ve(r)}`,n&&"fullWidth"]};return De(i,Rk,t)},Ak=pe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,t[`margin${ve(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>V({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),Ik=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:l="div",disabled:a=!1,error:v=!1,focused:d,fullWidth:M=!1,hiddenLabel:L=!1,margin:B="none",required:I=!1,size:p="medium",variant:w="outlined"}=n,S=Se(n,Pk),E=V({},n,{color:s,component:l,disabled:a,error:v,fullWidth:M,hiddenLabel:L,margin:B,required:I,size:p,variant:w}),u=Lk(E),[A,x]=j.useState(()=>{let P=!1;return i&&j.Children.forEach(i,F=>{if(!Fa(F,["Input","Select"]))return;const T=Fa(F,["Select"])?F.props.input:F;T&&aM(T.props)&&(P=!0)}),P}),[h,f]=j.useState(()=>{let P=!1;return i&&j.Children.forEach(i,F=>{Fa(F,["Input","Select"])&&Pp(F.props,!0)&&(P=!0)}),P}),[m,g]=j.useState(!1);a&&m&&g(!1);const R=d!==void 0&&!a?d:m;let O;const b=j.useMemo(()=>({adornedStart:A,setAdornedStart:x,color:s,disabled:a,error:v,filled:h,focused:R,fullWidth:M,hiddenLabel:L,size:p,onBlur:()=>{g(!1)},onEmpty:()=>{f(!1)},onFilled:()=>{f(!0)},onFocus:()=>{g(!0)},registerEffect:O,required:I,variant:w}),[A,s,a,v,h,R,M,L,O,I,p,w]);return Q(Rp.Provider,{value:b,children:Q(Ak,V({as:l,ownerState:E,className:ye(u.root,o),ref:r},S,{children:i}))})}),Dk=Ik;function Ok(e){return Ie("MuiFormHelperText",e)}const Mk=Me("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Sg=Mk;var Tg;const wk=["children","className","component","disabled","error","filled","focused","margin","required","variant"],kk=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:s,focused:l,required:a}=e,v={root:["root",i&&"disabled",o&&"error",n&&`size${ve(n)}`,r&&"contained",l&&"focused",s&&"filled",a&&"required"]};return De(v,Ok,t)},Fk=pe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${ve(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Sg.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Sg.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),Nk=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=n,l=Se(n,wk),a=ji(),v=Qo({props:n,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),d=V({},n,{component:s,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),M=kk(d);return Q(Fk,V({as:s,ownerState:d,className:ye(M.root,o),ref:r},l,{children:i===" "?Tg||(Tg=Q("span",{className:"notranslate",children:""})):i}))}),Bk=Nk;function Uk(e){return Ie("MuiFormLabel",e)}const $k=Me("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Wa=$k,Kk=["children","className","color","component","disabled","error","filled","focused","required"],Wk=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:s,required:l}=e,a={root:["root",`color${ve(r)}`,i&&"disabled",o&&"error",s&&"filled",n&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return De(a,Uk,t)},zk=pe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>V({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>V({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Wa.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${Wa.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Wa.error}`]:{color:(e.vars||e).palette.error.main}})),Hk=pe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${Wa.error}`]:{color:(e.vars||e).palette.error.main}})),jk=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=n,l=Se(n,Kk),a=ji(),v=Qo({props:n,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),d=V({},n,{color:v.color||"primary",component:s,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),M=Wk(d);return be(zk,V({as:s,ownerState:d,className:ye(M.root,o),ref:r},l,{children:[i,v.required&&be(Hk,{ownerState:d,"aria-hidden":!0,className:M.asterisk,children:["","*"]})]}))}),Vk=jk,Gk=j.createContext(),bg=Gk;function Yk(e){return Ie("MuiGrid",e)}const Xk=[0,1,2,3,4,5,6,7,8,9,10],Qk=["column-reverse","column","row-reverse","row"],Jk=["nowrap","wrap-reverse","wrap"],va=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Zk=Me("MuiGrid",["root","container","item","zeroMinWidth",...Xk.map(e=>`spacing-xs-${e}`),...Qk.map(e=>`direction-xs-${e}`),...Jk.map(e=>`wrap-xs-${e}`),...va.map(e=>`grid-xs-${e}`),...va.map(e=>`grid-sm-${e}`),...va.map(e=>`grid-md-${e}`),...va.map(e=>`grid-lg-${e}`),...va.map(e=>`grid-xl-${e}`)]),gs=Zk,qk=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Po(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function eF({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let o={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Ai({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof s=="object"?s[i]:s;if(l==null)return n;const a=`${Math.round(r/l*1e8)/1e6}%`;let v={};if(t.container&&t.item&&t.columnSpacing!==0){const d=e.spacing(t.columnSpacing);if(d!=="0px"){const M=`calc(${a} + ${Po(d)})`;v={flexBasis:M,maxWidth:M}}}o=V({flexBasis:a,flexGrow:0,maxWidth:a},v)}return e.breakpoints.values[i]===0?Object.assign(n,o):n[e.breakpoints.up(i)]=o,n},{})}function tF({theme:e,ownerState:t}){const r=Ai({values:t.direction,breakpoints:e.breakpoints.values});return Jt({theme:e},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${gs.item}`]={maxWidth:"none"}),i})}function lS({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,o)=>e[i]-e[o]);return n.slice(0,n.indexOf(r))}function rF({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const o=Ai({values:n,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=lS({breakpoints:e.breakpoints.values,values:o})),i=Jt({theme:e},o,(l,a)=>{var v;const d=e.spacing(l);return d!=="0px"?{marginTop:`-${Po(d)}`,[`& > .${gs.item}`]:{paddingTop:Po(d)}}:(v=s)!=null&&v.includes(a)?{}:{marginTop:0,[`& > .${gs.item}`]:{paddingTop:0}}})}return i}function nF({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const o=Ai({values:n,breakpoints:e.breakpoints.values});let s;typeof o=="object"&&(s=lS({breakpoints:e.breakpoints.values,values:o})),i=Jt({theme:e},o,(l,a)=>{var v;const d=e.spacing(l);return d!=="0px"?{width:`calc(100% + ${Po(d)})`,marginLeft:`-${Po(d)}`,[`& > .${gs.item}`]:{paddingLeft:Po(d)}}:(v=s)!=null&&v.includes(a)?{}:{width:"100%",marginLeft:0,[`& > .${gs.item}`]:{paddingLeft:0}}})}return i}function iF(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const oF=pe("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:o,spacing:s,wrap:l,zeroMinWidth:a,breakpoints:v}=r;let d=[];n&&(d=iF(s,v,t));const M=[];return v.forEach(L=>{const B=r[L];B&&M.push(t[`grid-${L}-${String(B)}`])}),[t.root,n&&t.container,o&&t.item,a&&t.zeroMinWidth,...d,i!=="row"&&t[`direction-xs-${String(i)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...M]}})(({ownerState:e})=>V({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),tF,rF,nF,eF);function aF(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const sF=e=>{const{classes:t,container:r,direction:n,item:i,spacing:o,wrap:s,zeroMinWidth:l,breakpoints:a}=e;let v=[];r&&(v=aF(o,a));const d=[];a.forEach(L=>{const B=e[L];B&&d.push(`grid-${L}-${String(B)}`)});const M={root:["root",r&&"container",i&&"item",l&&"zeroMinWidth",...v,n!=="row"&&`direction-xs-${String(n)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...d]};return De(M,Yk,t)},lF=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiGrid"}),{breakpoints:i}=rn(),o=ic(n),{className:s,columns:l,columnSpacing:a,component:v="div",container:d=!1,direction:M="row",item:L=!1,rowSpacing:B,spacing:I=0,wrap:p="wrap",zeroMinWidth:w=!1}=o,S=Se(o,qk),E=B||I,u=a||I,A=j.useContext(bg),x=d?l||12:A,h={},f=V({},S);i.keys.forEach(R=>{S[R]!=null&&(h[R]=S[R],delete f[R])});const m=V({},o,{columns:x,container:d,direction:M,item:L,rowSpacing:E,columnSpacing:u,wrap:p,zeroMinWidth:w,spacing:I},h,{breakpoints:i.keys}),g=sF(m);return Q(bg.Provider,{value:x,children:Q(oF,V({ownerState:m,className:ye(g.root,s),as:v,ref:r},f))})}),go=lF,uF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Uf(e){return`scale(${e}, ${e**2})`}const cF={entering:{opacity:1,transform:Uf(1)},entered:{opacity:1,transform:"none"}},hd=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),uS=j.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:s,in:l,onEnter:a,onEntered:v,onEntering:d,onExit:M,onExited:L,onExiting:B,style:I,timeout:p="auto",TransitionComponent:w=Yx}=t,S=Se(t,uF),E=j.useRef(),u=j.useRef(),A=rn(),x=j.useRef(null),h=ft(x,o.ref,r),f=T=>C=>{if(T){const y=x.current;C===void 0?T(y):T(y,C)}},m=f(d),g=f((T,C)=>{Xx(T);const{duration:y,delay:_,easing:c}=uu({style:I,timeout:p,easing:s},{mode:"enter"});let D;p==="auto"?(D=A.transitions.getAutoHeightDuration(T.clientHeight),u.current=D):D=y,T.style.transition=[A.transitions.create("opacity",{duration:D,delay:_}),A.transitions.create("transform",{duration:hd?D:D*.666,delay:_,easing:c})].join(","),a&&a(T,C)}),R=f(v),O=f(B),b=f(T=>{const{duration:C,delay:y,easing:_}=uu({style:I,timeout:p,easing:s},{mode:"exit"});let c;p==="auto"?(c=A.transitions.getAutoHeightDuration(T.clientHeight),u.current=c):c=C,T.style.transition=[A.transitions.create("opacity",{duration:c,delay:y}),A.transitions.create("transform",{duration:hd?c:c*.666,delay:hd?y:y||c*.333,easing:_})].join(","),T.style.opacity=0,T.style.transform=Uf(.75),M&&M(T)}),P=f(L),F=T=>{p==="auto"&&(E.current=setTimeout(T,u.current||0)),n&&n(x.current,T)};return j.useEffect(()=>()=>{clearTimeout(E.current)},[]),Q(w,V({appear:i,in:l,nodeRef:x,onEnter:g,onEntered:R,onEntering:m,onExit:b,onExited:P,onExiting:O,addEndListener:F,timeout:p==="auto"?null:p},S,{children:(T,C)=>j.cloneElement(o,V({style:V({opacity:0,transform:Uf(.75),visibility:T==="exited"&&!l?"hidden":void 0},cF[T],I,o.props.style),ref:h},C))}))});uS.muiSupportAuto=!0;const $f=uS;function dF(e,t,r,n,i){const[o,s]=j.useState(()=>i&&r?r(e).matches:n?n(e).matches:t);return Tr(()=>{let l=!0;if(!r)return;const a=r(e),v=()=>{l&&s(a.matches)};return v(),a.addListener(v),()=>{l=!1,a.removeListener(v)}},[e,r]),o}const cS=Di["useSyncExternalStore"];function fF(e,t,r,n,i){const o=j.useCallback(()=>t,[t]),s=j.useMemo(()=>{if(i&&r)return()=>r(e).matches;if(n!==null){const{matches:d}=n(e);return()=>d}return o},[o,e,n,i,r]),[l,a]=j.useMemo(()=>{if(r===null)return[o,()=>()=>{}];const d=r(e);return[()=>d.matches,M=>(d.addListener(M),()=>{d.removeListener(M)})]},[o,r,e]);return cS(a,l,s)}function hF(e,t={}){const r=dp(),n=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=n?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:l=!1}=Ix({name:"MuiUseMediaQuery",props:t,theme:r});let a=typeof e=="function"?e(r):e;return a=a.replace(/^@media( ?)/m,""),(cS!==void 0?fF:dF)(a,i,o,s,l)}const pF=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],vF=e=>{const{classes:t,disableUnderline:r}=e,i=De({root:["root",!r&&"underline"],input:["input"]},hM,t);return V({},t,i)},mF=pe(bc,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...Sc(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),V({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${pa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${pa.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${pa.disabled}, .${pa.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${pa.disabled}:before`]:{borderBottomStyle:"dotted"}})}),gF=pe(Cc,{name:"MuiInput",slot:"Input",overridesResolver:Tc})({}),dS=j.forwardRef(function(t,r){var n,i,o,s;const l=Oe({props:t,name:"MuiInput"}),{disableUnderline:a,components:v={},componentsProps:d,fullWidth:M=!1,inputComponent:L="input",multiline:B=!1,slotProps:I,slots:p={},type:w="text"}=l,S=Se(l,pF),E=vF(l),A={root:{ownerState:{disableUnderline:a}}},x=I??d?lr(I??d,A):A,h=(n=(i=p.root)!=null?i:v.Root)!=null?n:mF,f=(o=(s=p.input)!=null?s:v.Input)!=null?o:gF;return Q(Lp,V({slots:{root:h,input:f},slotProps:x,fullWidth:M,inputComponent:L,multiline:B,ref:r,type:w},S,{classes:E}))});dS.muiName="Input";const fS=dS;function yF(e){return Ie("MuiInputLabel",e)}Me("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const EF=["disableAnimation","margin","shrink","variant","className"],xF=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:s,required:l}=e,v=De({root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n==="small"&&"sizeSmall",s],asterisk:[l&&"asterisk"]},yF,t);return V({},t,v)},SF=pe(Vk,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${Wa.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,t[r.variant]]}})(({theme:e,ownerState:t})=>V({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&V({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&V({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&V({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),TF=j.forwardRef(function(t,r){const n=Oe({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:s}=n,l=Se(n,EF),a=ji();let v=o;typeof v>"u"&&a&&(v=a.filled||a.focused||a.adornedStart);const d=Qo({props:n,muiFormControl:a,states:["size","variant","required"]}),M=V({},n,{disableAnimation:i,formControl:a,shrink:v,size:d.size,variant:d.variant,required:d.required}),L=xF(M);return Q(SF,V({"data-shrink":v,ownerState:M,ref:r,className:ye(L.root,s)},l,{classes:L}))}),bF=TF,CF=j.createContext({}),yn=CF;function _F(e){return Ie("MuiList",e)}Me("MuiList",["root","padding","dense","subheader"]);const RF=["children","className","component","dense","disablePadding","subheader"],PF=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return De({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},_F,t)},LF=pe("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),AF=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:l=!1,disablePadding:a=!1,subheader:v}=n,d=Se(n,RF),M=j.useMemo(()=>({dense:l}),[l]),L=V({},n,{component:s,dense:l,disablePadding:a}),B=PF(L);return Q(yn.Provider,{value:M,children:be(LF,V({as:s,className:ye(B.root,o),ref:r,ownerState:L},d,{children:[v,i]}))})}),hS=AF;function IF(e){return Ie("MuiListItem",e)}const DF=Me("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),eo=DF;function OF(e){return Ie("MuiListItemButton",e)}const MF=Me("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),to=MF,wF=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],kF=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters]},FF=e=>{const{alignItems:t,classes:r,dense:n,disabled:i,disableGutters:o,divider:s,selected:l}=e,v=De({root:["root",n&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",t==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},OF,r);return V({},r,v)},NF=pe(Mn,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:kF})(({theme:e,ownerState:t})=>V({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${to.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${to.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${to.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${to.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${to.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.alignItems==="flex-start"&&{alignItems:"flex-start"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.dense&&{paddingTop:4,paddingBottom:4})),BF=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:l,dense:a=!1,disableGutters:v=!1,divider:d=!1,focusVisibleClassName:M,selected:L=!1,className:B}=n,I=Se(n,wF),p=j.useContext(yn),w=j.useMemo(()=>({dense:a||p.dense||!1,alignItems:i,disableGutters:v}),[i,p.dense,a,v]),S=j.useRef(null);Tr(()=>{o&&S.current&&S.current.focus()},[o]);const E=V({},n,{alignItems:i,dense:w.dense,disableGutters:v,divider:d,selected:L}),u=FF(E),A=ft(S,r);return Q(yn.Provider,{value:w,children:Q(NF,V({ref:A,href:I.href||I.to,component:(I.href||I.to)&&s==="div"?"a":s,focusVisibleClassName:ye(u.focusVisible,M),ownerState:E,className:ye(u.root,B)},I,{classes:u,children:l}))})}),UF=BF;function $F(e){return Ie("MuiListItemSecondaryAction",e)}Me("MuiListItemSecondaryAction",["root","disableGutters"]);const KF=["className"],WF=e=>{const{disableGutters:t,classes:r}=e;return De({root:["root",t&&"disableGutters"]},$F,r)},zF=pe("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.disableGutters&&t.disableGutters]}})(({ownerState:e})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),pS=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItemSecondaryAction"}),{className:i}=n,o=Se(n,KF),s=j.useContext(yn),l=V({},n,{disableGutters:s.disableGutters}),a=WF(l);return Q(zF,V({className:ye(a.root,i),ownerState:l,ref:r},o))});pS.muiName="ListItemSecondaryAction";const HF=pS,jF=["className"],VF=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],GF=(e,t)=>{const{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.alignItems==="flex-start"&&t.alignItemsFlexStart,r.divider&&t.divider,!r.disableGutters&&t.gutters,!r.disablePadding&&t.padding,r.button&&t.button,r.hasSecondaryAction&&t.secondaryAction]},YF=e=>{const{alignItems:t,button:r,classes:n,dense:i,disabled:o,disableGutters:s,disablePadding:l,divider:a,hasSecondaryAction:v,selected:d}=e;return De({root:["root",i&&"dense",!s&&"gutters",!l&&"padding",a&&"divider",o&&"disabled",r&&"button",t==="flex-start"&&"alignItemsFlexStart",v&&"secondaryAction",d&&"selected"],container:["container"]},IF,n)},XF=pe("div",{name:"MuiListItem",slot:"Root",overridesResolver:GF})(({theme:e,ownerState:t})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&V({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${to.root}`]:{paddingRight:48}},{[`&.${eo.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${eo.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${eo.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${eo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${eo.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ne(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),QF=pe("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),JF=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:l,className:a,component:v,components:d={},componentsProps:M={},ContainerComponent:L="li",ContainerProps:{className:B}={},dense:I=!1,disabled:p=!1,disableGutters:w=!1,disablePadding:S=!1,divider:E=!1,focusVisibleClassName:u,secondaryAction:A,selected:x=!1,slotProps:h={},slots:f={}}=n,m=Se(n.ContainerProps,jF),g=Se(n,VF),R=j.useContext(yn),O=j.useMemo(()=>({dense:I||R.dense||!1,alignItems:i,disableGutters:w}),[i,R.dense,I,w]),b=j.useRef(null);Tr(()=>{o&&b.current&&b.current.focus()},[o]);const P=j.Children.toArray(l),F=P.length&&Fa(P[P.length-1],["ListItemSecondaryAction"]),T=V({},n,{alignItems:i,autoFocus:o,button:s,dense:O.dense,disabled:p,disableGutters:w,disablePadding:S,divider:E,hasSecondaryAction:F,selected:x}),C=YF(T),y=ft(b,r),_=f.root||d.Root||XF,c=h.root||M.root||{},D=V({className:ye(C.root,c.className,a),disabled:p},g);let N=v||"li";return s&&(D.component=v||"div",D.focusVisibleClassName=ye(eo.focusVisible,u),N=Mn),F?(N=!D.component&&!v?"div":N,L==="li"&&(N==="li"?N="div":D.component==="li"&&(D.component="div")),Q(yn.Provider,{value:O,children:be(QF,V({as:L,className:ye(C.container,B),ref:y,ownerState:T},m,{children:[Q(_,V({},c,!mn(_)&&{as:N,ownerState:V({},T,c.ownerState)},D,{children:P})),P.pop()]}))})):Q(yn.Provider,{value:O,children:be(_,V({},c,{as:N,ref:y},!mn(_)&&{ownerState:V({},T,c.ownerState)},D,{children:[P,A&&Q(HF,{children:A})]}))})}),ZF=JF;function qF(e){return Ie("MuiListItemAvatar",e)}Me("MuiListItemAvatar",["root","alignItemsFlexStart"]);const e2=["className"],t2=e=>{const{alignItems:t,classes:r}=e;return De({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},qF,r)},r2=pe("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({ownerState:e})=>V({minWidth:56,flexShrink:0},e.alignItems==="flex-start"&&{marginTop:8})),n2=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItemAvatar"}),{className:i}=n,o=Se(n,e2),s=j.useContext(yn),l=V({},n,{alignItems:s.alignItems}),a=t2(l);return Q(r2,V({className:ye(a.root,i),ownerState:l,ref:r},o))}),i2=n2;function o2(e){return Ie("MuiListItemIcon",e)}Me("MuiListItemIcon",["root","alignItemsFlexStart"]);const a2=["className"],s2=e=>{const{alignItems:t,classes:r}=e;return De({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},o2,r)},l2=pe("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>V({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},t.alignItems==="flex-start"&&{marginTop:8})),u2=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItemIcon"}),{className:i}=n,o=Se(n,a2),s=j.useContext(yn),l=V({},n,{alignItems:s.alignItems}),a=s2(l);return Q(l2,V({className:ye(a.root,i),ownerState:l,ref:r},o))}),Cg=u2;function c2(e){return Ie("MuiListItemText",e)}const d2=Me("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),_g=d2,f2=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],h2=e=>{const{classes:t,inset:r,primary:n,secondary:i,dense:o}=e;return De({root:["root",r&&"inset",o&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},c2,t)},p2=pe("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${_g.primary}`]:t.primary},{[`& .${_g.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})(({ownerState:e})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),v2=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:l=!1,primary:a,primaryTypographyProps:v,secondary:d,secondaryTypographyProps:M}=n,L=Se(n,f2),{dense:B}=j.useContext(yn);let I=a??i,p=d;const w=V({},n,{disableTypography:s,inset:l,primary:!!I,secondary:!!p,dense:B}),S=h2(w);return I!=null&&I.type!==Ze&&!s&&(I=Q(Ze,V({variant:B?"body2":"body1",className:S.primary,component:v!=null&&v.variant?void 0:"span",display:"block"},v,{children:I}))),p!=null&&p.type!==Ze&&!s&&(p=Q(Ze,V({variant:"body2",className:S.secondary,color:"text.secondary",display:"block"},M,{children:p}))),be(p2,V({className:ye(S.root,o),ownerState:w,ref:r},L,{children:[I,p]}))}),m2=v2,g2=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function pd(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function Rg(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function vS(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function ma(e,t,r,n,i,o){let s=!1,l=i(e,t,t?r:!1);for(;l;){if(l===e.firstChild){if(s)return!1;s=!0}const a=n?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!vS(l,o)||a)l=i(e,l,r);else return l.focus(),!0}return!1}const y2=j.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:l,disabledItemsFocusable:a=!1,disableListWrap:v=!1,onKeyDown:d,variant:M="selectedMenu"}=t,L=Se(t,g2),B=j.useRef(null),I=j.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Tr(()=>{i&&B.current.focus()},[i]),j.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(u,A)=>{const x=!B.current.style.width;if(u.clientHeight<B.current.clientHeight&&x){const h=`${ex(Lt(u))}px`;B.current.style[A.direction==="rtl"?"paddingLeft":"paddingRight"]=h,B.current.style.width=`calc(100% + ${h})`}return B.current}}),[]);const p=u=>{const A=B.current,x=u.key,h=Lt(A).activeElement;if(x==="ArrowDown")u.preventDefault(),ma(A,h,v,a,pd);else if(x==="ArrowUp")u.preventDefault(),ma(A,h,v,a,Rg);else if(x==="Home")u.preventDefault(),ma(A,null,v,a,pd);else if(x==="End")u.preventDefault(),ma(A,null,v,a,Rg);else if(x.length===1){const f=I.current,m=x.toLowerCase(),g=performance.now();f.keys.length>0&&(g-f.lastTime>500?(f.keys=[],f.repeating=!0,f.previousKeyMatched=!0):f.repeating&&m!==f.keys[0]&&(f.repeating=!1)),f.lastTime=g,f.keys.push(m);const R=h&&!f.repeating&&vS(h,f);f.previousKeyMatched&&(R||ma(A,h,!1,a,pd,f))?u.preventDefault():f.previousKeyMatched=!1}d&&d(u)},w=ft(B,r);let S=-1;j.Children.forEach(s,(u,A)=>{j.isValidElement(u)&&(u.props.disabled||(M==="selectedMenu"&&u.props.selected||S===-1)&&(S=A),S===A&&(u.props.disabled||u.props.muiSkipListHighlight||u.type.muiSkipListHighlight)&&(S+=1,S>=s.length&&(S=-1)))});const E=j.Children.map(s,(u,A)=>{if(A===S){const x={};return o&&(x.autoFocus=!0),u.props.tabIndex===void 0&&M==="selectedMenu"&&(x.tabIndex=0),j.cloneElement(u,x)}return u});return Q(hS,V({role:"menu",ref:w,className:l,onKeyDown:p,tabIndex:i?0:-1},L,{children:E}))}),E2=y2;function x2(e){return Ie("MuiPopover",e)}Me("MuiPopover",["root","paper"]);const S2=["onEntering"],T2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Pg(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function Lg(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function Ag(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function vd(e){return typeof e=="function"?e():e}const b2=e=>{const{classes:t}=e;return De({root:["root"],paper:["paper"]},x2,t)},C2=pe(pk,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_2=pe(Hi,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),R2=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:a="anchorEl",children:v,className:d,container:M,elevation:L=8,marginThreshold:B=16,open:I,PaperProps:p={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S=$f,transitionDuration:E="auto",TransitionProps:{onEntering:u}={}}=n,A=Se(n.TransitionProps,S2),x=Se(n,T2),h=j.useRef(),f=ft(h,p.ref),m=V({},n,{anchorOrigin:s,anchorReference:a,elevation:L,marginThreshold:B,PaperProps:p,transformOrigin:w,TransitionComponent:S,transitionDuration:E,TransitionProps:A}),g=b2(m),R=j.useCallback(()=>{if(a==="anchorPosition")return l;const D=vd(o),k=(D&&D.nodeType===1?D:Lt(h.current).body).getBoundingClientRect();return{top:k.top+Pg(k,s.vertical),left:k.left+Lg(k,s.horizontal)}},[o,s.horizontal,s.vertical,l,a]),O=j.useCallback(D=>({vertical:Pg(D,w.vertical),horizontal:Lg(D,w.horizontal)}),[w.horizontal,w.vertical]),b=j.useCallback(D=>{const N={width:D.offsetWidth,height:D.offsetHeight},k=O(N);if(a==="none")return{top:null,left:null,transformOrigin:Ag(k)};const U=R();let $=U.top-k.vertical,K=U.left-k.horizontal;const W=$+N.height,z=K+N.width,H=ui(vd(o)),G=H.innerHeight-B,X=H.innerWidth-B;if($<B){const Y=$-B;$-=Y,k.vertical+=Y}else if(W>G){const Y=W-G;$-=Y,k.vertical+=Y}if(K<B){const Y=K-B;K-=Y,k.horizontal+=Y}else if(z>X){const Y=z-X;K-=Y,k.horizontal+=Y}return{top:`${Math.round($)}px`,left:`${Math.round(K)}px`,transformOrigin:Ag(k)}},[o,a,R,O,B]),[P,F]=j.useState(I),T=j.useCallback(()=>{const D=h.current;if(!D)return;const N=b(D);N.top!==null&&(D.style.top=N.top),N.left!==null&&(D.style.left=N.left),D.style.transformOrigin=N.transformOrigin,F(!0)},[b]),C=(D,N)=>{u&&u(D,N),T()},y=()=>{F(!1)};j.useEffect(()=>{I&&T()}),j.useImperativeHandle(i,()=>I?{updatePosition:()=>{T()}}:null,[I,T]),j.useEffect(()=>{if(!I)return;const D=Xh(()=>{T()}),N=ui(o);return N.addEventListener("resize",D),()=>{D.clear(),N.removeEventListener("resize",D)}},[o,I,T]);let _=E;E==="auto"&&!S.muiSupportAuto&&(_=void 0);const c=M||(o?Lt(vd(o)).body:void 0);return Q(C2,V({BackdropProps:{invisible:!0},className:ye(g.root,d),container:c,open:I,ref:r,ownerState:m},x,{children:Q(S,V({appear:!0,in:I,onEntering:C,onExited:y,timeout:_},A,{children:Q(_2,V({elevation:L},p,{ref:f,className:ye(g.paper,p.className)},P?void 0:{style:V({},p.style,{opacity:0})},{ownerState:m,children:v}))}))}))}),P2=R2;function L2(e){return Ie("MuiMenu",e)}Me("MuiMenu",["root","paper","list"]);const A2=["onEntering"],I2=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],D2={vertical:"top",horizontal:"right"},O2={vertical:"top",horizontal:"left"},M2=e=>{const{classes:t}=e;return De({root:["root"],paper:["paper"],list:["list"]},L2,t)},w2=pe(P2,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),k2=pe(Hi,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),F2=pe(E2,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),N2=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:o,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:a,open:v,PaperProps:d={},PopoverClasses:M,transitionDuration:L="auto",TransitionProps:{onEntering:B}={},variant:I="selectedMenu"}=n,p=Se(n.TransitionProps,A2),w=Se(n,I2),S=rn(),E=S.direction==="rtl",u=V({},n,{autoFocus:i,disableAutoFocusItem:s,MenuListProps:l,onEntering:B,PaperProps:d,transitionDuration:L,TransitionProps:p,variant:I}),A=M2(u),x=i&&!s&&v,h=j.useRef(null),f=(R,O)=>{h.current&&h.current.adjustStyleForScrollbar(R,S),B&&B(R,O)},m=R=>{R.key==="Tab"&&(R.preventDefault(),a&&a(R,"tabKeyDown"))};let g=-1;return j.Children.map(o,(R,O)=>{j.isValidElement(R)&&(R.props.disabled||(I==="selectedMenu"&&R.props.selected||g===-1)&&(g=O))}),Q(w2,V({onClose:a,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?D2:O2,PaperProps:V({as:k2},d,{classes:V({},d.classes,{root:A.paper})}),className:A.root,open:v,ref:r,transitionDuration:L,TransitionProps:V({onEntering:f},p),ownerState:u},w,{classes:M,children:Q(F2,V({onKeyDown:m,actions:h,autoFocus:i&&(g===-1||s),autoFocusItem:x,variant:I},l,{className:ye(A.list,l.className),children:o}))}))}),B2=N2;function U2(e){return Ie("MuiNativeSelect",e)}const $2=Me("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Ap=$2,K2=["className","disabled","IconComponent","inputRef","variant"],W2=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${ve(r)}`,o&&"iconOpen",n&&"disabled"]};return De(s,U2,t)},mS=({ownerState:e,theme:t})=>V({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":V({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ap.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),z2=pe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:nn,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],{[`&.${Ap.multiple}`]:t.multiple}]}})(mS),gS=({ownerState:e,theme:t})=>V({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Ap.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),H2=pe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ve(r.variant)}`],r.open&&t.iconOpen]}})(gS),j2=j.forwardRef(function(t,r){const{className:n,disabled:i,IconComponent:o,inputRef:s,variant:l="standard"}=t,a=Se(t,K2),v=V({},t,{disabled:i,variant:l}),d=W2(v);return be(j.Fragment,{children:[Q(z2,V({ownerState:v,className:ye(d.select,n),disabled:i,ref:s||r},a)),t.multiple?null:Q(H2,{as:o,ownerState:v,className:d.icon})]})}),V2=j2;var Ig;const G2=["children","classes","className","label","notched"],Y2=pe("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),X2=pe("legend")(({ownerState:e,theme:t})=>V({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&V({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function Q2(e){const{className:t,label:r,notched:n}=e,i=Se(e,G2),o=r!=null&&r!=="",s=V({},e,{notched:n,withLabel:o});return Q(Y2,V({"aria-hidden":!0,className:t,ownerState:s},i,{children:Q(X2,{ownerState:s,children:o?Q("span",{children:r}):Ig||(Ig=Q("span",{className:"notranslate",children:""}))})}))}const J2=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Z2=e=>{const{classes:t}=e,n=De({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},vM,t);return V({},t,n)},q2=pe(bc,{shouldForwardProp:e=>nn(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Sc})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return V({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Kn.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Kn.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Kn.focused} .${Kn.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Kn.error} .${Kn.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Kn.disabled} .${Kn.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&V({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),eN=pe(Q2,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),tN=pe(Cc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Tc})(({theme:e,ownerState:t})=>V({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),yS=j.forwardRef(function(t,r){var n,i,o,s,l;const a=Oe({props:t,name:"MuiOutlinedInput"}),{components:v={},fullWidth:d=!1,inputComponent:M="input",label:L,multiline:B=!1,notched:I,slots:p={},type:w="text"}=a,S=Se(a,J2),E=Z2(a),u=ji(),A=Qo({props:a,muiFormControl:u,states:["required"]}),x=V({},a,{color:A.color||"primary",disabled:A.disabled,error:A.error,focused:A.focused,formControl:u,fullWidth:d,hiddenLabel:A.hiddenLabel,multiline:B,size:A.size,type:w}),h=(n=(i=p.root)!=null?i:v.Root)!=null?n:q2,f=(o=(s=p.input)!=null?s:v.Input)!=null?o:tN;return Q(Lp,V({slots:{root:h,input:f},renderSuffix:m=>Q(eN,{ownerState:x,className:E.notchedOutline,label:L!=null&&L!==""&&A.required?l||(l=be(j.Fragment,{children:[L,"","*"]})):L,notched:typeof I<"u"?I:Boolean(m.startAdornment||m.filled||m.focused)}),fullWidth:d,inputComponent:M,multiline:B,ref:r,type:w},S,{classes:V({},E,{notchedOutline:null})}))});yS.muiName="Input";const ES=yS;function rN(e){return Ie("MuiPagination",e)}Me("MuiPagination",["root","ul","outlined","text"]);const nN=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function iN(e={}){const{boundaryCount:t=1,componentName:r="usePagination",count:n=1,defaultPage:i=1,disabled:o=!1,hideNextButton:s=!1,hidePrevButton:l=!1,onChange:a,page:v,showFirstButton:d=!1,showLastButton:M=!1,siblingCount:L=1}=e,B=Se(e,nN),[I,p]=ci({controlled:v,default:i,name:r,state:"page"}),w=(g,R)=>{v||p(R),a&&a(g,R)},S=(g,R)=>{const O=R-g+1;return Array.from({length:O},(b,P)=>g+P)},E=S(1,Math.min(t,n)),u=S(Math.max(n-t+1,t+1),n),A=Math.max(Math.min(I-L,n-t-L*2-1),t+2),x=Math.min(Math.max(I+L,t+L*2+2),u.length>0?u[0]-2:n-1),h=[...d?["first"]:[],...l?[]:["previous"],...E,...A>t+2?["start-ellipsis"]:t+1<n-t?[t+1]:[],...S(A,x),...x<n-t-1?["end-ellipsis"]:n-t>t?[n-t]:[],...u,...s?[]:["next"],...M?["last"]:[]],f=g=>{switch(g){case"first":return 1;case"previous":return I-1;case"next":return I+1;case"last":return n;default:return null}},m=h.map(g=>typeof g=="number"?{onClick:R=>{w(R,g)},type:"page",page:g,selected:g===I,disabled:o,"aria-current":g===I?"true":void 0}:{onClick:R=>{w(R,f(g))},type:g,page:f(g),selected:!1,disabled:o||g.indexOf("ellipsis")===-1&&(g==="next"||g==="last"?I>=n:I<=1)});return V({items:m},B)}function oN(e){return Ie("MuiPaginationItem",e)}const aN=Me("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]),Ir=aN,Dg=Rr(Q("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Og=Rr(Q("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Mg=Rr(Q("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),wg=Rr(Q("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),sN=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],xS=(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${ve(r.size)}`],r.variant==="text"&&t[`text${ve(r.color)}`],r.variant==="outlined"&&t[`outlined${ve(r.color)}`],r.shape==="rounded"&&t.rounded,r.type==="page"&&t.page,(r.type==="start-ellipsis"||r.type==="end-ellipsis")&&t.ellipsis,(r.type==="previous"||r.type==="next")&&t.previousNext,(r.type==="first"||r.type==="last")&&t.firstLast]},lN=e=>{const{classes:t,color:r,disabled:n,selected:i,size:o,shape:s,type:l,variant:a}=e,v={root:["root",`size${ve(o)}`,a,s,r!=="standard"&&`${a}${ve(r)}`,n&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[l]],icon:["icon"]};return De(v,oN,t)},uN=pe("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:xS})(({theme:e,ownerState:t})=>V({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Ir.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)})),cN=pe(Mn,{name:"MuiPaginationItem",slot:"Root",overridesResolver:xS})(({theme:e,ownerState:t})=>V({},e.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Ir.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ir.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ir.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ne(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Ir.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selected} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Ir.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}}},t.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},t.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)},t.shape==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius}),({theme:e,ownerState:t})=>V({},t.variant==="text"&&{[`&.${Ir.selected}`]:V({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}},[`&.${Ir.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}},{[`&.${Ir.disabled}`]:{color:(e.vars||e).palette.action.disabled}})},t.variant==="outlined"&&{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Ir.selected}`]:V({},t.color!=="standard"&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:Ne(e.palette[t.color].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:Ne(e.palette[t.color].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ir.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Ne(e.palette[t.color].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}},{[`&.${Ir.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}})})),dN=pe("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})(({theme:e,ownerState:t})=>V({fontSize:e.typography.pxToRem(20),margin:"0 -8px"},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(22)})),fN=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:s,components:l={},disabled:a=!1,page:v,selected:d=!1,shape:M="circular",size:L="medium",slots:B={},type:I="page",variant:p="text"}=n,w=Se(n,sN),S=V({},n,{color:o,disabled:a,selected:d,shape:M,size:L,type:I,variant:p}),E=rn(),u=lN(S),x=(E.direction==="rtl"?{previous:B.next||l.next||wg,next:B.previous||l.previous||Mg,last:B.first||l.first||Dg,first:B.last||l.last||Og}:{previous:B.previous||l.previous||Mg,next:B.next||l.next||wg,first:B.first||l.first||Dg,last:B.last||l.last||Og})[I];return I==="start-ellipsis"||I==="end-ellipsis"?Q(uN,{ref:r,ownerState:S,className:ye(u.root,i),children:""}):be(cN,V({ref:r,ownerState:S,component:s,disabled:a,className:ye(u.root,i)},w,{children:[I==="page"&&v,x?Q(dN,{as:x,ownerState:S,className:u.icon}):null]}))}),hN=fN,pN=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],vN=e=>{const{classes:t,variant:r}=e;return De({root:["root",r],ul:["ul"]},rN,t)},mN=pe("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant]]}})({}),gN=pe("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function yN(e,t,r){return e==="page"?`${r?"":"Go to "}page ${t}`:`Go to ${e} page`}const EN=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:s="standard",count:l=1,defaultPage:a=1,disabled:v=!1,getItemAriaLabel:d=yN,hideNextButton:M=!1,hidePrevButton:L=!1,renderItem:B=m=>Q(hN,V({},m)),shape:I="circular",showFirstButton:p=!1,showLastButton:w=!1,siblingCount:S=1,size:E="medium",variant:u="text"}=n,A=Se(n,pN),{items:x}=iN(V({},n,{componentName:"Pagination"})),h=V({},n,{boundaryCount:i,color:s,count:l,defaultPage:a,disabled:v,getItemAriaLabel:d,hideNextButton:M,hidePrevButton:L,renderItem:B,shape:I,showFirstButton:p,showLastButton:w,siblingCount:S,size:E,variant:u}),f=vN(h);return Q(mN,V({"aria-label":"pagination navigation",className:ye(f.root,o),ownerState:h,ref:r},A,{children:Q(gN,{className:f.ul,ownerState:h,children:x.map((m,g)=>Q("li",{children:B(V({},m,{color:s,"aria-label":d(m.type,m.page,m.selected),shape:I,size:E,variant:u}))},g))})}))}),xN=EN,SN=Rr(Q("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),TN=Rr(Q("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function bN(e){return Ie("MuiRating",e)}const CN=Me("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),ga=CN,_N=["value"],RN=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function PN(e,t,r){return e<t?t:e>r?r:e}function LN(e){const t=e.toString().split(".")[1];return t?t.length:0}function md(e,t){if(e==null)return e;const r=Math.round(e/t)*t;return Number(r.toFixed(LN(t)))}const AN=e=>{const{classes:t,size:r,readOnly:n,disabled:i,emptyValueFocused:o,focusVisible:s}=e,l={root:["root",`size${ve(r)}`,i&&"disabled",s&&"focusVisible",n&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return De(l,bN,t)},IN=pe("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${ga.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${ve(r.size)}`],r.readOnly&&t.readOnly]}})(({theme:e,ownerState:t})=>V({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${ga.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ga.focusVisible} .${ga.iconActive}`]:{outline:"1px solid #999"},[`& .${ga.visuallyHidden}`]:tx},t.size==="small"&&{fontSize:e.typography.pxToRem(18)},t.size==="large"&&{fontSize:e.typography.pxToRem(30)},t.readOnly&&{pointerEvents:"none"})),SS=pe("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})(({ownerState:e})=>V({cursor:"inherit"},e.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),DN=pe("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.iconEmpty&&t.iconEmpty,r.iconFilled&&t.iconFilled,r.iconHover&&t.iconHover,r.iconFocus&&t.iconFocus,r.iconActive&&t.iconActive]}})(({theme:e,ownerState:t})=>V({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},t.iconActive&&{transform:"scale(1.2)"},t.iconEmpty&&{color:(e.vars||e).palette.action.disabled})),ON=pe("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>lc(e)&&e!=="iconActive",overridesResolver:(e,t)=>{const{iconActive:r}=e;return[t.decimal,r&&t.iconActive]}})(({iconActive:e})=>V({position:"relative"},e&&{transform:"scale(1.2)"}));function MN(e){const t=Se(e,_N);return Q("span",V({},t))}function kg(e){const{classes:t,disabled:r,emptyIcon:n,focus:i,getLabelText:o,highlightSelectedOnly:s,hover:l,icon:a,IconContainerComponent:v,isActive:d,itemValue:M,labelProps:L,name:B,onBlur:I,onChange:p,onClick:w,onFocus:S,readOnly:E,ownerState:u,ratingValue:A,ratingValueRounded:x}=e,h=s?M===A:M<=A,f=M<=l,m=M<=i,g=M===x,R=_s(),O=Q(DN,{as:v,value:M,className:ye(t.icon,h?t.iconFilled:t.iconEmpty,f&&t.iconHover,m&&t.iconFocus,d&&t.iconActive),ownerState:V({},u,{iconEmpty:!h,iconFilled:h,iconHover:f,iconFocus:m,iconActive:d}),children:n&&!h?n:a});return E?Q("span",V({},L,{children:O})):be(j.Fragment,{children:[be(SS,V({ownerState:V({},u,{emptyValueFocused:void 0}),htmlFor:R},L,{children:[O,Q("span",{className:t.visuallyHidden,children:o(M)})]})),Q("input",{className:t.visuallyHidden,onFocus:S,onBlur:I,onChange:p,onClick:w,disabled:r,value:M,id:R,type:"radio",name:B,checked:g})]})}const wN=Q(SN,{fontSize:"inherit"}),kN=Q(TN,{fontSize:"inherit"});function FN(e){return`${e} Star${e!==1?"s":""}`}const NN=j.forwardRef(function(t,r){const n=Oe({name:"MuiRating",props:t}),{className:i,defaultValue:o=null,disabled:s=!1,emptyIcon:l=kN,emptyLabelText:a="Empty",getLabelText:v=FN,highlightSelectedOnly:d=!1,icon:M=wN,IconContainerComponent:L=MN,max:B=5,name:I,onChange:p,onChangeActive:w,onMouseLeave:S,onMouseMove:E,precision:u=1,readOnly:A=!1,size:x="medium",value:h}=n,f=Se(n,RN),m=_s(I),[g,R]=ci({controlled:h,default:o,name:"Rating"}),O=md(g,u),b=rn(),[{hover:P,focus:F},T]=j.useState({hover:-1,focus:-1});let C=O;P!==-1&&(C=P),F!==-1&&(C=F);const{isFocusVisibleRef:y,onBlur:_,onFocus:c,ref:D}=Rs(),[N,k]=j.useState(!1),U=j.useRef(),$=ft(D,U,r),K=te=>{E&&E(te);const ie=U.current,{right:ae,left:ge}=ie.getBoundingClientRect(),{width:de}=ie.firstChild.getBoundingClientRect();let oe;b.direction==="rtl"?oe=(ae-te.clientX)/(de*B):oe=(te.clientX-ge)/(de*B);let he=md(B*oe+u/2,u);he=PN(he,u,B),T(Pe=>Pe.hover===he&&Pe.focus===he?Pe:{hover:he,focus:he}),k(!1),w&&P!==he&&w(te,he)},W=te=>{S&&S(te);const ie=-1;T({hover:ie,focus:ie}),w&&P!==ie&&w(te,ie)},z=te=>{let ie=te.target.value===""?null:parseFloat(te.target.value);P!==-1&&(ie=P),R(ie),p&&p(te,ie)},H=te=>{te.clientX===0&&te.clientY===0||(T({hover:-1,focus:-1}),R(null),p&&parseFloat(te.target.value)===O&&p(te,null))},G=te=>{c(te),y.current===!0&&k(!0);const ie=parseFloat(te.target.value);T(ae=>({hover:ae.hover,focus:ie}))},X=te=>{if(P!==-1)return;_(te),y.current===!1&&k(!1);const ie=-1;T(ae=>({hover:ae.hover,focus:ie}))},[Y,Z]=j.useState(!1),q=V({},n,{defaultValue:o,disabled:s,emptyIcon:l,emptyLabelText:a,emptyValueFocused:Y,focusVisible:N,getLabelText:v,icon:M,IconContainerComponent:L,max:B,precision:u,readOnly:A,size:x}),ne=AN(q);return be(IN,V({ref:$,onMouseMove:K,onMouseLeave:W,className:ye(ne.root,i,A&&"MuiRating-readOnly"),ownerState:q,role:A?"img":null,"aria-label":A?v(C):null},f,{children:[Array.from(new Array(B)).map((te,ie)=>{const ae=ie+1,ge={classes:ne,disabled:s,emptyIcon:l,focus:F,getLabelText:v,highlightSelectedOnly:d,hover:P,icon:M,IconContainerComponent:L,name:m,onBlur:X,onChange:z,onClick:H,onFocus:G,ratingValue:C,ratingValueRounded:O,readOnly:A,ownerState:q},de=ae===Math.ceil(C)&&(P!==-1||F!==-1);if(u<1){const oe=Array.from(new Array(1/u));return Q(ON,{className:ye(ne.decimal,de&&ne.iconActive),ownerState:q,iconActive:de,children:oe.map((he,Pe)=>{const Ae=md(ae-1+(Pe+1)*u,u);return Q(kg,V({},ge,{isActive:!1,itemValue:Ae,labelProps:{style:oe.length-1===Pe?{}:{width:Ae===C?`${(Pe+1)*u*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),Ae)})},ae)}return Q(kg,V({},ge,{isActive:de,itemValue:ae}),ae)}),!A&&!s&&be(SS,{className:ye(ne.label,ne.labelEmptyValue),ownerState:q,children:[Q("input",{className:ne.visuallyHidden,value:"",id:`${m}-empty`,type:"radio",name:m,checked:O==null,onFocus:()=>Z(!0),onBlur:()=>Z(!1),onChange:z}),Q("span",{className:ne.visuallyHidden,children:a})]})]}))}),BN=NN;function UN(e){return Ie("MuiSelect",e)}const $N=Me("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),al=$N;var Fg;const KN=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],WN=pe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${al.select}`]:t.select},{[`&.${al.select}`]:t[r.variant]},{[`&.${al.multiple}`]:t.multiple}]}})(mS,{[`&.${al.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),zN=pe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${ve(r.variant)}`],r.open&&t.iconOpen]}})(gS),HN=pe("input",{shouldForwardProp:e=>lc(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ng(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function jN(e){return e==null||typeof e=="string"&&!e.trim()}const VN=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o}=e,s={select:["select",r,n&&"disabled",i&&"multiple"],icon:["icon",`icon${ve(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return De(s,UN,t)},GN=j.forwardRef(function(t,r){const{"aria-describedby":n,"aria-label":i,autoFocus:o,autoWidth:s,children:l,className:a,defaultOpen:v,defaultValue:d,disabled:M,displayEmpty:L,IconComponent:B,inputRef:I,labelId:p,MenuProps:w={},multiple:S,name:E,onBlur:u,onChange:A,onClose:x,onFocus:h,onOpen:f,open:m,readOnly:g,renderValue:R,SelectDisplayProps:O={},tabIndex:b,value:P,variant:F="standard"}=t,T=Se(t,KN),[C,y]=ci({controlled:P,default:d,name:"Select"}),[_,c]=ci({controlled:m,default:v,name:"Select"}),D=j.useRef(null),N=j.useRef(null),[k,U]=j.useState(null),{current:$}=j.useRef(m!=null),[K,W]=j.useState(),z=ft(r,I),H=j.useCallback(J=>{N.current=J,J&&U(J)},[]),G=k==null?void 0:k.parentNode;j.useImperativeHandle(z,()=>({focus:()=>{N.current.focus()},node:D.current,value:C}),[C]),j.useEffect(()=>{v&&_&&k&&!$&&(W(s?null:G.clientWidth),N.current.focus())},[k,s]),j.useEffect(()=>{o&&N.current.focus()},[o]),j.useEffect(()=>{if(!p)return;const J=Lt(N.current).getElementById(p);if(J){const re=()=>{getSelection().isCollapsed&&N.current.focus()};return J.addEventListener("click",re),()=>{J.removeEventListener("click",re)}}},[p]);const X=(J,re)=>{J?f&&f(re):x&&x(re),$||(W(s?null:G.clientWidth),c(J))},Y=J=>{J.button===0&&(J.preventDefault(),N.current.focus(),X(!0,J))},Z=J=>{X(!1,J)},q=j.Children.toArray(l),ne=J=>{const re=q.map(se=>se.props.value).indexOf(J.target.value);if(re===-1)return;const le=q[re];y(le.props.value),A&&A(J,le)},te=J=>re=>{let le;if(re.currentTarget.hasAttribute("tabindex")){if(S){le=Array.isArray(C)?C.slice():[];const se=C.indexOf(J.props.value);se===-1?le.push(J.props.value):le.splice(se,1)}else le=J.props.value;if(J.props.onClick&&J.props.onClick(re),C!==le&&(y(le),A)){const se=re.nativeEvent||re,Ee=new se.constructor(se.type,se);Object.defineProperty(Ee,"target",{writable:!0,value:{value:le,name:E}}),A(Ee,J)}S||X(!1,re)}},ie=J=>{g||[" ","ArrowUp","ArrowDown","Enter"].indexOf(J.key)!==-1&&(J.preventDefault(),X(!0,J))},ae=k!==null&&_,ge=J=>{!ae&&u&&(Object.defineProperty(J,"target",{writable:!0,value:{value:C,name:E}}),u(J))};delete T["aria-invalid"];let de,oe;const he=[];let Pe=!1;(Pp({value:C})||L)&&(R?de=R(C):Pe=!0);const Ae=q.map(J=>{if(!j.isValidElement(J))return null;let re;if(S){if(!Array.isArray(C))throw new Error(li(2));re=C.some(le=>Ng(le,J.props.value)),re&&Pe&&he.push(J.props.children)}else re=Ng(C,J.props.value),re&&Pe&&(oe=J.props.children);return j.cloneElement(J,{"aria-selected":re?"true":"false",onClick:te(J),onKeyUp:le=>{le.key===" "&&le.preventDefault(),J.props.onKeyUp&&J.props.onKeyUp(le)},role:"option",selected:re,value:void 0,"data-value":J.props.value})});Pe&&(S?he.length===0?de=null:de=he.reduce((J,re,le)=>(J.push(re),le<he.length-1&&J.push(", "),J),[]):de=oe);let ce=K;!s&&$&&k&&(ce=G.clientWidth);let fe;typeof b<"u"?fe=b:fe=M?null:0;const Te=O.id||(E?`mui-component-select-${E}`:void 0),xe=V({},t,{variant:F,value:C,open:ae}),ee=VN(xe);return be(j.Fragment,{children:[Q(WN,V({ref:H,tabIndex:fe,role:"button","aria-disabled":M?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[p,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:ie,onMouseDown:M||g?null:Y,onBlur:ge,onFocus:h},O,{ownerState:xe,className:ye(O.className,ee.select,a),id:Te,children:jN(de)?Fg||(Fg=Q("span",{className:"notranslate",children:""})):de})),Q(HN,V({value:Array.isArray(C)?C.join(","):C,name:E,ref:D,"aria-hidden":!0,onChange:ne,tabIndex:-1,disabled:M,className:ee.nativeInput,autoFocus:o,ownerState:xe},T)),Q(zN,{as:B,className:ee.icon,ownerState:xe}),Q(B2,V({id:`menu-${E||""}`,anchorEl:G,open:ae,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:V({"aria-labelledby":p,role:"listbox",disableListWrap:!0},w.MenuListProps),PaperProps:V({},w.PaperProps,{style:V({minWidth:ce},w.PaperProps!=null?w.PaperProps.style:null)}),children:Ae}))]})}),YN=GN;var Bg,Ug;const XN=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],QN=e=>{const{classes:t}=e;return t},Ip={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>nn(e)&&e!=="variant",slot:"Root"},JN=pe(fS,Ip)(""),ZN=pe(ES,Ip)(""),qN=pe(sS,Ip)(""),TS=j.forwardRef(function(t,r){const n=Oe({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:s={},className:l,defaultOpen:a=!1,displayEmpty:v=!1,IconComponent:d=EM,id:M,input:L,inputProps:B,label:I,labelId:p,MenuProps:w,multiple:S=!1,native:E=!1,onClose:u,onOpen:A,open:x,renderValue:h,SelectDisplayProps:f,variant:m="outlined"}=n,g=Se(n,XN),R=E?V2:YN,O=ji(),P=Qo({props:n,muiFormControl:O,states:["variant"]}).variant||m,F=L||{standard:Bg||(Bg=Q(JN,{})),outlined:Q(ZN,{label:I}),filled:Ug||(Ug=Q(qN,{}))}[P],T=V({},n,{variant:P,classes:s}),C=QN(T),y=ft(r,F.ref);return Q(j.Fragment,{children:j.cloneElement(F,V({inputComponent:R,inputProps:V({children:o,IconComponent:d,variant:P,type:void 0,multiple:S},E?{id:M}:{autoWidth:i,defaultOpen:a,displayEmpty:v,labelId:p,MenuProps:w,onClose:u,onOpen:A,open:x,renderValue:h,SelectDisplayProps:V({id:M},f)},B,{classes:B?lr(C,B.classes):C},L?L.props.inputProps:{})},S&&E&&P==="outlined"?{notched:!0}:{},{ref:y,className:ye(F.props.className,l)},!L&&{variant:P},g))})});TS.muiName="Select";const eB=TS;function tB(e){return Ie("MuiSkeleton",e)}Me("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const rB=["animation","className","component","height","style","variant","width"];let cu=e=>e,$g,Kg,Wg,zg;const nB=e=>{const{classes:t,variant:r,animation:n,hasChildren:i,width:o,height:s}=e;return De({root:["root",r,n,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},tB,t)},iB=Ls($g||($g=cu`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),oB=Ls(Kg||(Kg=cu`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),aB=pe("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.animation!==!1&&t[r.animation],r.hasChildren&&t.withChildren,r.hasChildren&&!r.width&&t.fitContent,r.hasChildren&&!r.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const r=OA(e.shape.borderRadius)||"px",n=MA(e.shape.borderRadius);return V({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Ne(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${r}/${Math.round(n/.6*10)/10}${r}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Af(Wg||(Wg=cu`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),iB),({ownerState:e,theme:t})=>e.animation==="wave"&&Af(zg||(zg=cu`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),oB,(t.vars||t).palette.action.hover)),sB=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:l,style:a,variant:v="text",width:d}=n,M=Se(n,rB),L=V({},n,{animation:i,component:s,variant:v,hasChildren:Boolean(M.children)}),B=nB(L);return Q(aB,V({as:s,ref:r,className:ye(B.root,o),ownerState:L},M,{style:V({width:d,height:l},a)}))}),rr=sB,lB=e=>!e||!mn(e),uB=lB;function cB(e){return Ie("MuiSlider",e)}const dB=Me("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Zr=dB,fB=e=>{const{open:t}=e;return{offset:ye(t&&Zr.valueLabelOpen),circle:Zr.valueLabelCircle,label:Zr.valueLabelLabel}};function hB(e){const{children:t,className:r,value:n}=e,i=fB(e);return t?j.cloneElement(t,{className:ye(t.props.className)},be(j.Fragment,{children:[t.props.children,Q("span",{className:ye(i.offset,r),"aria-hidden":!0,children:Q("span",{className:i.circle,children:Q("span",{className:i.label,children:n})})})]})):null}const pB=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Hg(e){return e}const vB=pe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${ve(r.color)}`],r.size!=="medium"&&t[`size${ve(r.size)}`],r.marked&&t.marked,r.orientation==="vertical"&&t.vertical,r.track==="inverted"&&t.trackInverted,r.track===!1&&t.trackFalse]}})(({theme:e,ownerState:t})=>V({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},t.orientation==="horizontal"&&V({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},t.size==="small"&&{height:2},t.marked&&{marginBottom:20}),t.orientation==="vertical"&&V({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},t.size==="small"&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Zr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Zr.dragging}`]:{[`& .${Zr.thumb}, & .${Zr.track}`]:{transition:"none"}}})),mB=pe("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})(({ownerState:e})=>V({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},e.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track==="inverted"&&{opacity:1})),gB=pe("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?Ox(e.palette[t.color].main,.62):Dx(e.palette[t.color].main,.5);return V({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{border:"none"},t.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track===!1&&{display:"none"},t.track==="inverted"&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})}),yB=pe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.thumb,t[`thumbColor${ve(r.color)}`],r.size!=="medium"&&t[`thumbSize${ve(r.size)}`]]}})(({theme:e,ownerState:t})=>V({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},t.size==="small"&&{width:12,height:12},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":V({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},t.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Zr.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ne(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Zr.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:Ne(e.palette[t.color].main,.16)}`},[`&.${Zr.disabled}`]:{"&:hover":{boxShadow:"none"}}})),EB=pe(hB,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e,ownerState:t})=>V({[`&.${Zr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},t.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},t.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},t.size==="small"&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),xB=pe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>lc(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:r}=e;return[t.mark,r&&t.markActive]}})(({theme:e,ownerState:t,markActive:r})=>V({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},t.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},t.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8})),SB=pe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>lc(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e,ownerState:t,markLabelActive:r})=>V({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},t.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},t.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary})),TB=e=>{const{disabled:t,dragging:r,marked:n,orientation:i,track:o,classes:s,color:l,size:a}=e,v={root:["root",t&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",l&&`color${ve(l)}`,a&&`size${ve(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",a&&`thumbSize${ve(a)}`,l&&`thumbColor${ve(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return De(v,cB,s)},bB=({children:e})=>e,CB=j.forwardRef(function(t,r){var n,i,o,s,l,a,v,d,M,L,B,I,p,w,S,E,u,A,x,h,f,m,g,R;const O=Oe({props:t,name:"MuiSlider"}),P=rn().direction==="rtl",{"aria-label":F,"aria-valuetext":T,"aria-labelledby":C,component:y="span",components:_={},componentsProps:c={},color:D="primary",classes:N,className:k,disableSwap:U=!1,disabled:$=!1,getAriaLabel:K,getAriaValueText:W,marks:z=!1,max:H=100,min:G=0,orientation:X="horizontal",size:Y="medium",step:Z=1,scale:q=Hg,slotProps:ne,slots:te,track:ie="normal",valueLabelDisplay:ae="off",valueLabelFormat:ge=Hg}=O,de=Se(O,pB),oe=V({},O,{isRtl:P,max:H,min:G,classes:N,disabled:$,disableSwap:U,orientation:X,marks:z,color:D,size:Y,step:Z,scale:q,track:ie,valueLabelDisplay:ae,valueLabelFormat:ge}),{axisProps:he,getRootProps:Pe,getHiddenInputProps:Ae,getThumbProps:ce,open:fe,active:Te,axis:xe,focusedThumbIndex:ee,range:J,dragging:re,marks:le,values:se,trackOffset:Ee,trackLeap:Ce}=OD(V({},oe,{ref:r}));oe.marked=le.length>0&&le.some(ot=>ot.label),oe.dragging=re,oe.focusedThumbIndex=ee;const _e=TB(oe),Re=(n=(i=te==null?void 0:te.root)!=null?i:_.Root)!=null?n:vB,Ke=(o=(s=te==null?void 0:te.rail)!=null?s:_.Rail)!=null?o:mB,we=(l=(a=te==null?void 0:te.track)!=null?a:_.Track)!=null?l:gB,We=(v=(d=te==null?void 0:te.thumb)!=null?d:_.Thumb)!=null?v:yB,ke=(M=(L=te==null?void 0:te.valueLabel)!=null?L:_.ValueLabel)!=null?M:EB,$e=(B=(I=te==null?void 0:te.mark)!=null?I:_.Mark)!=null?B:xB,Ye=(p=(w=te==null?void 0:te.markLabel)!=null?w:_.MarkLabel)!=null?p:SB,ht=(S=(E=te==null?void 0:te.input)!=null?E:_.Input)!=null?S:"input",Ve=(u=ne==null?void 0:ne.root)!=null?u:c.root,_t=(A=ne==null?void 0:ne.rail)!=null?A:c.rail,it=(x=ne==null?void 0:ne.track)!=null?x:c.track,tr=(h=ne==null?void 0:ne.thumb)!=null?h:c.thumb,Qe=(f=ne==null?void 0:ne.valueLabel)!=null?f:c.valueLabel,Tt=(m=ne==null?void 0:ne.mark)!=null?m:c.mark,Wt=(g=ne==null?void 0:ne.markLabel)!=null?g:c.markLabel,fr=(R=ne==null?void 0:ne.input)!=null?R:c.input,hr=Yr({elementType:Re,getSlotProps:Pe,externalSlotProps:Ve,externalForwardedProps:de,additionalProps:V({},uB(Re)&&{as:y}),ownerState:V({},oe,Ve==null?void 0:Ve.ownerState),className:[_e.root,k]}),Hr=Yr({elementType:Ke,externalSlotProps:_t,ownerState:oe,className:_e.rail}),Ft=Yr({elementType:we,externalSlotProps:it,additionalProps:{style:V({},he[xe].offset(Ee),he[xe].leap(Ce))},ownerState:V({},oe,it==null?void 0:it.ownerState),className:_e.track}),gt=Yr({elementType:We,getSlotProps:ce,externalSlotProps:tr,ownerState:V({},oe,tr==null?void 0:tr.ownerState),className:_e.thumb}),jr=Yr({elementType:ke,externalSlotProps:Qe,ownerState:V({},oe,Qe==null?void 0:Qe.ownerState),className:_e.valueLabel}),ut=Yr({elementType:$e,externalSlotProps:Tt,ownerState:oe,className:_e.mark}),Ar=Yr({elementType:Ye,externalSlotProps:Wt,ownerState:oe,className:_e.markLabel}),vi=Yr({elementType:ht,getSlotProps:Ae,externalSlotProps:fr,ownerState:oe});return be(Re,V({},hr,{children:[Q(Ke,V({},Hr)),Q(we,V({},Ft)),le.filter(ot=>ot.value>=G&&ot.value<=H).map((ot,yt)=>{const Nn=su(ot.value,G,H),Bn=he[xe].offset(Nn);let pr;return ie===!1?pr=se.indexOf(ot.value)!==-1:pr=ie==="normal"&&(J?ot.value>=se[0]&&ot.value<=se[se.length-1]:ot.value<=se[0])||ie==="inverted"&&(J?ot.value<=se[0]||ot.value>=se[se.length-1]:ot.value>=se[0]),be(j.Fragment,{children:[Q($e,V({"data-index":yt},ut,!mn($e)&&{markActive:pr},{style:V({},Bn,ut.style),className:ye(ut.className,pr&&_e.markActive)})),ot.label!=null?Q(Ye,V({"aria-hidden":!0,"data-index":yt},Ar,!mn(Ye)&&{markLabelActive:pr},{style:V({},Bn,Ar.style),className:ye(_e.markLabel,Ar.className,pr&&_e.markLabelActive),children:ot.label})):null]},yt)}),se.map((ot,yt)=>{const Nn=su(ot,G,H),Bn=he[xe].offset(Nn),pr=ae==="off"?bB:ke;return Q(pr,V({},!mn(pr)&&{valueLabelFormat:ge,valueLabelDisplay:ae,value:typeof ge=="function"?ge(q(ot),yt):ge,index:yt,open:fe===yt||Te===yt||ae==="on",disabled:$},jr,{children:Q(We,V({"data-index":yt},gt,{className:ye(_e.thumb,gt.className,Te===yt&&_e.active,ee===yt&&_e.focusVisible),style:V({},Bn,{pointerEvents:U&&Te!==yt?"none":void 0},gt.style),children:Q(ht,V({"data-index":yt,"aria-label":K?K(yt):F,"aria-valuenow":q(ot),"aria-labelledby":C,"aria-valuetext":W?W(q(ot),yt):T,value:se[yt]},vi))}))}),yt)})]}))}),_B=CB;function RB(e){return Ie("MuiTooltip",e)}const PB=Me("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Yn=PB,LB=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function AB(e){return Math.round(e*1e5)/1e5}const IB=e=>{const{classes:t,disableInteractive:r,arrow:n,touch:i,placement:o}=e,s={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${ve(o.split("-")[0])}`],arrow:["arrow"]};return De(s,RB,t)},DB=pe(Jx,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.popper,!r.disableInteractive&&t.popperInteractive,r.arrow&&t.popperArrow,!r.open&&t.popperClose]}})(({theme:e,ownerState:t,open:r})=>V({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Yn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Yn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Yn.arrow}`]:V({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Yn.arrow}`]:V({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),OB=pe("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.tooltip,r.touch&&t.touch,r.arrow&&t.tooltipArrow,t[`tooltipPlacement${ve(r.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>V({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Ne(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${AB(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Yn.popper}[data-popper-placement*="left"] &`]:V({transformOrigin:"right center"},t.isRtl?V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):V({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Yn.popper}[data-popper-placement*="right"] &`]:V({transformOrigin:"left center"},t.isRtl?V({marginRight:"14px"},t.touch&&{marginRight:"24px"}):V({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Yn.popper}[data-popper-placement*="top"] &`]:V({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Yn.popper}[data-popper-placement*="bottom"] &`]:V({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),MB=pe("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Ne(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let sl=!1,gd=null,ya={x:0,y:0};function ll(e,t){return r=>{t&&t(r),e(r)}}const wB=j.forwardRef(function(t,r){var n,i,o,s,l,a,v,d,M,L,B,I,p,w,S,E,u,A,x;const h=Oe({props:t,name:"MuiTooltip"}),{arrow:f=!1,children:m,components:g={},componentsProps:R={},describeChild:O=!1,disableFocusListener:b=!1,disableHoverListener:P=!1,disableInteractive:F=!1,disableTouchListener:T=!1,enterDelay:C=100,enterNextDelay:y=0,enterTouchDelay:_=700,followCursor:c=!1,id:D,leaveDelay:N=0,leaveTouchDelay:k=1500,onClose:U,onOpen:$,open:K,placement:W="bottom",PopperComponent:z,PopperProps:H={},slotProps:G={},slots:X={},title:Y,TransitionComponent:Z=$f,TransitionProps:q}=h,ne=Se(h,LB),te=rn(),ie=te.direction==="rtl",[ae,ge]=j.useState(),[de,oe]=j.useState(null),he=j.useRef(!1),Pe=F||c,Ae=j.useRef(),ce=j.useRef(),fe=j.useRef(),Te=j.useRef(),[xe,ee]=ci({controlled:K,default:!1,name:"Tooltip",state:"open"});let J=xe;const re=_s(D),le=j.useRef(),se=j.useCallback(()=>{le.current!==void 0&&(document.body.style.WebkitUserSelect=le.current,le.current=void 0),clearTimeout(Te.current)},[]);j.useEffect(()=>()=>{clearTimeout(Ae.current),clearTimeout(ce.current),clearTimeout(fe.current),se()},[se]);const Ee=Be=>{clearTimeout(gd),sl=!0,ee(!0),$&&!J&&$(Be)},Ce=Jr(Be=>{clearTimeout(gd),gd=setTimeout(()=>{sl=!1},800+N),ee(!1),U&&J&&U(Be),clearTimeout(Ae.current),Ae.current=setTimeout(()=>{he.current=!1},te.transitions.duration.shortest)}),_e=Be=>{he.current&&Be.type!=="touchstart"||(ae&&ae.removeAttribute("title"),clearTimeout(ce.current),clearTimeout(fe.current),C||sl&&y?ce.current=setTimeout(()=>{Ee(Be)},sl?y:C):Ee(Be))},Re=Be=>{clearTimeout(ce.current),clearTimeout(fe.current),fe.current=setTimeout(()=>{Ce(Be)},N)},{isFocusVisibleRef:Ke,onBlur:we,onFocus:We,ref:ke}=Rs(),[,$e]=j.useState(!1),Ye=Be=>{we(Be),Ke.current===!1&&($e(!1),Re(Be))},ht=Be=>{ae||ge(Be.currentTarget),We(Be),Ke.current===!0&&($e(!0),_e(Be))},Ve=Be=>{he.current=!0;const Yt=m.props;Yt.onTouchStart&&Yt.onTouchStart(Be)},_t=_e,it=Re,tr=Be=>{Ve(Be),clearTimeout(fe.current),clearTimeout(Ae.current),se(),le.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Te.current=setTimeout(()=>{document.body.style.WebkitUserSelect=le.current,_e(Be)},_)},Qe=Be=>{m.props.onTouchEnd&&m.props.onTouchEnd(Be),se(),clearTimeout(fe.current),fe.current=setTimeout(()=>{Ce(Be)},k)};j.useEffect(()=>{if(!J)return;function Be(Yt){(Yt.key==="Escape"||Yt.key==="Esc")&&Ce(Yt)}return document.addEventListener("keydown",Be),()=>{document.removeEventListener("keydown",Be)}},[Ce,J]);const Tt=ft(m.ref,ke,ge,r);!Y&&Y!==0&&(J=!1);const Wt=j.useRef(),fr=Be=>{const Yt=m.props;Yt.onMouseMove&&Yt.onMouseMove(Be),ya={x:Be.clientX,y:Be.clientY},Wt.current&&Wt.current.update()},hr={},Hr=typeof Y=="string";O?(hr.title=!J&&Hr&&!P?Y:null,hr["aria-describedby"]=J?re:null):(hr["aria-label"]=Hr?Y:null,hr["aria-labelledby"]=J&&!Hr?re:null);const Ft=V({},hr,ne,m.props,{className:ye(ne.className,m.props.className),onTouchStart:Ve,ref:Tt},c?{onMouseMove:fr}:{}),gt={};T||(Ft.onTouchStart=tr,Ft.onTouchEnd=Qe),P||(Ft.onMouseOver=ll(_t,Ft.onMouseOver),Ft.onMouseLeave=ll(it,Ft.onMouseLeave),Pe||(gt.onMouseOver=_t,gt.onMouseLeave=it)),b||(Ft.onFocus=ll(ht,Ft.onFocus),Ft.onBlur=ll(Ye,Ft.onBlur),Pe||(gt.onFocus=ht,gt.onBlur=Ye));const jr=j.useMemo(()=>{var Be;let Yt=[{name:"arrow",enabled:Boolean(de),options:{element:de,padding:4}}];return(Be=H.popperOptions)!=null&&Be.modifiers&&(Yt=Yt.concat(H.popperOptions.modifiers)),V({},H.popperOptions,{modifiers:Yt})},[de,H]),ut=V({},h,{isRtl:ie,arrow:f,disableInteractive:Pe,placement:W,PopperComponentProp:z,touch:he.current}),Ar=IB(ut),vi=(n=(i=X.popper)!=null?i:g.Popper)!=null?n:DB,ot=(o=(s=(l=X.transition)!=null?l:g.Transition)!=null?s:Z)!=null?o:$f,yt=(a=(v=X.tooltip)!=null?v:g.Tooltip)!=null?a:OB,Nn=(d=(M=X.arrow)!=null?M:g.Arrow)!=null?d:MB,Bn=ba(vi,V({},H,(L=G.popper)!=null?L:R.popper,{className:ye(Ar.popper,H==null?void 0:H.className,(B=(I=G.popper)!=null?I:R.popper)==null?void 0:B.className)}),ut),pr=ba(ot,V({},q,(p=G.transition)!=null?p:R.transition),ut),Jo=ba(yt,V({},(w=G.tooltip)!=null?w:R.tooltip,{className:ye(Ar.tooltip,(S=(E=G.tooltip)!=null?E:R.tooltip)==null?void 0:S.className)}),ut),Ms=ba(Nn,V({},(u=G.arrow)!=null?u:R.arrow,{className:ye(Ar.arrow,(A=(x=G.arrow)!=null?x:R.arrow)==null?void 0:A.className)}),ut);return be(j.Fragment,{children:[j.cloneElement(m,Ft),Q(vi,V({as:z??Jx,placement:W,anchorEl:c?{getBoundingClientRect:()=>({top:ya.y,left:ya.x,right:ya.x,bottom:ya.y,width:0,height:0})}:ae,popperRef:Wt,open:ae?J:!1,id:re,transition:!0},gt,Bn,{popperOptions:jr,children:({TransitionProps:Be})=>Q(ot,V({timeout:te.transitions.duration.shorter},Be,pr,{children:be(yt,V({},Jo,{children:[Y,f?Q(Nn,V({},Ms,{ref:oe})):null]}))}))}))]})}),bS=wB,kB=aA({createStyledComponent:pe("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Oe({props:e,name:"MuiStack"})}),ii=kB;function FB(e){return Ie("MuiToolbar",e)}Me("MuiToolbar",["root","gutters","regular","dense"]);const NB=["className","component","disableGutters","variant"],BB=e=>{const{classes:t,disableGutters:r,variant:n}=e;return De({root:["root",!r&&"gutters",n]},FB,t)},UB=pe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})(({theme:e,ownerState:t})=>V({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),$B=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:l="regular"}=n,a=Se(n,NB),v=V({},n,{component:o,disableGutters:s,variant:l}),d=BB(v);return Q(UB,V({as:o,className:ye(d.root,i),ref:r,ownerState:v},a))}),KB=$B;function WB(e){return Ie("MuiTextField",e)}Me("MuiTextField",["root"]);const zB=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],HB={standard:fS,filled:sS,outlined:ES},jB=e=>{const{classes:t}=e;return De({root:["root"]},WB,t)},VB=pe(Dk,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),GB=j.forwardRef(function(t,r){const n=Oe({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:l,color:a="primary",defaultValue:v,disabled:d=!1,error:M=!1,FormHelperTextProps:L,fullWidth:B=!1,helperText:I,id:p,InputLabelProps:w,inputProps:S,InputProps:E,inputRef:u,label:A,maxRows:x,minRows:h,multiline:f=!1,name:m,onBlur:g,onChange:R,onFocus:O,placeholder:b,required:P=!1,rows:F,select:T=!1,SelectProps:C,type:y,value:_,variant:c="outlined"}=n,D=Se(n,zB),N=V({},n,{autoFocus:o,color:a,disabled:d,error:M,fullWidth:B,multiline:f,required:P,select:T,variant:c}),k=jB(N),U={};c==="outlined"&&(w&&typeof w.shrink<"u"&&(U.notched=w.shrink),U.label=A),T&&((!C||!C.native)&&(U.id=void 0),U["aria-describedby"]=void 0);const $=_s(p),K=I&&$?`${$}-helper-text`:void 0,W=A&&$?`${$}-label`:void 0,z=HB[c],H=Q(z,V({"aria-describedby":K,autoComplete:i,autoFocus:o,defaultValue:v,fullWidth:B,multiline:f,name:m,rows:F,maxRows:x,minRows:h,type:y,value:_,id:$,inputRef:u,onBlur:g,onChange:R,onFocus:O,placeholder:b,inputProps:S},U,E));return be(VB,V({className:ye(k.root,l),disabled:d,error:M,fullWidth:B,ref:r,required:P,color:a,variant:c,ownerState:N},D,{children:[A!=null&&A!==""&&Q(bF,V({htmlFor:$,id:W},w,{children:A})),T?Q(eB,V({"aria-describedby":K,id:$,labelId:W,value:_,input:H},C,{children:s})):H,I&&Q(Bk,V({id:K},L,{children:I}))]}))}),YB=GB,du=()=>{const e=RC(),t=PE();return be(Ut,{height:"100%",width:"100%",display:"flex",color:"error.main",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:2,mt:10,"data-testid":"error-component",children:[Q(Ze,{variant:"h4",children:"Sorry, but someting goes wrong..."}),e&&be(Ze,{variant:"h6","data-testid":"error-fetch",children:["Error!"," ",e.message??Q("span",{children:JSON.stringify(e)})]}),t&&Q(Ze,{variant:"h6","data-testid":"error-route",children:t.data??Q("span",{children:JSON.stringify(t)})})]})};var Dp={},Zt={},XB={get exports(){return Zt},set exports(e){Zt=e}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(XB);var yd={};const QB=Xg(WD);var jg;function Pr(){return jg||(jg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=QB}(yd)),yd}const Lr=Xg(hT);var JB=Zt;Object.defineProperty(Dp,"__esModule",{value:!0});var CS=Dp.default=void 0,ZB=JB(Pr()),qB=Lr,eU=(0,ZB.default)((0,qB.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"}),"School");CS=Dp.default=eU;var Op={},tU=Zt;Object.defineProperty(Op,"__esModule",{value:!0});var _S=Op.default=void 0,rU=tU(Pr()),nU=Lr,iU=(0,rU.default)((0,nU.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");_S=Op.default=iU;var Mp={},oU=Zt;Object.defineProperty(Mp,"__esModule",{value:!0});var RS=Mp.default=void 0,aU=oU(Pr()),sU=Lr,lU=(0,aU.default)((0,sU.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"}),"DarkMode");RS=Mp.default=lU;var wp={},uU=Zt;Object.defineProperty(wp,"__esModule",{value:!0});var PS=wp.default=void 0,cU=uU(Pr()),dU=Lr,fU=(0,cU.default)((0,dU.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}),"LightMode");PS=wp.default=fU;const st={ROOT_HEADER_HEIGHT:65,CARD_MIN_WIDTH:400,MARGIN_PREV:2,VIDEO_MAX_WIDH:500,VIDEO_ASPECT_RATIO:[42,30]},hU=({themeName:e,toggleTheme:t})=>{const r=TE(),{courseId:n}=bE();return Q(Qx,{component:"nav",sx:{height:st.ROOT_HEADER_HEIGHT},"data-testid":"root-layout-header",children:be(KB,{children:[Q(Bf,{size:"large",edge:"start",sx:{mr:2,backgroundColor:n?"secondary.light":"inherit"},onClick:()=>r("/"),"data-testid":"root-layout-header-navigate-button",children:n?Q(_S,{"data-testid":"root-layout-header-back-icon"}):Q(CS,{"data-testid":"root-layout-header-home-icon"})}),be(Ut,{sx:{display:"flex",flexDirection:"column"},children:[Q(Ze,{variant:"h6",noWrap:!0,component:"div",children:"Courses platform"}),Q(Ze,{variant:"body1",noWrap:!0,component:"div",children:"Learn, grow, ahieve goals..."})]}),Q(Ut,{sx:{flexGrow:1}}),Q(bS,{title:e==="light"?"Toggle to dark theme":"Toggle to light theme",children:be(Bf,{edge:"end",onClick:t,color:"inherit","data-testid":"root-layout-header-theme-button",children:[e==="light"&&Q(RS,{"data-testid":"root-layout-header-light-theme-icon"}),e==="dark"&&Q(PS,{"data-testid":"root-layout-header-dark-theme-icon"})]})})]})})},pU=({children:e})=>Q(oS,{component:"main",maxWidth:"md",disableGutters:!0,sx:{position:"relative",paddingTop:`${st.ROOT_HEADER_HEIGHT}px`},"data-testid":"root-layout-container",children:e}),vU={palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#9c27b0"},background:{default:"#cfd8dc"}},typography:{fontFamily:"Lato"}},mU={palette:{mode:"dark",primary:{main:"#1976d2"},secondary:{main:"#9c27b0"},background:{default:"rgba(18,18,18,0.71)"}},typography:{fontFamily:"Lato"}},gU=()=>{const[e,t]=j.useState("light"),r=()=>{t(o=>o==="light"?"dark":"light")},i=pp(e==="light"?vU:mU);return be(VL,{theme:i,children:[Q(uk,{}),be(oS,{fixed:!0,"data-testid":"root-layout",children:[Q(hU,{themeName:e,toggleTheme:r}),Q(pU,{children:Q(LE,{})})]})]})};var kp={},yU=Zt;Object.defineProperty(kp,"__esModule",{value:!0});var LS=kp.default=void 0,EU=yU(Pr()),xU=Lr,SU=(0,EU.default)((0,xU.jsx)("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z"}),"Speed");LS=kp.default=SU;var Fp={},TU=Zt;Object.defineProperty(Fp,"__esModule",{value:!0});var AS=Fp.default=void 0,bU=TU(Pr()),CU=Lr,_U=(0,bU.default)((0,CU.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward");AS=Fp.default=_U;var Np={},RU=Zt;Object.defineProperty(Np,"__esModule",{value:!0});var IS=Np.default=void 0,PU=RU(Pr()),LU=Lr,AU=(0,PU.default)((0,LU.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");IS=Np.default=AU;var Bp={},IU=Zt;Object.defineProperty(Bp,"__esModule",{value:!0});var DS=Bp.default=void 0,DU=IU(Pr()),OU=Lr,MU=(0,DU.default)((0,OU.jsx)("path",{d:"M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z"}),"PictureInPictureAlt");DS=Bp.default=MU;const za=j.forwardRef(({...e},t)=>Q("img",{ref:t,alt:"",...e,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"fill"}}));var Kf={},wU={get exports(){return Kf},set exports(e){Kf=e}};(function(e,t){typeof window<"u"&&function(n,i){e.exports=i()}(zS,()=>(()=>{var r={"./src/config.ts":(s,l,a)=>{a.r(l),a.d(l,{enableStreamingMode:()=>_,hlsDefaultConfig:()=>T,mergeConfig:()=>y});var v=a("./src/controller/abr-controller.ts"),d=a("./src/controller/audio-stream-controller.ts"),M=a("./src/controller/audio-track-controller.ts"),L=a("./src/controller/subtitle-stream-controller.ts"),B=a("./src/controller/subtitle-track-controller.ts"),I=a("./src/controller/buffer-controller.ts"),p=a("./src/controller/timeline-controller.ts"),w=a("./src/controller/cap-level-controller.ts"),S=a("./src/controller/fps-controller.ts"),E=a("./src/controller/eme-controller.ts"),u=a("./src/controller/cmcd-controller.ts"),A=a("./src/utils/xhr-loader.ts"),x=a("./src/utils/fetch-loader.ts"),h=a("./src/utils/cues.ts"),f=a("./src/utils/mediakeys-helper.ts"),m=a("./src/utils/logger.ts");function g(){return g=Object.assign?Object.assign.bind():function(c){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var k in N)Object.prototype.hasOwnProperty.call(N,k)&&(c[k]=N[k])}return c},g.apply(this,arguments)}function R(c,D){var N=Object.keys(c);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(c);D&&(k=k.filter(function(U){return Object.getOwnPropertyDescriptor(c,U).enumerable})),N.push.apply(N,k)}return N}function O(c){for(var D=1;D<arguments.length;D++){var N=arguments[D]!=null?arguments[D]:{};D%2?R(Object(N),!0).forEach(function(k){b(c,k,N[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(N)):R(Object(N)).forEach(function(k){Object.defineProperty(c,k,Object.getOwnPropertyDescriptor(N,k))})}return c}function b(c,D,N){return D=P(D),D in c?Object.defineProperty(c,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):c[D]=N,c}function P(c){var D=F(c,"string");return typeof D=="symbol"?D:String(D)}function F(c,D){if(typeof c!="object"||c===null)return c;var N=c[Symbol.toPrimitive];if(N!==void 0){var k=N.call(c,D||"default");if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(c)}var T=O(O({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:A.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:v.default,bufferController:I.default,capLevelController:w.default,fpsController:S.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:f.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},C()),{},{subtitleStreamController:L.SubtitleStreamController,subtitleTrackController:B.default,timelineController:p.TimelineController,audioStreamController:d.default,audioTrackController:M.default,emeController:E.default,cmcdController:u.default});function C(){return{cueHandler:h.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function y(c,D){if((D.liveSyncDurationCount||D.liveMaxLatencyDurationCount)&&(D.liveSyncDuration||D.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(D.liveMaxLatencyDurationCount!==void 0&&(D.liveSyncDurationCount===void 0||D.liveMaxLatencyDurationCount<=D.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(D.liveMaxLatencyDuration!==void 0&&(D.liveSyncDuration===void 0||D.liveMaxLatencyDuration<=D.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return g({},c,D)}function _(c){var D=c.loader;if(D!==x.default&&D!==A.default)m.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),c.progressive=!1;else{var N=(0,x.fetchSupported)();N&&(c.loader=x.default,c.progressive=!0,c.enableSoftwareAES=!0,m.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}}},"./src/controller/abr-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>A});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/ewma-bandwidth-estimator.ts"),M=a("./src/events.ts"),L=a("./src/errors.ts"),B=a("./src/types/loader.ts"),I=a("./src/utils/logger.ts");function p(x,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,S(m.key),m)}}function w(x,h,f){return h&&p(x.prototype,h),f&&p(x,f),Object.defineProperty(x,"prototype",{writable:!1}),x}function S(x){var h=E(x,"string");return typeof h=="symbol"?h:String(h)}function E(x,h){if(typeof x!="object"||x===null)return x;var f=x[Symbol.toPrimitive];if(f!==void 0){var m=f.call(x,h||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(x)}var u=function(){function x(f){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=f;var m=f.config;this.bwEstimator=new d.default(m.abrEwmaSlowVoD,m.abrEwmaFastVoD,m.abrEwmaDefaultEstimate),this.registerListeners()}var h=x.prototype;return h.registerListeners=function(){var m=this.hls;m.on(M.Events.FRAG_LOADING,this.onFragLoading,this),m.on(M.Events.FRAG_LOADED,this.onFragLoaded,this),m.on(M.Events.FRAG_BUFFERED,this.onFragBuffered,this),m.on(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),m.on(M.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var m=this.hls;m.off(M.Events.FRAG_LOADING,this.onFragLoading,this),m.off(M.Events.FRAG_LOADED,this.onFragLoaded,this),m.off(M.Events.FRAG_BUFFERED,this.onFragBuffered,this),m.off(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),m.off(M.Events.ERROR,this.onError,this)},h.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},h.onFragLoading=function(m,g){var R=g.frag;if(R.type===B.PlaylistLevelType.MAIN&&!this.timer){var O;this.fragCurrent=R,this.partCurrent=(O=g.part)!=null?O:null,this.timer=self.setInterval(this.onCheck,100)}},h.onLevelLoaded=function(m,g){var R=this.hls.config;g.details.live?this.bwEstimator.update(R.abrEwmaSlowLive,R.abrEwmaFastLive):this.bwEstimator.update(R.abrEwmaSlowVoD,R.abrEwmaFastVoD)},h._abandonRulesCheck=function(){var m=this.fragCurrent,g=this.partCurrent,R=this.hls,O=R.autoLevelEnabled,b=R.media;if(!(!m||!b)){var P=g?g.stats:m.stats,F=g?g.duration:m.duration;if(P.aborted||P.loaded&&P.loaded===P.total||m.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!(!O||b.paused||!b.playbackRate||!b.readyState)){var T=R.mainForwardBufferInfo;if(T!==null){var C=performance.now()-P.loading.start,y=Math.abs(b.playbackRate);if(!(C<=500*F/y)){var _=P.loaded&&P.loading.first,c=this.bwEstimator.getEstimate(),D=R.levels,N=R.minAutoLevel,k=D[m.level],U=P.total||Math.max(P.loaded,Math.round(F*k.maxBitrate/8)),$=_?P.loaded*1e3/C:0,K=$?(U-P.loaded)/$:U*8/c,W=T.len/y;if(!(K<=W)){var z=Number.POSITIVE_INFINITY,H;for(H=m.level-1;H>N;H--){var G=D[H].maxBitrate;if(z=$?F*G/(8*.8*$):F*G/c,z<W)break}z>=K||(I.logger.warn("Fragment "+m.sn+(g?" part "+g.index:"")+" of level "+m.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+H+`
      Current BW estimate: `+((0,v.isFiniteNumber)(c)?(c/1024).toFixed(3):"Unknown")+` Kb/s
      Estimated load time for current fragment: `+K.toFixed(3)+` s
      Estimated load time for the next fragment: `+z.toFixed(3)+` s
      Time to underbuffer: `+W.toFixed(3)+" s"),R.nextLoadLevel=H,_&&this.bwEstimator.sample(C,P.loaded),this.clearTimer(),(m.loader||m.keyLoader)&&(this.fragCurrent=this.partCurrent=null,m.abortRequests()),R.trigger(M.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:m,part:g,stats:P}))}}}}}},h.onFragLoaded=function(m,g){var R=g.frag,O=g.part;if(R.type===B.PlaylistLevelType.MAIN&&(0,v.isFiniteNumber)(R.sn)){var b=O?O.stats:R.stats,P=O?O.duration:R.duration;if(this.clearTimer(),this.lastLoadedFragLevel=R.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var F=this.hls.levels[R.level],T=(F.loaded?F.loaded.bytes:0)+b.loaded,C=(F.loaded?F.loaded.duration:0)+P;F.loaded={bytes:T,duration:C},F.realBitrate=Math.round(8*T/C)}if(R.bitrateTest){var y={stats:b,frag:R,part:O,id:R.type};this.onFragBuffered(M.Events.FRAG_BUFFERED,y)}}},h.onFragBuffered=function(m,g){var R=g.frag,O=g.part,b=O?O.stats:R.stats;if(!b.aborted&&!(R.type!==B.PlaylistLevelType.MAIN||R.sn==="initSegment")){var P=b.parsing.end-b.loading.start;this.bwEstimator.sample(P,b.loaded),b.bwEstimate=this.bwEstimator.getEstimate(),R.bitrateTest?this.bitrateTestDelay=P/1e3:this.bitrateTestDelay=0}},h.onError=function(m,g){var R;if(((R=g.frag)===null||R===void 0?void 0:R.type)===B.PlaylistLevelType.MAIN){if(g.type===L.ErrorTypes.KEY_SYSTEM_ERROR){this.clearTimer();return}switch(g.details){case L.ErrorDetails.FRAG_LOAD_ERROR:case L.ErrorDetails.FRAG_LOAD_TIMEOUT:case L.ErrorDetails.KEY_LOAD_ERROR:case L.ErrorDetails.KEY_LOAD_TIMEOUT:this.clearTimer();break}}},h.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},h.getNextABRAutoLevel=function(){var m=this.fragCurrent,g=this.partCurrent,R=this.hls,O=R.maxAutoLevel,b=R.config,P=R.minAutoLevel,F=R.media,T=g?g.duration:m?m.duration:0,C=F&&F.playbackRate!==0?Math.abs(F.playbackRate):1,y=this.bwEstimator?this.bwEstimator.getEstimate():b.abrEwmaDefaultEstimate,_=R.mainForwardBufferInfo,c=(_?_.len:0)/C,D=this.findBestLevel(y,P,O,c,b.abrBandWidthFactor,b.abrBandWidthUpFactor);if(D>=0)return D;I.logger.trace((c?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var N=T?Math.min(T,b.maxStarvationDelay):b.maxStarvationDelay,k=b.abrBandWidthFactor,U=b.abrBandWidthUpFactor;if(!c){var $=this.bitrateTestDelay;if($){var K=T?Math.min(T,b.maxLoadingDelay):b.maxLoadingDelay;N=K-$,I.logger.trace("bitrate test took "+Math.round(1e3*$)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*N)+" ms"),k=U=1}}return D=this.findBestLevel(y,P,O,c+N,k,U),Math.max(D,0)},h.findBestLevel=function(m,g,R,O,b,P){for(var F,T=this.fragCurrent,C=this.partCurrent,y=this.lastLoadedFragLevel,_=this.hls.levels,c=_[y],D=!!(c!=null&&(F=c.details)!==null&&F!==void 0&&F.live),N=c==null?void 0:c.codecSet,k=C?C.duration:T?T.duration:0,U=R;U>=g;U--){var $=_[U];if(!(!$||N&&$.codecSet!==N)){var K=$.details,W=(C?K==null?void 0:K.partTarget:K==null?void 0:K.averagetargetduration)||k,z=void 0;U<=y?z=b*m:z=P*m;var H=_[U].maxBitrate,G=H*W/z;if(I.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+U+"/"+Math.round(z)+"/"+H+"/"+W+"/"+O+"/"+G),z>H&&(G===0||!(0,v.isFiniteNumber)(G)||D&&!this.bitrateTestDelay||G<O))return U}}return-1},w(x,[{key:"nextAutoLevel",get:function(){var m=this._nextAutoLevel,g=this.bwEstimator;if(m!==-1&&!g.canEstimate())return m;var R=this.getNextABRAutoLevel();return m!==-1&&this.hls.levels[R].loadError?m:(m!==-1&&(R=Math.min(m,R)),R)},set:function(m){this._nextAutoLevel=m}}]),x}();const A=u},"./src/controller/audio-stream-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>b});var v=a("./src/polyfills/number.ts"),d=a("./src/controller/base-stream-controller.ts"),M=a("./src/events.ts"),L=a("./src/utils/buffer-helper.ts"),B=a("./src/controller/fragment-tracker.ts"),I=a("./src/types/level.ts"),p=a("./src/types/loader.ts"),w=a("./src/loader/fragment.ts"),S=a("./src/demux/chunk-cache.ts"),E=a("./src/demux/transmuxer-interface.ts"),u=a("./src/types/transmuxer.ts"),A=a("./src/controller/fragment-finders.ts"),x=a("./src/utils/discontinuities.ts"),h=a("./src/errors.ts");function f(){return f=Object.assign?Object.assign.bind():function(P){for(var F=1;F<arguments.length;F++){var T=arguments[F];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(P[C]=T[C])}return P},f.apply(this,arguments)}function m(P,F){P.prototype=Object.create(F.prototype),P.prototype.constructor=P,g(P,F)}function g(P,F){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,y){return C.__proto__=y,C},g(P,F)}var R=100,O=function(P){m(F,P);function F(C,y,_){var c;return c=P.call(this,C,y,_,"[audio-stream-controller]")||this,c.videoBuffer=null,c.videoTrackCC=-1,c.waitingVideoCC=-1,c.audioSwitch=!1,c.trackId=-1,c.waitingData=null,c.mainDetails=null,c.bufferFlushed=!1,c.cachedTrackLoadedData=null,c._registerListeners(),c}var T=F.prototype;return T.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},T._registerListeners=function(){var y=this.hls;y.on(M.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.on(M.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.on(M.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.on(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.on(M.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),y.on(M.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.on(M.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),y.on(M.Events.ERROR,this.onError,this),y.on(M.Events.BUFFER_RESET,this.onBufferReset,this),y.on(M.Events.BUFFER_CREATED,this.onBufferCreated,this),y.on(M.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.on(M.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),y.on(M.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T._unregisterListeners=function(){var y=this.hls;y.off(M.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.off(M.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.off(M.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(M.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.off(M.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),y.off(M.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.off(M.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),y.off(M.Events.ERROR,this.onError,this),y.off(M.Events.BUFFER_RESET,this.onBufferReset,this),y.off(M.Events.BUFFER_CREATED,this.onBufferCreated,this),y.off(M.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.off(M.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),y.off(M.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T.onInitPtsFound=function(y,_){var c=_.frag,D=_.id,N=_.initPTS;if(D==="main"){var k=c.cc;this.initPTS[c.cc]=N,this.log("InitPTS for cc: "+k+" found from main: "+N),this.videoTrackCC=k,this.state===d.State.WAITING_INIT_PTS&&this.tick()}},T.startLoad=function(y){if(!this.levels){this.startPosition=y,this.state=d.State.STOPPED;return}var _=this.lastCurrentTime;this.stopLoad(),this.setInterval(R),this.fragLoadError=0,_>0&&y===-1?(this.log("Override startPosition with lastCurrentTime @"+_.toFixed(3)),y=_,this.state=d.State.IDLE):(this.loadedmetadata=!1,this.state=d.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=y,this.tick()},T.doTick=function(){switch(this.state){case d.State.IDLE:this.doTickIdle();break;case d.State.WAITING_TRACK:{var y,_=this.levels,c=this.trackId,D=_==null||(y=_[c])===null||y===void 0?void 0:y.details;if(D){if(this.waitForCdnTuneIn(D))break;this.state=d.State.WAITING_INIT_PTS}break}case d.State.FRAG_LOADING_WAITING_RETRY:{var N,k=performance.now(),U=this.retryDate;(!U||k>=U||(N=this.media)!==null&&N!==void 0&&N.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=d.State.IDLE);break}case d.State.WAITING_INIT_PTS:{var $=this.waitingData;if($){var K=$.frag,W=$.part,z=$.cache,H=$.complete;if(this.initPTS[K.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=d.State.FRAG_LOADING;var G=z.flush(),X={frag:K,part:W,payload:G,networkDetails:null};this._handleFragmentLoadProgress(X),H&&P.prototype._handleFragmentLoadComplete.call(this,X)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+K.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var Y=this.getLoadPosition(),Z=L.BufferHelper.bufferInfo(this.mediaBuffer,Y,this.config.maxBufferHole),q=(0,A.fragmentWithinToleranceTest)(Z.end,this.config.maxFragLookUpTolerance,K);q<0&&(this.log("Waiting fragment cc ("+K.cc+") @ "+K.start+" cancelled because another fragment at "+Z.end+" is needed"),this.clearWaitingFragment())}}else this.state=d.State.IDLE}}this.onTickEnd()},T.clearWaitingFragment=function(){var y=this.waitingData;y&&(this.fragmentTracker.removeFragment(y.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=d.State.IDLE)},T.resetLoadingState=function(){this.clearWaitingFragment(),P.prototype.resetLoadingState.call(this)},T.onTickEnd=function(){var y=this.media;!y||!y.readyState||(this.lastCurrentTime=y.currentTime)},T.doTickIdle=function(){var y=this.hls,_=this.levels,c=this.media,D=this.trackId,N=y.config;if(!(!_||!_[D])&&!(!c&&(this.startFragRequested||!N.startFragPrefetch))){var k=_[D],U=k.details;if(!U||U.live&&this.levelLastLoaded!==D||this.waitForCdnTuneIn(U)){this.state=d.State.WAITING_TRACK;return}var $=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&$&&(this.bufferFlushed=!1,this.afterBufferFlushed($,w.ElementaryStreamTypes.AUDIO,p.PlaylistLevelType.AUDIO));var K=this.getFwdBufferInfo($,p.PlaylistLevelType.AUDIO);if(K!==null){var W=this.audioSwitch;if(!W&&this._streamEnded(K,U)){y.trigger(M.Events.BUFFER_EOS,{type:"audio"}),this.state=d.State.ENDED;return}var z=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,p.PlaylistLevelType.MAIN),H=K.len,G=this.getMaxBufferLength(z==null?void 0:z.len);if(!(H>=G&&!W)){var X=U.fragments,Y=X[0].start,Z=K.end;if(W&&c){var q=this.getLoadPosition();Z=q,U.PTSKnown&&q<Y&&(K.end>Y||K.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),c.currentTime=Y+.05)}if(!(z&&Z>z.end+U.targetduration)&&!((!z||!z.len)&&K.len)){var ne=this.getNextFragment(Z,U);if(!ne){this.bufferFlushed=!0;return}this.loadFragment(ne,U,Z)}}}}},T.getMaxBufferLength=function(y){var _=P.prototype.getMaxBufferLength.call(this);return y?Math.max(_,y):_},T.onMediaDetaching=function(){this.videoBuffer=null,P.prototype.onMediaDetaching.call(this)},T.onAudioTracksUpdated=function(y,_){var c=_.audioTracks;this.resetTransmuxer(),this.levels=c.map(function(D){return new I.Level(D)})},T.onAudioTrackSwitching=function(y,_){var c=!!_.url;this.trackId=_.id;var D=this.fragCurrent;D&&D.abortRequests(),this.fragCurrent=null,this.clearWaitingFragment(),c?this.setInterval(R):this.resetTransmuxer(),c?(this.audioSwitch=!0,this.state=d.State.IDLE):this.state=d.State.STOPPED,this.tick()},T.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},T.onLevelLoaded=function(y,_){this.mainDetails=_.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(M.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},T.onAudioTrackLoaded=function(y,_){var c;if(this.mainDetails==null){this.cachedTrackLoadedData=_;return}var D=this.levels,N=_.details,k=_.id;if(!D){this.warn("Audio tracks were reset while loading level "+k);return}this.log("Track "+k+" loaded ["+N.startSN+","+N.endSN+"],duration:"+N.totalduration);var U=D[k],$=0;if(N.live||(c=U.details)!==null&&c!==void 0&&c.live){var K=this.mainDetails;if(N.fragments[0]||(N.deltaUpdateFailed=!0),N.deltaUpdateFailed||!K)return;!U.details&&N.hasProgramDateTime&&K.hasProgramDateTime?((0,x.alignMediaPlaylistByPDT)(N,K),$=N.fragments[0].start):$=this.alignPlaylists(N,U.details)}U.details=N,this.levelLastLoaded=k,!this.startFragRequested&&(this.mainDetails||!N.live)&&this.setStartPosition(U.details,$),this.state===d.State.WAITING_TRACK&&!this.waitForCdnTuneIn(N)&&(this.state=d.State.IDLE),this.tick()},T._handleFragmentLoadProgress=function(y){var _,c=y.frag,D=y.part,N=y.payload,k=this.config,U=this.trackId,$=this.levels;if(!$){this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+c.sn+" of level "+c.level+" will not be buffered");return}var K=$[U];console.assert(K,"Audio track is defined on fragment load progress");var W=K.details;console.assert(W,"Audio track details are defined on fragment load progress");var z=k.defaultAudioCodec||K.audioCodec||"mp4a.40.2",H=this.transmuxer;H||(H=this.transmuxer=new E.default(this.hls,p.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var G=this.initPTS[c.cc],X=(_=c.initSegment)===null||_===void 0?void 0:_.data;if(G!==void 0){var Y=!1,Z=D?D.index:-1,q=Z!==-1,ne=new u.ChunkMetadata(c.level,c.sn,c.stats.chunkCount,N.byteLength,Z,q);H.push(N,X,z,"",c,D,W.totalduration,Y,ne,G)}else{this.log("Unknown video PTS for cc "+c.cc+", waiting for video PTS before demuxing audio frag "+c.sn+" of ["+W.startSN+" ,"+W.endSN+"],track "+U);var te=this.waitingData=this.waitingData||{frag:c,part:D,cache:new S.default,complete:!1},ie=te.cache;ie.push(new Uint8Array(N)),this.waitingVideoCC=this.videoTrackCC,this.state=d.State.WAITING_INIT_PTS}},T._handleFragmentLoadComplete=function(y){if(this.waitingData){this.waitingData.complete=!0;return}P.prototype._handleFragmentLoadComplete.call(this,y)},T.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},T.onBufferCreated=function(y,_){var c=_.tracks.audio;c&&(this.mediaBuffer=c.buffer||null),_.tracks.video&&(this.videoBuffer=_.tracks.video.buffer||null)},T.onFragBuffered=function(y,_){var c=_.frag,D=_.part;if(c.type!==p.PlaylistLevelType.AUDIO){if(!this.loadedmetadata&&c.type===p.PlaylistLevelType.MAIN){var N;(N=this.videoBuffer||this.media)!==null&&N!==void 0&&N.buffered.length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(c)){this.warn("Fragment "+c.sn+(D?" p: "+D.index:"")+" of level "+c.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch);return}c.sn!=="initSegment"&&(this.fragPrevious=c,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(M.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(c,D)},T.onError=function(y,_){if(_.type===h.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(p.PlaylistLevelType.AUDIO,_);return}switch(_.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.FRAG_PARSING_ERROR:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(p.PlaylistLevelType.AUDIO,_);break;case h.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case h.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==d.State.ERROR&&this.state!==d.State.STOPPED&&(this.state=_.fatal?d.State.ERROR:d.State.IDLE,this.warn(_.details+" while loading frag, switching to "+this.state+" state"));break;case h.ErrorDetails.BUFFER_FULL_ERROR:if(_.parent==="audio"&&(this.state===d.State.PARSING||this.state===d.State.PARSED)){var c=!0,D=this.getFwdBufferInfo(this.mediaBuffer,p.PlaylistLevelType.AUDIO);D&&D.len>.5&&(c=!this.reduceMaxBufferLength(D.len)),c&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,P.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}break}},T.onBufferFlushed=function(y,_){var c=_.type;c===w.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0,this.state===d.State.ENDED&&(this.state=d.State.IDLE))},T._handleTransmuxComplete=function(y){var _,c="audio",D=this.hls,N=y.remuxResult,k=y.chunkMeta,U=this.getCurrentContext(k);if(!U){this.warn("The loading context changed while buffering fragment "+k.sn+" of level "+k.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(k.level);return}var $=U.frag,K=U.part,W=U.level.details,z=N.audio,H=N.text,G=N.id3,X=N.initSegment;if(!(this.fragContextChanged($)||!W)){if(this.state=d.State.PARSING,this.audioSwitch&&z&&this.completeAudioSwitch(),X!=null&&X.tracks&&(this._bufferInitSegment(X.tracks,$,k),D.trigger(M.Events.FRAG_PARSING_INIT_SEGMENT,{frag:$,id:c,tracks:X.tracks})),z){var Y=z.startPTS,Z=z.endPTS,q=z.startDTS,ne=z.endDTS;K&&(K.elementaryStreams[w.ElementaryStreamTypes.AUDIO]={startPTS:Y,endPTS:Z,startDTS:q,endDTS:ne}),$.setElementaryStreamInfo(w.ElementaryStreamTypes.AUDIO,Y,Z,q,ne),this.bufferFragmentData(z,$,K,k)}if(G!=null&&(_=G.samples)!==null&&_!==void 0&&_.length){var te=f({id:c,frag:$,details:W},G);D.trigger(M.Events.FRAG_PARSING_METADATA,te)}if(H){var ie=f({id:c,frag:$,details:W},H);D.trigger(M.Events.FRAG_PARSING_USERDATA,ie)}}},T._bufferInitSegment=function(y,_,c){if(this.state===d.State.PARSING){y.video&&delete y.video;var D=y.audio;if(D){D.levelCodec=D.codec,D.id="audio",this.log("Init audio buffer, container:"+D.container+", codecs[parsed]=["+D.codec+"]"),this.hls.trigger(M.Events.BUFFER_CODECS,y);var N=D.initSegment;if(N!=null&&N.byteLength){var k={type:"audio",frag:_,part:null,chunkMeta:c,parent:_.type,data:N};this.hls.trigger(M.Events.BUFFER_APPENDING,k)}this.tick()}}},T.loadFragment=function(y,_,c){var D=this.fragmentTracker.getState(y);this.fragCurrent=y,(this.audioSwitch||D===B.FragmentState.NOT_LOADED||D===B.FragmentState.PARTIAL)&&(y.sn==="initSegment"?this._loadInitSegment(y,_):_.live&&!(0,v.isFiniteNumber)(this.initPTS[y.cc])?(this.log("Waiting for video PTS in continuity counter "+y.cc+" of live stream before loading audio fragment "+y.sn+" of level "+this.trackId),this.state=d.State.WAITING_INIT_PTS):(this.startFragRequested=!0,P.prototype.loadFragment.call(this,y,_,c)))},T.completeAudioSwitch=function(){var y=this.hls,_=this.media,c=this.trackId;_&&(this.log("Switching audio track : flushing all audio"),P.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,y.trigger(M.Events.AUDIO_TRACK_SWITCHED,{id:c})},F}(d.default);const b=O},"./src/controller/audio-track-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>A});var v=a("./src/events.ts"),d=a("./src/errors.ts"),M=a("./src/controller/base-playlist-controller.ts"),L=a("./src/types/loader.ts");function B(x,h){for(var f=0;f<h.length;f++){var m=h[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,p(m.key),m)}}function I(x,h,f){return h&&B(x.prototype,h),f&&B(x,f),Object.defineProperty(x,"prototype",{writable:!1}),x}function p(x){var h=w(x,"string");return typeof h=="symbol"?h:String(h)}function w(x,h){if(typeof x!="object"||x===null)return x;var f=x[Symbol.toPrimitive];if(f!==void 0){var m=f.call(x,h||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(x)}function S(x,h){x.prototype=Object.create(h.prototype),x.prototype.constructor=x,E(x,h)}function E(x,h){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,g){return m.__proto__=g,m},E(x,h)}var u=function(x){S(h,x);function h(m){var g;return g=x.call(this,m,"[audio-track-controller]")||this,g.tracks=[],g.groupId=null,g.tracksInGroup=[],g.trackId=-1,g.trackName="",g.selectDefaultTrack=!0,g.registerListeners(),g}var f=h.prototype;return f.registerListeners=function(){var g=this.hls;g.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),g.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.on(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.on(v.Events.ERROR,this.onError,this)},f.unregisterListeners=function(){var g=this.hls;g.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),g.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),g.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),g.off(v.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),g.off(v.Events.ERROR,this.onError,this)},f.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,x.prototype.destroy.call(this)},f.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},f.onManifestParsed=function(g,R){this.tracks=R.audioTracks||[]},f.onAudioTrackLoaded=function(g,R){var O=R.id,b=R.details,P=this.tracksInGroup[O];if(!P){this.warn("Invalid audio track id "+O);return}var F=P.details;P.details=R.details,this.log("audioTrack "+O+" loaded ["+b.startSN+"-"+b.endSN+"]"),O===this.trackId&&(this.retryCount=0,this.playlistLoaded(O,R,F))},f.onLevelLoading=function(g,R){this.switchLevel(R.level)},f.onLevelSwitching=function(g,R){this.switchLevel(R.level)},f.switchLevel=function(g){var R=this.hls.levels[g];if(R!=null&&R.audioGroupIds){var O=R.audioGroupIds[R.urlId];if(this.groupId!==O){this.groupId=O;var b=this.tracks.filter(function(F){return!O||F.groupId===O});this.selectDefaultTrack&&!b.some(function(F){return F.default})&&(this.selectDefaultTrack=!1),this.tracksInGroup=b;var P={audioTracks:b};this.log("Updating audio tracks, "+b.length+' track(s) found in "'+O+'" group-id'),this.hls.trigger(v.Events.AUDIO_TRACKS_UPDATED,P),this.selectInitialTrack()}}},f.onError=function(g,R){x.prototype.onError.call(this,g,R),!(R.fatal||!R.context)&&R.context.type===L.PlaylistContextType.AUDIO_TRACK&&R.context.id===this.trackId&&R.context.groupId===this.groupId&&this.retryLoadingOrFail(R)},f.setAudioTrack=function(g){var R=this.tracksInGroup;if(g<0||g>=R.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();var O=R[this.trackId];this.log("Now switching to audio-track index "+g);var b=R[g],P=b.id,F=b.groupId,T=F===void 0?"":F,C=b.name,y=b.type,_=b.url;if(this.trackId=g,this.trackName=C,this.selectDefaultTrack=!1,this.hls.trigger(v.Events.AUDIO_TRACK_SWITCHING,{id:P,groupId:T,name:C,type:y,url:_}),!(b.details&&!b.details.live)){var c=this.switchParams(b.url,O==null?void 0:O.details);this.loadPlaylist(c)}},f.selectInitialTrack=function(){var g=this.tracksInGroup;console.assert(g.length,"Initial audio track should be selected when tracks are known");var R=this.trackName,O=this.findTrackId(R)||this.findTrackId();O!==-1?this.setAudioTrack(O):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(v.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},f.findTrackId=function(g){for(var R=this.tracksInGroup,O=0;O<R.length;O++){var b=R[O];if((!this.selectDefaultTrack||b.default)&&(!g||g===b.name))return b.id}return-1},f.loadPlaylist=function(g){x.prototype.loadPlaylist.call(this);var R=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(R)){var O=R.id,b=R.groupId,P=R.url;if(g)try{P=g.addDirectives(P)}catch(F){this.warn("Could not construct new URL with HLS Delivery Directives: "+F)}this.log("loading audio-track playlist for id: "+O),this.clearTimer(),this.hls.trigger(v.Events.AUDIO_TRACK_LOADING,{url:P,id:O,groupId:b,deliveryDirectives:g||null})}},I(h,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(g){this.selectDefaultTrack=!1,this.setAudioTrack(g)}}]),h}(M.default);const A=u},"./src/controller/base-playlist-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>B});var v=a("./src/types/level.ts"),d=a("./src/controller/level-helper.ts"),M=a("./src/utils/logger.ts"),L=a("./src/errors.ts"),B=function(){function I(w,S){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=M.logger.log.bind(M.logger,S+":"),this.warn=M.logger.warn.bind(M.logger,S+":"),this.hls=w}var p=I.prototype;return p.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},p.onError=function(S,E){E.fatal&&(E.type===L.ErrorTypes.NETWORK_ERROR||E.type===L.ErrorTypes.KEY_SYSTEM_ERROR)&&this.stopLoad()},p.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},p.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.requestScheduled=-1,this.loadPlaylist()},p.stopLoad=function(){this.canLoad=!1,this.clearTimer()},p.switchParams=function(S,E){var u=E==null?void 0:E.renditionReports;if(u)for(var A=0;A<u.length;A++){var x=u[A],h=void 0;try{h=new self.URL(x.URI,E.url).href}catch(R){M.logger.warn("Could not construct new URL for Rendition Report: "+R),h=x.URI||""}if(h===S.slice(-h.length)){var f=parseInt(x["LAST-MSN"])||(E==null?void 0:E.lastPartSn),m=parseInt(x["LAST-PART"])||(E==null?void 0:E.lastPartIndex);if(this.hls.config.lowLatencyMode){var g=Math.min(E.age-E.partTarget,E.targetduration);m>=0&&g>E.partTarget&&(m+=1)}return new v.HlsUrlParameters(f,m>=0?m:void 0,v.HlsSkip.No)}}},p.loadPlaylist=function(S){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())},p.shouldLoadTrack=function(S){return this.canLoad&&S&&!!S.url&&(!S.details||S.details.live)},p.playlistLoaded=function(S,E,u){var A=this,x=E.details,h=E.stats,f=self.performance.now(),m=h.loading.first?Math.max(0,f-h.loading.first):0;if(x.advancedDateTime=Date.now()-m,x.live||u!=null&&u.live){if(x.reloaded(u),u&&this.log("live playlist "+S+" "+(x.advanced?"REFRESHED "+x.lastPartSn+"-"+x.lastPartIndex:"MISSED")),u&&x.fragments.length>0&&(0,d.mergeDetails)(u,x),!this.canLoad||!x.live)return;var g,R=void 0,O=void 0;if(x.canBlockReload&&x.endSN&&x.advanced){var b=this.hls.config.lowLatencyMode,P=x.lastPartSn,F=x.endSN,T=x.lastPartIndex,C=T!==-1,y=P===F,_=b?0:T;C?(R=y?F+1:P,O=y?_:T+1):R=F+1;var c=x.age,D=c+x.ageHeader,N=Math.min(D-x.partTarget,x.targetduration*1.5);if(N>0){if(u&&N>u.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+u.tuneInGoal+" to: "+N+" with playlist age: "+x.age),N=0;else{var k=Math.floor(N/x.targetduration);if(R+=k,O!==void 0){var U=Math.round(N%x.targetduration/x.partTarget);O+=U}this.log("CDN Tune-in age: "+x.ageHeader+"s last advanced "+c.toFixed(2)+"s goal: "+N+" skip sn "+k+" to part "+O)}x.tuneInGoal=N}if(g=this.getDeliveryDirectives(x,E.deliveryDirectives,R,O),b||!y){this.loadPlaylist(g);return}}else g=this.getDeliveryDirectives(x,E.deliveryDirectives,R,O);var $=this.hls.mainForwardBufferInfo,K=$?$.end-$.len:0,W=(x.edge-K)*1e3,z=(0,d.computeReloadInterval)(x,W);x.updated?f>this.requestScheduled+z&&(this.requestScheduled=h.loading.start):this.requestScheduled=-1,R!==void 0&&x.canBlockReload?this.requestScheduled=h.loading.first+z-(x.partTarget*1e3||1e3):this.requestScheduled=(this.requestScheduled===-1?f:this.requestScheduled)+z;var H=this.requestScheduled-f;H=Math.max(0,H),this.log("reload live playlist "+S+" in "+Math.round(H)+" ms"),this.timer=self.setTimeout(function(){return A.loadPlaylist(g)},H)}else this.clearTimer()},p.getDeliveryDirectives=function(S,E,u,A){var x=(0,v.getSkipValue)(S,u);return E!=null&&E.skip&&S.deltaUpdateFailed&&(u=E.msn,A=E.part,x=v.HlsSkip.No),new v.HlsUrlParameters(u,A,x)},p.retryLoadingOrFail=function(S){var E=this,u=this.hls.config,A=this.retryCount<u.levelLoadingMaxRetry;if(A){var x;if(this.requestScheduled=-1,this.retryCount++,S.details.indexOf("LoadTimeOut")>-1&&(x=S.context)!==null&&x!==void 0&&x.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+S.details+'"'),this.loadPlaylist();else{var h=Math.min(Math.pow(2,this.retryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout(function(){return E.loadPlaylist()},h),this.warn("retry playlist loading #"+this.retryCount+" in "+h+' ms after "'+S.details+'"')}}else this.warn('cannot recover from error "'+S.details+'"'),this.clearTimer(),S.fatal=!0;return A},I}()},"./src/controller/base-stream-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{State:()=>C,default:()=>y});var v=a("./src/polyfills/number.ts"),d=a("./src/task-loop.ts"),M=a("./src/controller/fragment-tracker.ts"),L=a("./src/utils/buffer-helper.ts"),B=a("./src/utils/logger.ts"),I=a("./src/events.ts"),p=a("./src/errors.ts"),w=a("./src/types/transmuxer.ts"),S=a("./src/utils/mp4-tools.ts"),E=a("./src/utils/discontinuities.ts"),u=a("./src/controller/fragment-finders.ts"),A=a("./src/controller/level-helper.ts"),x=a("./src/loader/fragment-loader.ts"),h=a("./src/crypt/decrypter.ts"),f=a("./src/utils/time-ranges.ts"),m=a("./src/types/loader.ts");function g(_,c){for(var D=0;D<c.length;D++){var N=c[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(_,O(N.key),N)}}function R(_,c,D){return c&&g(_.prototype,c),D&&g(_,D),Object.defineProperty(_,"prototype",{writable:!1}),_}function O(_){var c=b(_,"string");return typeof c=="symbol"?c:String(c)}function b(_,c){if(typeof _!="object"||_===null)return _;var D=_[Symbol.toPrimitive];if(D!==void 0){var N=D.call(_,c||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(_)}function P(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function F(_,c){_.prototype=Object.create(c.prototype),_.prototype.constructor=_,T(_,c)}function T(_,c){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,k){return N.__proto__=k,N},T(_,c)}var C={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},y=function(_){F(c,_);function c(N,k,U,$){var K;return K=_.call(this)||this,K.hls=void 0,K.fragPrevious=null,K.fragCurrent=null,K.fragmentTracker=void 0,K.transmuxer=null,K._state=C.STOPPED,K.media=null,K.mediaBuffer=null,K.config=void 0,K.bitrateTest=!1,K.lastCurrentTime=0,K.nextLoadPosition=0,K.startPosition=0,K.loadedmetadata=!1,K.fragLoadError=0,K.retryDate=0,K.levels=null,K.fragmentLoader=void 0,K.keyLoader=void 0,K.levelLastLoaded=null,K.startFragRequested=!1,K.decrypter=void 0,K.initPTS=[],K.onvseeking=null,K.onvended=null,K.logPrefix="",K.log=void 0,K.warn=void 0,K.logPrefix=$,K.log=B.logger.log.bind(B.logger,$+":"),K.warn=B.logger.warn.bind(B.logger,$+":"),K.hls=N,K.fragmentLoader=new x.default(N.config),K.keyLoader=U,K.fragmentTracker=k,K.config=N.config,K.decrypter=new h.default(N.config),N.on(I.Events.LEVEL_SWITCHING,K.onLevelSwitching,P(K)),K}var D=c.prototype;return D.doTick=function(){this.onTickEnd()},D.onTickEnd=function(){},D.startLoad=function(k){},D.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort();var k=this.fragCurrent;k&&(k.abortRequests(),this.fragmentTracker.removeFragment(k)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=C.STOPPED},D._streamEnded=function(k,U){if(U.live||k.nextStart||!k.end||!this.media)return!1;var $=U.partList;if($!=null&&$.length){var K=$[$.length-1],W=L.BufferHelper.isBuffered(this.media,K.start+K.duration/2);return W}var z=U.fragments[U.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(z)},D.getLevelDetails=function(){if(this.levels&&this.levelLastLoaded!==null){var k;return(k=this.levels[this.levelLastLoaded])===null||k===void 0?void 0:k.details}},D.onMediaAttached=function(k,U){var $=this.media=this.mediaBuffer=U.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),$.addEventListener("seeking",this.onvseeking),$.addEventListener("ended",this.onvended);var K=this.config;this.levels&&K.autoStartLoad&&this.state===C.STOPPED&&this.startLoad(K.startPosition)},D.onMediaDetaching=function(){var k=this.media;k!=null&&k.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),k&&this.onvseeking&&this.onvended&&(k.removeEventListener("seeking",this.onvseeking),k.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},D.onMediaSeeking=function(){var k=this.config,U=this.fragCurrent,$=this.media,K=this.mediaBuffer,W=this.state,z=$?$.currentTime:0,H=L.BufferHelper.bufferInfo(K||$,z,k.maxBufferHole);if(this.log("media seeking to "+((0,v.isFiniteNumber)(z)?z.toFixed(3):z)+", state: "+W),this.state===C.ENDED)this.resetLoadingState();else if(U){var G=k.maxFragLookUpTolerance,X=U.start-G,Y=U.start+U.duration+G;if(!H.len||Y<H.start||X>H.end){var Z=z>Y;(z<X||Z)&&(Z&&U.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),U.abortRequests()),this.resetLoadingState())}}$&&(this.lastCurrentTime=z),!this.loadedmetadata&&!H.len&&(this.nextLoadPosition=this.startPosition=z),this.tickImmediate()},D.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},D.onLevelSwitching=function(k,U){this.fragLoadError=0},D.onHandlerDestroying=function(){this.stopLoad(),_.prototype.onHandlerDestroying.call(this)},D.onHandlerDestroyed=function(){this.state=C.STOPPED,this.hls.off(I.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,_.prototype.onHandlerDestroyed.call(this)},D.loadFragment=function(k,U,$){this._loadFragForPlayback(k,U,$)},D._loadFragForPlayback=function(k,U,$){var K=this,W=function(H){if(K.fragContextChanged(k)){K.warn("Fragment "+k.sn+(H.part?" p: "+H.part.index:"")+" of level "+k.level+" was dropped during download."),K.fragmentTracker.removeFragment(k);return}k.stats.chunkCount++,K._handleFragmentLoadProgress(H)};this._doFragLoad(k,U,$,W).then(function(z){if(z){K.fragLoadError=0;var H=K.state;if(K.fragContextChanged(k)){(H===C.FRAG_LOADING||!K.fragCurrent&&H===C.PARSING)&&(K.fragmentTracker.removeFragment(k),K.state=C.IDLE);return}"payload"in z&&(K.log("Loaded fragment "+k.sn+" of level "+k.level),K.hls.trigger(I.Events.FRAG_LOADED,z)),K._handleFragmentLoadComplete(z)}}).catch(function(z){K.state===C.STOPPED||K.state===C.ERROR||(K.warn(z),K.resetFragmentLoading(k))})},D.flushMainBuffer=function(k,U,$){if($===void 0&&($=null),!!(k-U)){var K={startOffset:k,endOffset:U,type:$};this.fragLoadError=0,this.hls.trigger(I.Events.BUFFER_FLUSHING,K)}},D._loadInitSegment=function(k,U){var $=this;this._doFragLoad(k,U).then(function(K){if(!K||$.fragContextChanged(k)||!$.levels)throw new Error("init load aborted");return K}).then(function(K){var W=$.hls,z=K.payload,H=k.decryptdata;if(z&&z.byteLength>0&&H&&H.key&&H.iv&&H.method==="AES-128"){var G=self.performance.now();return $.decrypter.decrypt(new Uint8Array(z),H.key.buffer,H.iv.buffer).then(function(X){var Y=self.performance.now();return W.trigger(I.Events.FRAG_DECRYPTED,{frag:k,payload:X,stats:{tstart:G,tdecrypt:Y}}),K.payload=X,K})}return K}).then(function(K){var W=$.fragCurrent,z=$.hls,H=$.levels;if(!H)throw new Error("init load aborted, missing levels");var G=H[k.level].details;console.assert(G,"Level details are defined when init segment is loaded");var X=k.stats;$.state=C.IDLE,$.fragLoadError=0,k.data=new Uint8Array(K.payload),X.parsing.start=X.buffering.start=self.performance.now(),X.parsing.end=X.buffering.end=self.performance.now(),K.frag===W&&z.trigger(I.Events.FRAG_BUFFERED,{stats:X,frag:W,part:null,id:k.type}),$.tick()}).catch(function(K){$.state===C.STOPPED||$.state===C.ERROR||($.warn(K),$.resetFragmentLoading(k))})},D.fragContextChanged=function(k){var U=this.fragCurrent;return!k||!U||k.level!==U.level||k.sn!==U.sn||k.urlId!==U.urlId},D.fragBufferedComplete=function(k,U){var $,K,W,z,H=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+k.type+" sn: "+k.sn+(U?" part: "+U.index:"")+" of "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+k.level+" (frag:["+(($=k.startPTS)!=null?$:NaN).toFixed(3)+"-"+((K=k.endPTS)!=null?K:NaN).toFixed(3)+"] > buffer:"+(H?f.default.toString(L.BufferHelper.getBuffered(H)):"(detached)")+")"),this.state=C.IDLE,H&&(!this.loadedmetadata&&k.type==m.PlaylistLevelType.MAIN&&H.buffered.length&&((W=this.fragCurrent)===null||W===void 0?void 0:W.sn)===((z=this.fragPrevious)===null||z===void 0?void 0:z.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},D.seekToStartPos=function(){},D._handleFragmentLoadComplete=function(k){var U=this.transmuxer;if(U){var $=k.frag,K=k.part,W=k.partsLoaded,z=!W||W.length===0||W.some(function(G){return!G}),H=new w.ChunkMetadata($.level,$.sn,$.stats.chunkCount+1,0,K?K.index:-1,!z);U.flush(H)}},D._handleFragmentLoadProgress=function(k){},D._doFragLoad=function(k,U,$,K){var W,z=this;if($===void 0&&($=null),!this.levels)throw new Error("frag load aborted, missing levels");var H=null;if(k.encrypted&&!((W=k.decryptdata)!==null&&W!==void 0&&W.key)?(this.log("Loading key for "+k.sn+" of ["+U.startSN+"-"+U.endSN+"], "+(this.logPrefix==="[stream-controller]"?"level":"track")+" "+k.level),this.state=C.KEY_LOADING,this.fragCurrent=k,H=this.keyLoader.load(k).then(function(q){if(!z.fragContextChanged(q.frag))return z.hls.trigger(I.Events.KEY_LOADED,q),z.state===C.KEY_LOADING&&(z.state=C.IDLE),q}),this.hls.trigger(I.Events.KEY_LOADING,{frag:k}),this.throwIfFragContextChanged("KEY_LOADING")):!k.encrypted&&U.encryptedFragments.length&&this.keyLoader.loadClear(k,U.encryptedFragments),$=Math.max(k.start,$||0),this.config.lowLatencyMode&&U){var G=U.partList;if(G&&K){$>k.end&&U.fragmentHint&&(k=U.fragmentHint);var X=this.getNextPart(G,k,$);if(X>-1){var Y=G[X];return this.log("Loading part sn: "+k.sn+" p: "+Y.index+" cc: "+k.cc+" of playlist ["+U.startSN+"-"+U.endSN+"] parts [0-"+X+"-"+(G.length-1)+"] "+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+k.level+", target: "+parseFloat($.toFixed(3))),this.nextLoadPosition=Y.start+Y.duration,this.state=C.FRAG_LOADING,this.hls.trigger(I.Events.FRAG_LOADING,{frag:k,part:G[X],targetBufferTime:$}),this.throwIfFragContextChanged("FRAG_LOADING parts"),H?H.then(function(q){return!q||z.fragContextChanged(q.frag)?null:z.doFragPartsLoad(k,G,X,K)}).catch(function(q){return z.handleFragLoadError(q)}):this.doFragPartsLoad(k,G,X,K).catch(function(q){return z.handleFragLoadError(q)})}else if(!k.url||this.loadedEndOfParts(G,$))return Promise.resolve(null)}}this.log("Loading fragment "+k.sn+" cc: "+k.cc+" "+(U?"of ["+U.startSN+"-"+U.endSN+"] ":"")+(this.logPrefix==="[stream-controller]"?"level":"track")+": "+k.level+", target: "+parseFloat($.toFixed(3))),(0,v.isFiniteNumber)(k.sn)&&!this.bitrateTest&&(this.nextLoadPosition=k.start+k.duration),this.state=C.FRAG_LOADING,this.hls.trigger(I.Events.FRAG_LOADING,{frag:k,targetBufferTime:$}),this.throwIfFragContextChanged("FRAG_LOADING");var Z=this.config.progressive;return Z&&H?H.then(function(q){return!q||z.fragContextChanged(q==null?void 0:q.frag)?null:z.fragmentLoader.load(k,K)}).catch(function(q){return z.handleFragLoadError(q)}):Promise.all([this.fragmentLoader.load(k,Z?K:void 0),H]).then(function(q){var ne=q[0];return!Z&&ne&&K&&K(ne),ne}).catch(function(q){return z.handleFragLoadError(q)})},D.throwIfFragContextChanged=function(k){if(this.fragCurrent===null)throw new Error("frag load aborted, context changed in "+k)},D.doFragPartsLoad=function(k,U,$,K){var W=this;return new Promise(function(z,H){var G=[],X=function Y(Z){var q=U[Z];W.fragmentLoader.loadPart(k,q,K).then(function(ne){G[q.index]=ne;var te=ne.part;W.hls.trigger(I.Events.FRAG_LOADED,ne);var ie=U[Z+1];if(ie&&ie.fragment===k)Y(Z+1);else return z({frag:k,part:te,partsLoaded:G})}).catch(H)};X($)})},D.handleFragLoadError=function(k){if("data"in k){var U=k.data;k.data&&U.details===p.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(U.frag,U.part):this.hls.trigger(I.Events.ERROR,U)}else this.hls.trigger(I.Events.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.INTERNAL_EXCEPTION,err:k,fatal:!0});return null},D._handleTransmuxerFlush=function(k){var U=this.getCurrentContext(k);if(!U||this.state!==C.PARSING){!this.fragCurrent&&this.state!==C.STOPPED&&this.state!==C.ERROR&&(this.state=C.IDLE);return}var $=U.frag,K=U.part,W=U.level,z=self.performance.now();$.stats.parsing.end=z,K&&(K.stats.parsing.end=z),this.updateLevelTiming($,K,W,k.partial)},D.getCurrentContext=function(k){var U=this.levels,$=k.level,K=k.sn,W=k.part;if(!U||!U[$])return this.warn("Levels object was unset while buffering fragment "+K+" of level "+$+". The current chunk will not be buffered."),null;var z=U[$],H=W>-1?(0,A.getPartWith)(z,K,W):null,G=H?H.fragment:(0,A.getFragmentWithSN)(z,K,this.fragCurrent);return G?{frag:G,part:H,level:z}:null},D.bufferFragmentData=function(k,U,$,K){if(!(!k||this.state!==C.PARSING)){var W=k.data1,z=k.data2,H=W;if(W&&z&&(H=(0,S.appendUint8Array)(W,z)),!(!H||!H.length)){var G={type:k.type,frag:U,part:$,chunkMeta:K,parent:U.type,data:H};this.hls.trigger(I.Events.BUFFER_APPENDING,G),k.dropped&&k.independent&&!$&&this.flushBufferGap(U)}}},D.flushBufferGap=function(k){var U=this.media;if(U){if(!L.BufferHelper.isBuffered(U,U.currentTime)){this.flushMainBuffer(0,k.start);return}var $=U.currentTime,K=L.BufferHelper.bufferInfo(U,$,0),W=k.duration,z=Math.min(this.config.maxFragLookUpTolerance*2,W*.25),H=Math.max(Math.min(k.start-z,K.end-z),$+z);k.start-H>z&&this.flushMainBuffer(H,k.start)}},D.getFwdBufferInfo=function(k,U){var $=this.config,K=this.getLoadPosition();if(!(0,v.isFiniteNumber)(K))return null;var W=L.BufferHelper.bufferInfo(k,K,$.maxBufferHole);if(W.len===0&&W.nextStart!==void 0){var z=this.fragmentTracker.getBufferedFrag(K,U);if(z&&W.nextStart<z.end)return L.BufferHelper.bufferInfo(k,K,Math.max(W.nextStart,$.maxBufferHole))}return W},D.getMaxBufferLength=function(k){var U=this.config,$;return k?$=Math.max(8*U.maxBufferSize/k,U.maxBufferLength):$=U.maxBufferLength,Math.min($,U.maxMaxBufferLength)},D.reduceMaxBufferLength=function(k){var U=this.config,$=k||U.maxBufferLength;return U.maxMaxBufferLength>=$?(U.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+U.maxMaxBufferLength+"s"),!0):!1},D.getNextFragment=function(k,U){var $=U.fragments,K=$.length;if(!K)return null;var W=this.config,z=$[0].start,H;if(U.live){var G=W.initialLiveManifestSize;if(K<G)return this.warn("Not enough fragments to start playback (have: "+K+", need: "+G+")"),null;!U.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(H=this.getInitialLiveFragment(U,$),this.startPosition=H?this.hls.liveSyncPosition||H.start:k)}else k<=z&&(H=$[0]);if(!H){var X=W.lowLatencyMode?U.partEnd:U.fragmentEnd;H=this.getFragmentAtPosition(k,X,U)}return this.mapToInitFragWhenRequired(H)},D.mapToInitFragWhenRequired=function(k){return k!=null&&k.initSegment&&!(k!=null&&k.initSegment.data)&&!this.bitrateTest?k.initSegment:k},D.getNextPart=function(k,U,$){for(var K=-1,W=!1,z=!0,H=0,G=k.length;H<G;H++){var X=k[H];if(z=z&&!X.independent,K>-1&&$<X.start)break;var Y=X.loaded;Y?K=-1:(W||X.independent||z)&&X.fragment===U&&(K=H),W=Y}return K},D.loadedEndOfParts=function(k,U){var $=k[k.length-1];return $&&U>$.start&&$.loaded},D.getInitialLiveFragment=function(k,U){var $=this.fragPrevious,K=null;if($){if(k.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+$.programDateTime),K=(0,u.findFragmentByPDT)(U,$.endProgramDateTime,this.config.maxFragLookUpTolerance)),!K){var W=$.sn+1;if(W>=k.startSN&&W<=k.endSN){var z=U[W-k.startSN];$.cc===z.cc&&(K=z,this.log("Live playlist, switching playlist, load frag with next SN: "+K.sn))}K||(K=(0,u.findFragWithCC)(U,$.cc),K&&this.log("Live playlist, switching playlist, load frag with same CC: "+K.sn))}}else{var H=this.hls.liveSyncPosition;H!==null&&(K=this.getFragmentAtPosition(H,this.bitrateTest?k.fragmentEnd:k.edge,k))}return K},D.getFragmentAtPosition=function(k,U,$){var K=this.config,W=this.fragPrevious,z=$.fragments,H=$.endSN,G=$.fragmentHint,X=K.maxFragLookUpTolerance,Y=!!(K.lowLatencyMode&&$.partList&&G);Y&&G&&!this.bitrateTest&&(z=z.concat(G),H=G.sn);var Z;if(k<U){var q=k>U-X?0:X;Z=(0,u.findFragmentByPTS)(W,z,k,q)}else Z=z[z.length-1];if(Z){var ne=Z.sn-$.startSN;if(this.fragmentTracker.getState(Z)===M.FragmentState.OK&&(W=Z),W&&Z.sn===W.sn&&!Y){var te=W&&Z.level===W.level;if(te){var ie=z[ne+1];Z.sn<H&&this.fragmentTracker.getState(ie)!==M.FragmentState.OK?(this.log("SN "+Z.sn+" just loaded, load next one: "+ie.sn),Z=ie):Z=null}}}return Z},D.synchronizeToLiveEdge=function(k){var U=this.config,$=this.media;if($){var K=this.hls.liveSyncPosition,W=$.currentTime,z=k.fragments[0].start,H=k.edge,G=W>=z-U.maxFragLookUpTolerance&&W<=H;if(K!==null&&$.duration>K&&(W<K||!G)){var X=U.liveMaxLatencyDuration!==void 0?U.liveMaxLatencyDuration:U.liveMaxLatencyDurationCount*k.targetduration;(!G&&$.readyState<4||W<H-X)&&(this.loadedmetadata||(this.nextLoadPosition=K),$.readyState&&(this.warn("Playback: "+W.toFixed(3)+" is located too far from the end of live sliding playlist: "+H+", reset currentTime to : "+K.toFixed(3)),$.currentTime=K))}}},D.alignPlaylists=function(k,U){var $=this.levels,K=this.levelLastLoaded,W=this.fragPrevious,z=K!==null?$[K]:null,H=k.fragments.length;if(!H)return this.warn("No fragments in live playlist"),0;var G=k.fragments[0].start,X=!U,Y=k.alignedSliding&&(0,v.isFiniteNumber)(G);if(X||!Y&&!G){(0,E.alignStream)(W,z,k);var Z=k.fragments[0].start;return this.log("Live playlist sliding: "+Z.toFixed(2)+" start-sn: "+(U?U.startSN:"na")+"->"+k.startSN+" prev-sn: "+(W?W.sn:"na")+" fragments: "+H),Z}return G},D.waitForCdnTuneIn=function(k){var U=3;return k.live&&k.canBlockReload&&k.partTarget&&k.tuneInGoal>Math.max(k.partHoldBack,k.partTarget*U)},D.setStartPosition=function(k,U){var $=this.startPosition;if($<U&&($=-1),$===-1||this.lastCurrentTime===-1){var K=k.startTimeOffset;(0,v.isFiniteNumber)(K)?($=U+K,K<0&&($+=k.totalduration),$=Math.min(Math.max(U,$),U+k.totalduration),this.log("Start time offset "+K+" found in playlist, adjust startPosition to "+$),this.startPosition=$):k.live?$=this.hls.liveSyncPosition||U:this.startPosition=$=0,this.lastCurrentTime=$}this.nextLoadPosition=$},D.getLoadPosition=function(){var k=this.media,U=0;return this.loadedmetadata&&k?U=k.currentTime:this.nextLoadPosition&&(U=this.nextLoadPosition),U},D.handleFragLoadAborted=function(k,U){this.transmuxer&&k.sn!=="initSegment"&&k.stats.aborted&&(this.warn("Fragment "+k.sn+(U?" part"+U.index:"")+" of level "+k.level+" was aborted"),this.resetFragmentLoading(k))},D.resetFragmentLoading=function(k){(!this.fragCurrent||!this.fragContextChanged(k)&&this.state!==C.FRAG_LOADING_WAITING_RETRY)&&(this.state=C.IDLE)},D.onFragmentOrKeyLoadError=function(k,U){if(U.fatal){this.stopLoad(),this.state=C.ERROR;return}var $=this.config;if(U.chunkMeta){var K=this.getCurrentContext(U.chunkMeta);K&&(U.frag=K.frag,U.levelRetry=!0,this.fragLoadError=$.fragLoadingMaxRetry)}var W=U.frag;if(!(!W||W.type!==k)){var z=this.fragCurrent;if(console.assert(z&&W.sn===z.sn&&W.level===z.level&&W.urlId===z.urlId,"Frag load error must match current frag to retry"),this.fragLoadError+1<=$.fragLoadingMaxRetry){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);var H=Math.min(Math.pow(2,this.fragLoadError)*$.fragLoadingRetryDelay,$.fragLoadingMaxRetryTimeout);this.warn("Fragment "+W.sn+" of "+k+" "+W.level+" failed to load, retrying in "+H+"ms"),this.retryDate=self.performance.now()+H,this.fragLoadError++,this.state=C.FRAG_LOADING_WAITING_RETRY}else U.levelRetry?(k===m.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=C.IDLE):(B.logger.error(U.details+" reaches max retry, redispatch as fatal ..."),U.fatal=!0,this.hls.stopLoad(),this.state=C.ERROR)}},D.afterBufferFlushed=function(k,U,$){if(k){var K=L.BufferHelper.getBuffered(k);this.fragmentTracker.detectEvictedFragments(U,K,$),this.state===C.ENDED&&this.resetLoadingState()}},D.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=C.IDLE},D.resetStartWhenNotLoaded=function(k){if(!this.loadedmetadata){this.startFragRequested=!1;var U=this.levels?this.levels[k].details:null;U!=null&&U.live?(this.startPosition=-1,this.setStartPosition(U,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},D.updateLevelTiming=function(k,U,$,K){var W=this,z=$.details;console.assert(!!z,"level.details must be defined");var H=Object.keys(k.elementaryStreams).reduce(function(G,X){var Y=k.elementaryStreams[X];if(Y){var Z=Y.endPTS-Y.startPTS;if(Z<=0)return W.warn("Could not parse fragment "+k.sn+" "+X+" duration reliably ("+Z+")"),G||!1;var q=K?0:(0,A.updateFragPTSDTS)(z,k,Y.startPTS,Y.endPTS,Y.startDTS,Y.endDTS);return W.hls.trigger(I.Events.LEVEL_PTS_UPDATED,{details:z,level:$,drift:q,type:X,frag:k,start:Y.startPTS,end:Y.endPTS}),!0}return G},!1);H||(this.warn("Found no media in fragment "+k.sn+" of level "+$.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=C.PARSED,this.hls.trigger(I.Events.FRAG_PARSED,{frag:k,part:U})},D.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},R(c,[{key:"state",get:function(){return this._state},set:function(k){var U=this._state;U!==k&&(this._state=k,this.log(U+"->"+k))}}]),c}(d.default)},"./src/controller/buffer-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>u});var v=a("./src/polyfills/number.ts"),d=a("./src/events.ts"),M=a("./src/utils/logger.ts"),L=a("./src/errors.ts"),B=a("./src/utils/buffer-helper.ts"),I=a("./src/utils/mediasource-helper.ts"),p=a("./src/loader/fragment.ts"),w=a("./src/controller/buffer-operation-queue.ts"),S=(0,I.getMediaSource)(),E=/([ha]vc.)(?:\.[^.,]+)+/,u=function(){function A(h){var f=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var m=f.media,g=f.mediaSource;M.logger.log("[buffer-controller]: Media source opened"),m&&(m.removeEventListener("emptied",f._onMediaEmptied),f.updateMediaElementDuration(),f.hls.trigger(d.Events.MEDIA_ATTACHED,{media:m})),g&&g.removeEventListener("sourceopen",f._onMediaSourceOpen),f.checkPendingTracks()},this._onMediaSourceClose=function(){M.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){M.logger.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var m=f.media,g=f._objectUrl;m&&m.src!==g&&M.logger.error("Media element src was set while attaching MediaSource ("+g+" > "+m.src+")")},this.hls=h,this._initSourceBuffer(),this.registerListeners()}var x=A.prototype;return x.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},x.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},x.registerListeners=function(){var f=this.hls;f.on(d.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.on(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.on(d.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.on(d.Events.BUFFER_RESET,this.onBufferReset,this),f.on(d.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.on(d.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.on(d.Events.BUFFER_EOS,this.onBufferEos,this),f.on(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.on(d.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.on(d.Events.FRAG_PARSED,this.onFragParsed,this),f.on(d.Events.FRAG_CHANGED,this.onFragChanged,this)},x.unregisterListeners=function(){var f=this.hls;f.off(d.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),f.off(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),f.off(d.Events.MANIFEST_PARSED,this.onManifestParsed,this),f.off(d.Events.BUFFER_RESET,this.onBufferReset,this),f.off(d.Events.BUFFER_APPENDING,this.onBufferAppending,this),f.off(d.Events.BUFFER_CODECS,this.onBufferCodecs,this),f.off(d.Events.BUFFER_EOS,this.onBufferEos,this),f.off(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),f.off(d.Events.LEVEL_UPDATED,this.onLevelUpdated,this),f.off(d.Events.FRAG_PARSED,this.onFragParsed,this),f.off(d.Events.FRAG_CHANGED,this.onFragChanged,this)},x._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new w.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},x.onManifestParsed=function(f,m){var g=2;(m.audio&&!m.video||!m.altAudio)&&(g=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=g,this.details=null,M.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},x.onMediaAttaching=function(f,m){var g=this.media=m.media;if(g&&S){var R=this.mediaSource=new S;R.addEventListener("sourceopen",this._onMediaSourceOpen),R.addEventListener("sourceended",this._onMediaSourceEnded),R.addEventListener("sourceclose",this._onMediaSourceClose),g.src=self.URL.createObjectURL(R),this._objectUrl=g.src,g.addEventListener("emptied",this._onMediaEmptied)}},x.onMediaDetaching=function(){var f=this.media,m=this.mediaSource,g=this._objectUrl;if(m){if(M.logger.log("[buffer-controller]: media source detaching"),m.readyState==="open")try{m.endOfStream()}catch(R){M.logger.warn("[buffer-controller]: onMediaDetaching: "+R.message+" while calling endOfStream")}this.onBufferReset(),m.removeEventListener("sourceopen",this._onMediaSourceOpen),m.removeEventListener("sourceended",this._onMediaSourceEnded),m.removeEventListener("sourceclose",this._onMediaSourceClose),f&&(f.removeEventListener("emptied",this._onMediaEmptied),g&&self.URL.revokeObjectURL(g),f.src===g?(f.removeAttribute("src"),f.load()):M.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(d.Events.MEDIA_DETACHED,void 0)},x.onBufferReset=function(){var f=this;this.getSourceBufferTypes().forEach(function(m){var g=f.sourceBuffer[m];try{g&&(f.removeBufferListeners(m),f.mediaSource&&f.mediaSource.removeSourceBuffer(g),f.sourceBuffer[m]=void 0)}catch(R){M.logger.warn("[buffer-controller]: Failed to reset the "+m+" buffer",R)}}),this._initSourceBuffer()},x.onBufferCodecs=function(f,m){var g=this,R=this.getSourceBufferTypes().length;Object.keys(m).forEach(function(O){if(R){var b=g.tracks[O];if(b&&typeof b.buffer.changeType=="function"){var P=m[O],F=P.id,T=P.codec,C=P.levelCodec,y=P.container,_=P.metadata,c=(b.levelCodec||b.codec).replace(E,"$1"),D=(C||T).replace(E,"$1");if(c!==D){var N=y+";codecs="+(C||T);g.appendChangeType(O,N),M.logger.log("[buffer-controller]: switching codec "+c+" to "+D),g.tracks[O]={buffer:b.buffer,codec:T,container:y,levelCodec:C,metadata:_,id:F}}}}else g.pendingTracks[O]=m[O]}),!R&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())},x.appendChangeType=function(f,m){var g=this,R=this.operationQueue,O={execute:function(){var P=g.sourceBuffer[f];P&&(M.logger.log("[buffer-controller]: changing "+f+" sourceBuffer type to "+m),P.changeType(m)),R.shiftAndExecuteNext(f)},onStart:function(){},onComplete:function(){},onError:function(P){M.logger.warn("[buffer-controller]: Failed to change "+f+" SourceBuffer type",P)}};R.append(O,f)},x.onBufferAppending=function(f,m){var g=this,R=this.hls,O=this.operationQueue,b=this.tracks,P=m.data,F=m.type,T=m.frag,C=m.part,y=m.chunkMeta,_=y.buffering[F],c=self.performance.now();_.start=c;var D=T.stats.buffering,N=C?C.stats.buffering:null;D.start===0&&(D.start=c),N&&N.start===0&&(N.start=c);var k=b.audio,U=!1;F==="audio"&&(k==null?void 0:k.container)==="audio/mpeg"&&(U=!this.lastMpegAudioChunk||y.id===1||this.lastMpegAudioChunk.sn!==y.sn,this.lastMpegAudioChunk=y);var $=T.start,K={execute:function(){if(_.executeStart=self.performance.now(),U){var z=g.sourceBuffer[F];if(z){var H=$-z.timestampOffset;Math.abs(H)>=.1&&(M.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+$+" (delta: "+H+") sn: "+T.sn+")"),z.timestampOffset=$)}}g.appendExecutor(P,F)},onStart:function(){},onComplete:function(){var z=self.performance.now();_.executeEnd=_.end=z,D.first===0&&(D.first=z),N&&N.first===0&&(N.first=z);var H=g.sourceBuffer,G={};for(var X in H)G[X]=B.BufferHelper.getBuffered(H[X]);g.appendError=0,g.hls.trigger(d.Events.BUFFER_APPENDED,{type:F,frag:T,part:C,chunkMeta:y,parent:T.type,timeRanges:G})},onError:function(z){M.logger.error("[buffer-controller]: Error encountered while trying to append to the "+F+" SourceBuffer",z);var H={type:L.ErrorTypes.MEDIA_ERROR,parent:T.type,details:L.ErrorDetails.BUFFER_APPEND_ERROR,err:z,fatal:!1};z.code===DOMException.QUOTA_EXCEEDED_ERR?H.details=L.ErrorDetails.BUFFER_FULL_ERROR:(g.appendError++,H.details=L.ErrorDetails.BUFFER_APPEND_ERROR,g.appendError>R.config.appendErrorMaxRetry&&(M.logger.error("[buffer-controller]: Failed "+R.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),H.fatal=!0,R.stopLoad())),R.trigger(d.Events.ERROR,H)}};O.append(K,F)},x.onBufferFlushing=function(f,m){var g=this,R=this.operationQueue,O=function(P){return{execute:g.removeExecutor.bind(g,P,m.startOffset,m.endOffset),onStart:function(){},onComplete:function(){g.hls.trigger(d.Events.BUFFER_FLUSHED,{type:P})},onError:function(T){M.logger.warn("[buffer-controller]: Failed to remove from "+P+" SourceBuffer",T)}}};m.type?R.append(O(m.type),m.type):this.getSourceBufferTypes().forEach(function(b){R.append(O(b),b)})},x.onFragParsed=function(f,m){var g=this,R=m.frag,O=m.part,b=[],P=O?O.elementaryStreams:R.elementaryStreams;P[p.ElementaryStreamTypes.AUDIOVIDEO]?b.push("audiovideo"):(P[p.ElementaryStreamTypes.AUDIO]&&b.push("audio"),P[p.ElementaryStreamTypes.VIDEO]&&b.push("video"));var F=function(){var C=self.performance.now();R.stats.buffering.end=C,O&&(O.stats.buffering.end=C);var y=O?O.stats:R.stats;g.hls.trigger(d.Events.FRAG_BUFFERED,{frag:R,part:O,stats:y,id:R.type})};b.length===0&&M.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+R.type+" level: "+R.level+" sn: "+R.sn),this.blockBuffers(F,b)},x.onFragChanged=function(f,m){this.flushBackBuffer()},x.onBufferEos=function(f,m){var g=this,R=this.getSourceBufferTypes().reduce(function(O,b){var P=g.sourceBuffer[b];return P&&(!m.type||m.type===b)&&(P.ending=!0,P.ended||(P.ended=!0,M.logger.log("[buffer-controller]: "+b+" sourceBuffer now EOS"))),O&&!!(!P||P.ended)},!0);R&&(M.logger.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(function(){g.getSourceBufferTypes().forEach(function(b){var P=g.sourceBuffer[b];P&&(P.ending=!1)});var O=g.mediaSource;if(!O||O.readyState!=="open"){O&&M.logger.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+O.readyState);return}M.logger.log("[buffer-controller]: Calling mediaSource.endOfStream()"),O.endOfStream()}))},x.onLevelUpdated=function(f,m){var g=m.details;g.fragments.length&&(this.details=g,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},x.flushBackBuffer=function(){var f=this.hls,m=this.details,g=this.media,R=this.sourceBuffer;if(!(!g||m===null)){var O=this.getSourceBufferTypes();if(O.length){var b=m.live&&f.config.liveBackBufferLength!==null?f.config.liveBackBufferLength:f.config.backBufferLength;if(!(!(0,v.isFiniteNumber)(b)||b<0)){var P=g.currentTime,F=m.levelTargetDuration,T=Math.max(b,F),C=Math.floor(P/F)*F-T;O.forEach(function(y){var _=R[y];if(_){var c=B.BufferHelper.getBuffered(_);if(c.length>0&&C>c.start(0)){if(f.trigger(d.Events.BACK_BUFFER_REACHED,{bufferEnd:C}),m.live)f.trigger(d.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:C});else if(_.ended&&c.end(c.length-1)-P<F*2){M.logger.info("[buffer-controller]: Cannot flush "+y+" back buffer while SourceBuffer is in ended state");return}f.trigger(d.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:C,type:y})}}})}}}},x.updateMediaElementDuration=function(){if(!(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")){var f=this.details,m=this.hls,g=this.media,R=this.mediaSource,O=f.fragments[0].start+f.totalduration,b=g.duration,P=(0,v.isFiniteNumber)(R.duration)?R.duration:0;f.live&&m.config.liveDurationInfinity?(M.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),R.duration=1/0,this.updateSeekableRange(f)):(O>P&&O>b||!(0,v.isFiniteNumber)(b))&&(M.logger.log("[buffer-controller]: Updating Media Source duration to "+O.toFixed(3)),R.duration=O)}},x.updateSeekableRange=function(f){var m=this.mediaSource,g=f.fragments,R=g.length;if(R&&f.live&&m!==null&&m!==void 0&&m.setLiveSeekableRange){var O=Math.max(0,g[0].start),b=Math.max(O,O+f.totalduration);m.setLiveSeekableRange(O,b)}},x.checkPendingTracks=function(){var f=this.bufferCodecEventsExpected,m=this.operationQueue,g=this.pendingTracks,R=Object.keys(g).length;if(R&&!f||R===2){this.createSourceBuffers(g),this.pendingTracks={};var O=this.getSourceBufferTypes();if(O.length===0){this.hls.trigger(d.Events.ERROR,{type:L.ErrorTypes.MEDIA_ERROR,details:L.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});return}O.forEach(function(b){m.executeNext(b)})}},x.createSourceBuffers=function(f){var m=this.sourceBuffer,g=this.mediaSource;if(!g)throw Error("createSourceBuffers called when mediaSource was null");var R=0;for(var O in f)if(!m[O]){var b=f[O];if(!b)throw Error("source buffer exists for track "+O+", however track does not");var P=b.levelCodec||b.codec,F=b.container+";codecs="+P;M.logger.log("[buffer-controller]: creating sourceBuffer("+F+")");try{var T=m[O]=g.addSourceBuffer(F),C=O;this.addBufferListener(C,"updatestart",this._onSBUpdateStart),this.addBufferListener(C,"updateend",this._onSBUpdateEnd),this.addBufferListener(C,"error",this._onSBUpdateError),this.tracks[O]={buffer:T,codec:P,container:b.container,levelCodec:b.levelCodec,metadata:b.metadata,id:b.id},R++}catch(y){M.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+y.message),this.hls.trigger(d.Events.ERROR,{type:L.ErrorTypes.MEDIA_ERROR,details:L.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:y,mimeType:F})}}R&&this.hls.trigger(d.Events.BUFFER_CREATED,{tracks:this.tracks})},x._onSBUpdateStart=function(f){var m=this.operationQueue,g=m.current(f);g.onStart()},x._onSBUpdateEnd=function(f){var m=this.operationQueue,g=m.current(f);g.onComplete(),m.shiftAndExecuteNext(f)},x._onSBUpdateError=function(f,m){M.logger.error("[buffer-controller]: "+f+" SourceBuffer error",m),this.hls.trigger(d.Events.ERROR,{type:L.ErrorTypes.MEDIA_ERROR,details:L.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var g=this.operationQueue.current(f);g&&g.onError(m)},x.removeExecutor=function(f,m,g){var R=this.media,O=this.mediaSource,b=this.operationQueue,P=this.sourceBuffer,F=P[f];if(!R||!O||!F){M.logger.warn("[buffer-controller]: Attempting to remove from the "+f+" SourceBuffer, but it does not exist"),b.shiftAndExecuteNext(f);return}var T=(0,v.isFiniteNumber)(R.duration)?R.duration:1/0,C=(0,v.isFiniteNumber)(O.duration)?O.duration:1/0,y=Math.max(0,m),_=Math.min(g,T,C);_>y&&!F.ending?(F.ended=!1,M.logger.log("[buffer-controller]: Removing ["+y+","+_+"] from the "+f+" SourceBuffer"),console.assert(!F.updating,f+" sourceBuffer must not be updating"),F.remove(y,_)):b.shiftAndExecuteNext(f)},x.appendExecutor=function(f,m){var g=this.operationQueue,R=this.sourceBuffer,O=R[m];if(!O){M.logger.warn("[buffer-controller]: Attempting to append to the "+m+" SourceBuffer, but it does not exist"),g.shiftAndExecuteNext(m);return}O.ended=!1,console.assert(!O.updating,m+" sourceBuffer must not be updating"),O.appendBuffer(f)},x.blockBuffers=function(f,m){var g=this;if(m===void 0&&(m=this.getSourceBufferTypes()),!m.length){M.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(f);return}var R=this.operationQueue,O=m.map(function(b){return R.appendBlocker(b)});Promise.all(O).then(function(){f(),m.forEach(function(b){var P=g.sourceBuffer[b];(!P||!P.updating)&&R.shiftAndExecuteNext(b)})})},x.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},x.addBufferListener=function(f,m,g){var R=this.sourceBuffer[f];if(R){var O=g.bind(this,f);this.listeners[f].push({event:m,listener:O}),R.addEventListener(m,O)}},x.removeBufferListeners=function(f){var m=this.sourceBuffer[f];m&&this.listeners[f].forEach(function(g){m.removeEventListener(g.event,g.listener)})},A}()},"./src/controller/buffer-operation-queue.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v=a("./src/utils/logger.ts"),d=function(){function M(B){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=B}var L=M.prototype;return L.append=function(I,p){var w=this.queues[p];w.push(I),w.length===1&&this.buffers[p]&&this.executeNext(p)},L.insertAbort=function(I,p){var w=this.queues[p];w.unshift(I),this.executeNext(p)},L.appendBlocker=function(I){var p,w=new Promise(function(E){p=E}),S={execute:p,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(S,I),w},L.executeNext=function(I){var p=this.buffers,w=this.queues,S=p[I],E=w[I];if(E.length){var u=E[0];try{u.execute()}catch(A){v.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),u.onError(A),(!S||!S.updating)&&(E.shift(),this.executeNext(I))}}},L.shiftAndExecuteNext=function(I){this.queues[I].shift(),this.executeNext(I)},L.current=function(I){return this.queues[I][0]},M}()},"./src/controller/cap-level-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>p});var v=a("./src/events.ts");function d(w,S){for(var E=0;E<S.length;E++){var u=S[E];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(w,L(u.key),u)}}function M(w,S,E){return S&&d(w.prototype,S),E&&d(w,E),Object.defineProperty(w,"prototype",{writable:!1}),w}function L(w){var S=B(w,"string");return typeof S=="symbol"?S:String(S)}function B(w,S){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var u=E.call(w,S||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}var I=function(){function w(E){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=E,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var S=w.prototype;return S.setStreamController=function(u){this.streamController=u},S.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},S.registerListeners=function(){var u=this.hls;u.on(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),u.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.on(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},S.unregisterListener=function(){var u=this.hls;u.off(v.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),u.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),u.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),u.off(v.Events.BUFFER_CODECS,this.onBufferCodecs,this),u.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},S.onFpsDropLevelCapping=function(u,A){w.isLevelAllowed(A.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(A.droppedLevel)},S.onMediaAttaching=function(u,A){this.media=A.media instanceof HTMLVideoElement?A.media:null,this.clientRect=null},S.onManifestParsed=function(u,A){var x=this.hls;this.restrictedLevels=[],this.firstLevel=A.firstLevel,x.config.capLevelToPlayerSize&&A.video&&this.startCapping()},S.onBufferCodecs=function(u,A){var x=this.hls;x.config.capLevelToPlayerSize&&A.video&&this.startCapping()},S.onMediaDetaching=function(){this.stopCapping()},S.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var u=this.hls.levels;if(u.length){var A=this.hls;A.autoLevelCapping=this.getMaxLevel(u.length-1),A.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=A.autoLevelCapping}}},S.getMaxLevel=function(u){var A=this,x=this.hls.levels;if(!x.length)return-1;var h=x.filter(function(f,m){return w.isLevelAllowed(m,A.restrictedLevels)&&m<=u});return this.clientRect=null,w.getMaxLevelByMediaSize(h,this.mediaWidth,this.mediaHeight)},S.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},S.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},S.getDimensions=function(){if(this.clientRect)return this.clientRect;var u=this.media,A={width:0,height:0};if(u){var x=u.getBoundingClientRect();A.width=x.width,A.height=x.height,!A.width&&!A.height&&(A.width=x.right-x.left||u.width||0,A.height=x.bottom-x.top||u.height||0)}return this.clientRect=A,A},w.isLevelAllowed=function(u,A){return A===void 0&&(A=[]),A.indexOf(u)===-1},w.getMaxLevelByMediaSize=function(u,A,x){if(!u||!u.length)return-1;for(var h=function(O,b){return b?O.width!==b.width||O.height!==b.height:!0},f=u.length-1,m=0;m<u.length;m+=1){var g=u[m];if((g.width>=A||g.height>=x)&&h(g,u[m+1])){f=m;break}}return f},M(w,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var u=1;if(!this.hls.config.ignoreDevicePixelRatio)try{u=self.devicePixelRatio}catch{}return u}}]),w}();const p=I},"./src/controller/cmcd-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>x});var v=a("./src/events.ts"),d=a("./src/types/cmcd.ts"),M=a("./src/utils/buffer-helper.ts"),L=a("./src/utils/logger.ts");function B(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,p(g.key),g)}}function I(h,f,m){return f&&B(h.prototype,f),m&&B(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function p(h){var f=w(h,"string");return typeof f=="symbol"?f:String(f)}function w(h,f){if(typeof h!="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(h)}function S(h,f){var m=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(m)return(m=m.call(h)).next.bind(m);if(Array.isArray(h)||(m=E(h))||f&&h&&typeof h.length=="number"){m&&(h=m);var g=0;return function(){return g>=h.length?{done:!0}:{done:!1,value:h[g++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(h,f){if(h){if(typeof h=="string")return u(h,f);var m=Object.prototype.toString.call(h).slice(8,-1);if(m==="Object"&&h.constructor&&(m=h.constructor.name),m==="Map"||m==="Set")return Array.from(h);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return u(h,f)}}function u(h,f){(f==null||f>h.length)&&(f=h.length);for(var m=0,g=new Array(f);m<f;m++)g[m]=h[m];return g}function A(){return A=Object.assign?Object.assign.bind():function(h){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g])}return h},A.apply(this,arguments)}var x=function(){function h(m){var g=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){g.initialized&&(g.starved=!0),g.buffering=!0},this.onPlaying=function(){g.initialized||(g.initialized=!0),g.buffering=!1},this.applyPlaylistData=function(b){try{g.apply(b,{ot:d.CMCDObjectType.MANIFEST,su:!g.initialized})}catch(P){L.logger.warn("Could not generate manifest CMCD data.",P)}},this.applyFragmentData=function(b){try{var P=b.frag,F=g.hls.levels[P.level],T=g.getObjectType(P),C={d:P.duration*1e3,ot:T};(T===d.CMCDObjectType.VIDEO||T===d.CMCDObjectType.AUDIO||T==d.CMCDObjectType.MUXED)&&(C.br=F.bitrate/1e3,C.tb=g.getTopBandwidth(T)/1e3,C.bl=g.getBufferLength(T)),g.apply(b,C)}catch(y){L.logger.warn("Could not generate segment CMCD data.",y)}},this.hls=m;var R=this.config=m.config,O=R.cmcd;O!=null&&(R.pLoader=this.createPlaylistLoader(),R.fLoader=this.createFragmentLoader(),this.sid=O.sessionId||h.uuid(),this.cid=O.contentId,this.useHeaders=O.useHeaders===!0,this.registerListeners())}var f=h.prototype;return f.registerListeners=function(){var g=this.hls;g.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.on(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),g.on(v.Events.BUFFER_CREATED,this.onBufferCreated,this)},f.unregisterListeners=function(){var g=this.hls;g.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.off(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),g.off(v.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},f.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},f.onMediaAttached=function(g,R){this.media=R.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},f.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},f.onBufferCreated=function(g,R){var O,b;this.audioBuffer=(O=R.tracks.audio)===null||O===void 0?void 0:O.buffer,this.videoBuffer=(b=R.tracks.video)===null||b===void 0?void 0:b.buffer},f.createData=function(){var g;return{v:d.CMCDVersion,sf:d.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:(g=this.media)===null||g===void 0?void 0:g.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},f.apply=function(g,R){R===void 0&&(R={}),A(R,this.createData());var O=R.ot===d.CMCDObjectType.INIT||R.ot===d.CMCDObjectType.VIDEO||R.ot===d.CMCDObjectType.MUXED;if(this.starved&&O&&(R.bs=!0,R.su=!0,this.starved=!1),R.su==null&&(R.su=this.buffering),this.useHeaders){var b=h.toHeaders(R);if(!Object.keys(b).length)return;g.headers||(g.headers={}),A(g.headers,b)}else{var P=h.toQuery(R);if(!P)return;g.url=h.appendQueryToUri(g.url,P)}},f.getObjectType=function(g){var R=g.type;if(R==="subtitle")return d.CMCDObjectType.TIMED_TEXT;if(g.sn==="initSegment")return d.CMCDObjectType.INIT;if(R==="audio")return d.CMCDObjectType.AUDIO;if(R==="main")return this.hls.audioTracks.length?d.CMCDObjectType.VIDEO:d.CMCDObjectType.MUXED},f.getTopBandwidth=function(g){var R=0,O,b=this.hls;if(g===d.CMCDObjectType.AUDIO)O=b.audioTracks;else{var P=b.maxAutoLevel,F=P>-1?P+1:b.levels.length;O=b.levels.slice(0,F)}for(var T=S(O),C;!(C=T()).done;){var y=C.value;y.bitrate>R&&(R=y.bitrate)}return R>0?R:NaN},f.getBufferLength=function(g){var R=this.hls.media,O=g===d.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;if(!O||!R)return NaN;var b=M.BufferHelper.bufferInfo(O,R.currentTime,this.config.maxBufferHole);return b.len*1e3},f.createPlaylistLoader=function(){var g=this.config.pLoader,R=this.applyPlaylistData,O=g||this.config.loader;return function(){function b(F){this.loader=void 0,this.loader=new O(F)}var P=b.prototype;return P.destroy=function(){this.loader.destroy()},P.abort=function(){this.loader.abort()},P.load=function(T,C,y){R(T),this.loader.load(T,C,y)},I(b,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),b}()},f.createFragmentLoader=function(){var g=this.config.fLoader,R=this.applyFragmentData,O=g||this.config.loader;return function(){function b(F){this.loader=void 0,this.loader=new O(F)}var P=b.prototype;return P.destroy=function(){this.loader.destroy()},P.abort=function(){this.loader.abort()},P.load=function(T,C,y){R(T),this.loader.load(T,C,y)},I(b,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),b}()},h.uuid=function(){var g=URL.createObjectURL(new Blob),R=g.toString();return URL.revokeObjectURL(g),R.slice(R.lastIndexOf("/")+1)},h.serialize=function(g){for(var R=[],O=function(K){return!Number.isNaN(K)&&K!=null&&K!==""&&K!==!1},b=function(K){return Math.round(K)},P=function(K){return b(K/100)*100},F=function(K){return encodeURIComponent(K)},T={br:b,d:b,bl:P,dl:P,mtp:P,nor:F,rtp:P,tb:b},C=Object.keys(g||{}).sort(),y=S(C),_;!(_=y()).done;){var c=_.value,D=g[c];if(O(D)&&!(c==="v"&&D===1)&&!(c=="pr"&&D===1)){var N=T[c];N&&(D=N(D));var k=typeof D,U=void 0;c==="ot"||c==="sf"||c==="st"?U=c+"="+D:k==="boolean"?U=c:k==="number"?U=c+"="+D:U=c+"="+JSON.stringify(D),R.push(U)}}return R.join(",")},h.toHeaders=function(g){for(var R=Object.keys(g),O={},b=["Object","Request","Session","Status"],P=[{},{},{},{}],F={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},T=0,C=R;T<C.length;T++){var y=C[T],_=F[y]!=null?F[y]:1;P[_][y]=g[y]}for(var c=0;c<P.length;c++){var D=h.serialize(P[c]);D&&(O["CMCD-"+b[c]]=D)}return O},h.toQuery=function(g){return"CMCD="+encodeURIComponent(h.serialize(g))},h.appendQueryToUri=function(g,R){if(!R)return g;var O=g.includes("?")?"&":"?";return""+g+O+R},h}()},"./src/controller/eme-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>T});var v=a("./src/events.ts"),d=a("./src/errors.ts"),M=a("./src/utils/logger.ts"),L=a("./src/utils/mediakeys-helper.ts"),B=a("./src/utils/keysystem-util.ts"),I=a("./src/utils/numeric-encoding-utils.ts"),p=a("./src/loader/level-key.ts"),w=a("./src/utils/hex.ts"),S=a("./src/utils/mp4-tools.ts"),E=a("./node_modules/eventemitter3/index.js"),u=a.n(E);function A(C,y){C.prototype=Object.create(y.prototype),C.prototype.constructor=C,g(C,y)}function x(C){var y=typeof Map=="function"?new Map:void 0;return x=function(c){if(c===null||!m(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof y<"u"){if(y.has(c))return y.get(c);y.set(c,D)}function D(){return h(c,arguments,R(this).constructor)}return D.prototype=Object.create(c.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),g(D,c)},x(C)}function h(C,y,_){return f()?h=Reflect.construct.bind():h=function(D,N,k){var U=[null];U.push.apply(U,N);var $=Function.bind.apply(D,U),K=new $;return k&&g(K,k.prototype),K},h.apply(null,arguments)}function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(C){return Function.toString.call(C).indexOf("[native code]")!==-1}function g(C,y){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,D){return c.__proto__=D,c},g(C,y)}function R(C){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},R(C)}var O=3,b="[eme]",P=function(){function C(_){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=C.CDMCleanupPromise?[C.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=M.logger.debug.bind(M.logger,b),this.log=M.logger.log.bind(M.logger,b),this.warn=M.logger.warn.bind(M.logger,b),this.error=M.logger.error.bind(M.logger,b),this.hls=_,this.config=_.config,this.registerListeners()}var y=C.prototype;return y.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null},y.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},y.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(v.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(v.Events.MANIFEST_LOADED,this.onManifestLoaded,this)},y.getLicenseServerUrl=function(c){var D=this.config,N=D.drmSystems,k=D.widevineLicenseUrl,U=N[c];if(U)return U.licenseUrl;if(c===L.KeySystems.WIDEVINE&&k)return k;throw new Error('no license server URL configured for key-system "'+c+'"')},y.getServerCertificateUrl=function(c){var D=this.config.drmSystems,N=D[c];if(N)return N.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+c+'"]')},y.attemptKeySystemAccess=function(c){var D=this,N=this.hls.levels,k=function(W,z,H){return!!W&&H.indexOf(W)===z},U=N.map(function(K){return K.audioCodec}).filter(k),$=N.map(function(K){return K.videoCodec}).filter(k);return U.length+$.length===0&&$.push("avc1.42e01e"),new Promise(function(K,W){var z=function H(G){var X=G.shift();D.getMediaKeysPromise(X,U,$).then(function(Y){return K({keySystem:X,mediaKeys:Y})}).catch(function(Y){G.length?H(G):Y instanceof F?W(Y):W(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_NO_ACCESS,error:Y,fatal:!0},Y.message))})};z(c)})},y.requestMediaKeySystemAccess=function(c,D){var N=this.config.requestMediaKeySystemAccessFunc;if(typeof N!="function"){var k="Configured requestMediaKeySystemAccess is not a function "+N;return L.requestMediaKeySystemAccess===null&&self.location.protocol==="http:"&&(k="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(k))}return N(c,D)},y.getMediaKeysPromise=function(c,D,N){var k=this,U=(0,L.getSupportedMediaKeySystemConfigurations)(c,D,N,this.config.drmSystemOptions),$=this.keySystemAccessPromises[c],K=$==null?void 0:$.keySystemAccess;if(!K){this.log('Requesting encrypted media "'+c+'" key-system access with config: '+JSON.stringify(U)),K=this.requestMediaKeySystemAccess(c,U);var W=this.keySystemAccessPromises[c]={keySystemAccess:K};return K.catch(function(z){k.log('Failed to obtain access to key-system "'+c+'": '+z)}),K.then(function(z){k.log('Access for key-system "'+z.keySystem+'" obtained');var H=k.fetchServerCertificate(c);return k.log('Create media-keys for "'+c+'"'),W.mediaKeys=z.createMediaKeys().then(function(G){return k.log('Media-keys created for "'+c+'"'),H.then(function(X){return X?k.setMediaKeysServerCertificate(G,c,X):G})}),W.mediaKeys.catch(function(G){k.error('Failed to create media-keys for "'+c+'"}: '+G)}),W.mediaKeys})}return K.then(function(){return $.mediaKeys})},y.createMediaKeySessionContext=function(c){var D=c.decryptdata,N=c.keySystem,k=c.mediaKeys;console.assert(!!k,"mediaKeys is defined"),this.log('Creating key-system session "'+N+'" keyId: '+w.default.hexDump(D.keyId||[]));var U=k.createSession(),$={decryptdata:D,keySystem:N,mediaKeys:k,mediaKeysSession:U,keyStatus:"status-pending"};return this.mediaKeySessions.push($),$},y.renewKeySession=function(c){var D=c.decryptdata;if(D.pssh){var N=this.createMediaKeySessionContext(c),k=this.getKeyIdString(D),U="cenc";this.keyIdToKeySessionPromise[k]=this.generateRequestWithPreferredKeySession(N,U,D.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(c)},y.getKeyIdString=function(c){if(!c)throw new Error("Could not read keyId of undefined decryptdata");if(c.keyId===null)throw new Error("keyId is null");return w.default.hexDump(c.keyId)},y.updateKeySession=function(c,D){var N,k=c.mediaKeysSession;return this.log('Updating key-session "'+k.sessionId+'" for keyID '+w.default.hexDump(((N=c.decryptdata)===null||N===void 0?void 0:N.keyId)||[])+`
      } (data length: `+(D&&D.byteLength)+")"),k.update(D)},y.selectKeySystemFormat=function(c){var D=Object.keys(c.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+c.sn+" "+c.type+": "+c.level+") key formats "+D.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(D)),this.keyFormatPromise},y.getKeyFormatPromise=function(c){var D=this;return new Promise(function(N,k){var U=(0,L.getKeySystemsForConfig)(D.config),$=c.map(L.keySystemFormatToKeySystemDomain).filter(function(K){return!!K&&U.indexOf(K)!==-1});return D.getKeySystemSelectionPromise($).then(function(K){var W=K.keySystem,z=(0,L.keySystemDomainToKeySystemFormat)(W);z?N(z):k(new Error('Unable to find format for key-system "'+W+'"'))}).catch(k)})},y.loadKey=function(c){var D=this,N=c.keyInfo.decryptdata,k=this.getKeyIdString(N),U="(keyId: "+k+' format: "'+N.keyFormat+'" method: '+N.method+" uri: "+N.uri+")";this.log("Starting session for key "+U);var $=this.keyIdToKeySessionPromise[k];return $||($=this.keyIdToKeySessionPromise[k]=this.getKeySystemForKeyPromise(N).then(function(K){var W=K.keySystem,z=K.mediaKeys;return D.throwIfDestroyed(),D.log("Handle encrypted media sn: "+c.frag.sn+" "+c.frag.type+": "+c.frag.level+" using key "+U),D.attemptSetMediaKeys(W,z).then(function(){D.throwIfDestroyed();var H=D.createMediaKeySessionContext({keySystem:W,mediaKeys:z,decryptdata:N}),G="cenc";return D.generateRequestWithPreferredKeySession(H,G,N.pssh,"playlist-key")})}),$.catch(function(K){return D.handleError(K)})),$},y.throwIfDestroyed=function(c){if(!this.hls)throw new Error("invalid state")},y.handleError=function(c){this.hls&&(this.error(c.message),c instanceof F?this.hls.trigger(v.Events.ERROR,c.data):this.hls.trigger(v.Events.ERROR,{type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_NO_KEYS,error:c,fatal:!0}))},y.getKeySystemForKeyPromise=function(c){var D=this.getKeyIdString(c),N=this.keyIdToKeySessionPromise[D];if(!N){var k=(0,L.keySystemFormatToKeySystemDomain)(c.keyFormat),U=k?[k]:(0,L.getKeySystemsForConfig)(this.config);return this.attemptKeySystemAccess(U)}return N},y.getKeySystemSelectionPromise=function(c){if(c.length||(c=(0,L.getKeySystemsForConfig)(this.config)),c.length===0)throw new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(c)},y._onMediaEncrypted=function(c){var D=this,N=c.initDataType,k=c.initData;if(this.debug('"'+c.type+'" event: init data type: "'+N+'"'),k!==null){var U,$;if(N==="sinf"&&this.config.drmSystems[L.KeySystems.FAIRPLAY]){var K=(0,S.bin2str)(new Uint8Array(k));try{var W=(0,I.base64Decode)(JSON.parse(K).sinf),z=(0,S.parseSinf)(new Uint8Array(W));if(!z)return;U=z.subarray(8,24),$=L.KeySystems.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{var H=(0,S.parsePssh)(k);if(H===null)return;H.version===0&&H.systemId===L.KeySystemIds.WIDEVINE&&H.data&&(U=H.data.subarray(8,24)),$=(0,L.keySystemIdToKeySystemDomain)(H.systemId)}if(!(!$||!U)){for(var G=w.default.hexDump(U),X=this.keyIdToKeySessionPromise,Y=this.mediaKeySessions,Z=X[G],q=function(ae){var ge=Y[ae],de=ge.decryptdata;if(de.pssh||!de.keyId)return"continue";var oe=w.default.hexDump(de.keyId);if(G===oe||de.uri.replace(/-/g,"").indexOf(G)!==-1)return Z=X[oe],delete X[oe],de.pssh=new Uint8Array(k),de.keyId=U,Z=X[G]=Z.then(function(){return D.generateRequestWithPreferredKeySession(ge,N,k,"encrypted-event-key-match")}),"break"},ne=0;ne<Y.length;ne++){var te=q(ne);if(te!=="continue"&&te==="break")break}Z||(Z=X[G]=this.getKeySystemSelectionPromise([$]).then(function(ie){var ae,ge=ie.keySystem,de=ie.mediaKeys;D.throwIfDestroyed();var oe=new p.LevelKey("ISO-23001-7",G,(ae=(0,L.keySystemDomainToKeySystemFormat)(ge))!=null?ae:"");return oe.pssh=new Uint8Array(k),oe.keyId=U,D.attemptSetMediaKeys(ge,de).then(function(){D.throwIfDestroyed();var he=D.createMediaKeySessionContext({decryptdata:oe,keySystem:ge,mediaKeys:de});return D.generateRequestWithPreferredKeySession(he,N,k,"encrypted-event-no-match")})})),Z.catch(function(ie){return D.handleError(ie)})}}},y._onWaitingForKey=function(c){this.log('"'+c.type+'" event')},y.attemptSetMediaKeys=function(c,D){var N=this,k=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+c+'"');var U=Promise.all(k).then(function(){if(!N.media)throw new Error("Attempted to set mediaKeys without media element attached");return N.media.setMediaKeys(D)});return this.setMediaKeysQueue.push(U),U.then(function(){N.log('Media-keys set for "'+c+'"'),k.push(U),N.setMediaKeysQueue=N.setMediaKeysQueue.filter(function($){return k.indexOf($)===-1})})},y.generateRequestWithPreferredKeySession=function(c,D,N,k){var U,$,K=this,W=(U=this.config.drmSystems)===null||U===void 0||($=U[c.keySystem])===null||$===void 0?void 0:$.generateRequest;if(W)try{var z=W.call(this.hls,D,N,c);if(!z)throw new Error("Invalid response from configured generateRequest filter");D=z.initDataType,N=c.decryptdata.pssh=z.initData?new Uint8Array(z.initData):null}catch(Z){var H;if(this.warn(Z.message),(H=this.hls)!==null&&H!==void 0&&H.config.debug)throw Z}if(N===null)return this.log('Skipping key-session request for "'+k+'" (no initData)'),Promise.resolve(c);var G=this.getKeyIdString(c.decryptdata);this.log('Generating key-session request for "'+k+'": '+G+" (init data type: "+D+" length: "+(N?N.byteLength:null)+")");var X=new(u());c.mediaKeysSession.onmessage=function(Z){var q=c.mediaKeysSession;if(!q){X.emit("error",new Error("invalid state"));return}var ne=Z.messageType,te=Z.message;K.log('"'+ne+'" message event for session "'+q.sessionId+'" message size: '+te.byteLength),ne==="license-request"||ne==="license-renewal"?K.renewLicense(c,te).catch(function(ie){K.handleError(ie),X.emit("error",ie)}):ne==="license-release"?c.keySystem===L.KeySystems.FAIRPLAY&&(K.updateKeySession(c,(0,B.strToUtf8array)("acknowledged")),K.removeSession(c)):K.warn('unhandled media key message type "'+ne+'"')},c.mediaKeysSession.onkeystatuseschange=function(Z){var q=c.mediaKeysSession;if(!q){X.emit("error",new Error("invalid state"));return}K.onKeyStatusChange(c);var ne=c.keyStatus;X.emit("keyStatus",ne),ne==="expired"&&(K.warn(c.keySystem+" expired for key "+G),K.renewKeySession(c))};var Y=new Promise(function(Z,q){X.on("error",q),X.on("keyStatus",function(ne){ne.startsWith("usable")?Z():ne==="output-restricted"?q(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):ne==="internal-error"?q(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+ne+'"')):ne==="expired"?q(new Error("key expired while generating request")):K.warn('unhandled key status change "'+ne+'"')})});return c.mediaKeysSession.generateRequest(D,N).then(function(){var Z;K.log('Request generated for key-session "'+((Z=c.mediaKeysSession)===null||Z===void 0?void 0:Z.sessionId)+'" keyId: '+G)}).catch(function(Z){throw new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_NO_SESSION,error:Z,fatal:!1},"Error generating key-session request: "+Z)}).then(function(){return Y}).catch(function(Z){throw X.removeAllListeners(),K.removeSession(c),Z}).then(function(){return X.removeAllListeners(),c})},y.onKeyStatusChange=function(c){var D=this;c.mediaKeysSession.keyStatuses.forEach(function(N,k){D.log('key status change "'+N+'" for keyStatuses keyId: '+w.default.hexDump("buffer"in k?new Uint8Array(k.buffer,k.byteOffset,k.byteLength):new Uint8Array(k))+" session keyId: "+w.default.hexDump(new Uint8Array(c.decryptdata.keyId||[]))+" uri: "+c.decryptdata.uri),c.keyStatus=N})},y.fetchServerCertificate=function(c){var D=this;return new Promise(function(N,k){var U=D.getServerCertificateUrl(c);if(!U)return N();D.log('Fetching serverCertificate for "'+c+'"');var $=new XMLHttpRequest;$.open("GET",U,!0),$.responseType="arraybuffer",$.onreadystatechange=function(){$.readyState===XMLHttpRequest.DONE&&($.status===200?N($.response):k(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:$},'"'+c+'" certificate request XHR failed ('+U+"). Status: "+$.status+" ("+$.statusText+")")))},$.send()})},y.setMediaKeysServerCertificate=function(c,D,N){var k=this;return new Promise(function(U,$){c.setServerCertificate(N).then(function(K){k.log("setServerCertificate "+(K?"success":"not supported by CDM")+" ("+(N==null?void 0:N.byteLength)+') on "'+D+'"'),U(c)}).catch(function(K){$(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:K,fatal:!0},K.message))})})},y.renewLicense=function(c,D){var N=this;return this.requestLicense(c,new Uint8Array(D)).then(function(k){return N.updateKeySession(c,new Uint8Array(k)).catch(function(U){throw new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:U,fatal:!0},U.message)})})},y.setupLicenseXHR=function(c,D,N,k){var U=this,$=this.config.licenseXhrSetup;return $?Promise.resolve().then(function(){if(!N.decryptdata)throw new Error("Key removed");return $.call(U.hls,c,D,N,k)}).catch(function(K){if(!N.decryptdata)throw K;return c.open("POST",D,!0),$.call(U.hls,c,D,N,k)}).then(function(K){c.readyState||c.open("POST",D,!0);var W=K||k;return{xhr:c,licenseChallenge:W}}):(c.open("POST",D,!0),Promise.resolve({xhr:c,licenseChallenge:k}))},y.requestLicense=function(c,D){var N=this;return new Promise(function(k,U){var $=N.getLicenseServerUrl(c.keySystem);N.log("Sending license request to URL: "+$);var K=new XMLHttpRequest;K.responseType="arraybuffer",K.onreadystatechange=function(){if(!N.hls||!c.mediaKeysSession)return U(new Error("invalid state"));if(K.readyState===4)if(K.status===200){N._requestLicenseFailureCount=0;var W=K.response;N.log("License received "+(W instanceof ArrayBuffer?W.byteLength:W));var z=N.config.licenseResponseCallback;if(z)try{W=z.call(N.hls,K,$,c)}catch(G){N.error(G)}k(W)}else if(N._requestLicenseFailureCount++,N._requestLicenseFailureCount>O||K.status>=400&&K.status<500)U(new F({type:d.ErrorTypes.KEY_SYSTEM_ERROR,details:d.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:K},"License Request XHR failed ("+$+"). Status: "+K.status+" ("+K.statusText+")"));else{var H=O-N._requestLicenseFailureCount+1;N.warn("Retrying license request, "+H+" attempts left"),N.requestLicense(c,D).then(k,U)}},c.licenseXhr&&c.licenseXhr.readyState!==XMLHttpRequest.DONE&&c.licenseXhr.abort(),c.licenseXhr=K,N.setupLicenseXHR(K,$,c,D).then(function(W){var z=W.xhr,H=W.licenseChallenge;z.send(H)})})},y.onMediaAttached=function(c,D){if(this.config.emeEnabled){var N=D.media;this.media=N,N.addEventListener("encrypted",this.onMediaEncrypted),N.addEventListener("waitingforkey",this.onWaitingForKey)}},y.onMediaDetached=function(){var c=this,D=this.media,N=this.mediaKeySessions;D&&(D.removeEventListener("encrypted",this.onMediaEncrypted),D.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},p.LevelKey.clearKeyUriToKeyIdMap();var k=N.length;C.CDMCleanupPromise=Promise.all(N.map(function(U){return c.removeSession(U)}).concat(D==null?void 0:D.setMediaKeys(null).catch(function(U){c.log("Could not clear media keys: "+U+". media.src: "+(D==null?void 0:D.src))}))).then(function(){k&&(c.log("finished closing key sessions and clearing media keys"),N.length=0)}).catch(function(U){c.log("Could not close sessions and clear media keys: "+U+". media.src: "+(D==null?void 0:D.src))})},y.onManifestLoaded=function(c,D){var N=D.sessionKeys;if(!(!N||!this.config.emeEnabled)&&!this.keyFormatPromise){var k=N.reduce(function(U,$){return U.indexOf($.keyFormat)===-1&&U.push($.keyFormat),U},[]);this.log("Selecting key-system from session-keys "+k.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(k)}},y.removeSession=function(c){var D=this,N=c.mediaKeysSession,k=c.licenseXhr;if(N){this.log("Remove licenses and keys and close session "+N.sessionId),N.onmessage=null,N.onkeystatuseschange=null,k&&k.readyState!==XMLHttpRequest.DONE&&k.abort(),c.mediaKeysSession=c.decryptdata=c.licenseXhr=void 0;var U=this.mediaKeySessions.indexOf(c);return U>-1&&this.mediaKeySessions.splice(U,1),N.remove().catch(function($){D.log("Could not remove session: "+$)}).then(function(){return N.close()}).catch(function($){D.log("Could not close session: "+$)})}},C}();P.CDMCleanupPromise=void 0;var F=function(C){A(y,C);function y(_,c){var D;return D=C.call(this,c)||this,D.data=void 0,D.data=_,_.err=_.error,D}return y}(x(Error));const T=P},"./src/controller/fps-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>L});var v=a("./src/events.ts"),d=a("./src/utils/logger.ts"),M=function(){function B(p){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=p,this.registerListeners()}var I=B.prototype;return I.setStreamController=function(w){this.streamController=w},I.registerListeners=function(){this.hls.on(v.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},I.unregisterListeners=function(){this.hls.off(v.Events.MEDIA_ATTACHING,this.onMediaAttaching)},I.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},I.onMediaAttaching=function(w,S){var E=this.hls.config;if(E.capLevelOnFPSDrop){var u=S.media instanceof self.HTMLVideoElement?S.media:null;this.media=u,u&&typeof u.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),E.fpsDroppedMonitoringPeriod)}},I.checkFPS=function(w,S,E){var u=performance.now();if(S){if(this.lastTime){var A=u-this.lastTime,x=E-this.lastDroppedFrames,h=S-this.lastDecodedFrames,f=1e3*x/A,m=this.hls;if(m.trigger(v.Events.FPS_DROP,{currentDropped:x,currentDecoded:h,totalDroppedFrames:E}),f>0&&x>m.config.fpsDroppedMonitoringThreshold*h){var g=m.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+g),g>0&&(m.autoLevelCapping===-1||m.autoLevelCapping>=g)&&(g=g-1,m.trigger(v.Events.FPS_DROP_LEVEL_CAPPING,{level:g,droppedLevel:m.currentLevel}),m.autoLevelCapping=g,this.streamController.nextLevelSwitch())}}this.lastTime=u,this.lastDroppedFrames=E,this.lastDecodedFrames=S}},I.checkFPSInterval=function(){var w=this.media;if(w)if(this.isVideoPlaybackQualityAvailable){var S=w.getVideoPlaybackQuality();this.checkFPS(w,S.totalVideoFrames,S.droppedVideoFrames)}else this.checkFPS(w,w.webkitDecodedFrameCount,w.webkitDroppedFrameCount)},B}();const L=M},"./src/controller/fragment-finders.ts":(s,l,a)=>{a.r(l),a.d(l,{findFragWithCC:()=>p,findFragmentByPDT:()=>M,findFragmentByPTS:()=>L,fragmentWithinToleranceTest:()=>B,pdtWithinToleranceTest:()=>I});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/binary-search.ts");function M(w,S,E){if(S===null||!Array.isArray(w)||!w.length||!(0,v.isFiniteNumber)(S))return null;var u=w[0].programDateTime;if(S<(u||0))return null;var A=w[w.length-1].endProgramDateTime;if(S>=(A||0))return null;E=E||0;for(var x=0;x<w.length;++x){var h=w[x];if(I(S,E,h))return h}return null}function L(w,S,E,u){E===void 0&&(E=0),u===void 0&&(u=0);var A=null;if(w?A=S[w.sn-S[0].sn+1]||null:E===0&&S[0].start===0&&(A=S[0]),A&&B(E,u,A)===0)return A;var x=d.default.search(S,B.bind(null,E,u));return x&&(x!==w||!A)?x:A}function B(w,S,E){if(w===void 0&&(w=0),S===void 0&&(S=0),E.start<=w&&E.start+E.duration>w)return 0;var u=Math.min(S,E.duration+(E.deltaPTS?E.deltaPTS:0));return E.start+E.duration-u<=w?1:E.start-u>w&&E.start?-1:0}function I(w,S,E){var u=Math.min(S,E.duration+(E.deltaPTS?E.deltaPTS:0))*1e3,A=E.endProgramDateTime||0;return A-u>w}function p(w,S){return d.default.search(w,function(E){return E.cc<S?1:E.cc>S?-1:0})}},"./src/controller/fragment-tracker.ts":(s,l,a)=>{a.r(l),a.d(l,{FragmentState:()=>M,FragmentTracker:()=>L});var v=a("./src/events.ts"),d=a("./src/types/loader.ts"),M;(function(p){p.NOT_LOADED="NOT_LOADED",p.APPENDING="APPENDING",p.PARTIAL="PARTIAL",p.OK="OK"})(M||(M={}));var L=function(){function p(S){this.activeFragment=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=S,this._registerListeners()}var w=p.prototype;return w._registerListeners=function(){var E=this.hls;E.on(v.Events.BUFFER_APPENDED,this.onBufferAppended,this),E.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),E.on(v.Events.FRAG_LOADED,this.onFragLoaded,this)},w._unregisterListeners=function(){var E=this.hls;E.off(v.Events.BUFFER_APPENDED,this.onBufferAppended,this),E.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this),E.off(v.Events.FRAG_LOADED,this.onFragLoaded,this)},w.destroy=function(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.activeFragment=this.activeParts=null},w.getAppendedFrag=function(E,u){if(u===d.PlaylistLevelType.MAIN){var A=this.activeFragment,x=this.activeParts;if(!A)return null;if(x)for(var h=x.length;h--;){var f=x[h],m=f?f.end:A.appendedPTS;if(f.start<=E&&m!==void 0&&E<=m)return h>9&&(this.activeParts=x.slice(h-9)),f}else if(A.start<=E&&A.appendedPTS!==void 0&&E<=A.appendedPTS)return A}return this.getBufferedFrag(E,u)},w.getBufferedFrag=function(E,u){for(var A=this.fragments,x=Object.keys(A),h=x.length;h--;){var f=A[x[h]];if((f==null?void 0:f.body.type)===u&&f.buffered){var m=f.body;if(m.start<=E&&E<=m.end)return m}}return null},w.detectEvictedFragments=function(E,u,A){var x=this;this.timeRanges&&(this.timeRanges[E]=u),Object.keys(this.fragments).forEach(function(h){var f=x.fragments[h];if(f){if(!f.buffered&&!f.loaded){f.body.type===A&&x.removeFragment(f.body);return}var m=f.range[E];m&&m.time.some(function(g){var R=!x.isTimeBuffered(g.startPTS,g.endPTS,u);return R&&x.removeFragment(f.body),R})}})},w.detectPartialFragments=function(E){var u=this,A=this.timeRanges,x=E.frag,h=E.part;if(!(!A||x.sn==="initSegment")){var f=I(x),m=this.fragments[f];m&&(Object.keys(A).forEach(function(g){var R=x.elementaryStreams[g];if(R){var O=A[g],b=h!==null||R.partial===!0;m.range[g]=u.getBufferedTimes(x,h,b,O)}}),m.loaded=null,Object.keys(m.range).length?(m.buffered=!0,m.body.endList&&(this.endListFragments[m.body.type]=m)):this.removeFragment(m.body))}},w.fragBuffered=function(E){var u=I(E),A=this.fragments[u];A&&(A.loaded=null,A.buffered=!0)},w.getBufferedTimes=function(E,u,A,x){for(var h={time:[],partial:A},f=u?u.start:E.start,m=u?u.end:E.end,g=E.minEndPTS||m,R=E.maxStartPTS||f,O=0;O<x.length;O++){var b=x.start(O)-this.bufferPadding,P=x.end(O)+this.bufferPadding;if(R>=b&&g<=P){h.time.push({startPTS:Math.max(f,x.start(O)),endPTS:Math.min(m,x.end(O))});break}else if(f<P&&m>b)h.partial=!0,h.time.push({startPTS:Math.max(f,x.start(O)),endPTS:Math.min(m,x.end(O))});else if(m<=b)break}return h},w.getPartialFragment=function(E){var u=null,A,x,h,f=0,m=this.bufferPadding,g=this.fragments;return Object.keys(g).forEach(function(R){var O=g[R];O&&B(O)&&(x=O.body.start-m,h=O.body.end+m,E>=x&&E<=h&&(A=Math.min(E-x,h-E),f<=A&&(u=O.body,f=A)))}),u},w.isEndListAppended=function(E){var u=this.endListFragments[E];return u!==void 0&&(u.buffered||B(u))},w.getState=function(E){var u=I(E),A=this.fragments[u];return A?A.buffered?B(A)?M.PARTIAL:M.OK:M.APPENDING:M.NOT_LOADED},w.isTimeBuffered=function(E,u,A){for(var x,h,f=0;f<A.length;f++){if(x=A.start(f)-this.bufferPadding,h=A.end(f)+this.bufferPadding,E>=x&&u<=h)return!0;if(u<=x)return!1}return!1},w.onFragLoaded=function(E,u){var A=u.frag,x=u.part;if(!(A.sn==="initSegment"||A.bitrateTest||x)){var h=I(A);this.fragments[h]={body:A,loaded:u,buffered:!1,range:Object.create(null)}}},w.onBufferAppended=function(E,u){var A=this,x=u.frag,h=u.part,f=u.timeRanges;if(x.type===d.PlaylistLevelType.MAIN)if(this.activeFragment!==x&&(this.activeFragment=x,x.appendedPTS=void 0),h){var m=this.activeParts;m||(this.activeParts=m=[]),m.push(h)}else this.activeParts=null;this.timeRanges=f,Object.keys(f).forEach(function(g){var R=f[g];if(A.detectEvictedFragments(g,R),!h&&x.type===d.PlaylistLevelType.MAIN){var O=x.elementaryStreams[g];if(!O)return;for(var b=0;b<R.length;b++){var P=R.end(b);P<=O.endPTS&&P>O.startPTS?x.appendedPTS=Math.max(P,x.appendedPTS||0):x.appendedPTS=O.endPTS}}})},w.onFragBuffered=function(E,u){this.detectPartialFragments(u)},w.hasFragment=function(E){var u=I(E);return!!this.fragments[u]},w.removeFragmentsInRange=function(E,u,A){var x=this;Object.keys(this.fragments).forEach(function(h){var f=x.fragments[h];if(f&&f.buffered){var m=f.body;m.type===A&&m.start<u&&m.end>E&&x.removeFragment(m)}})},w.removeFragment=function(E){var u=I(E);E.stats.loaded=0,E.clearElementaryStreamInfo(),E.appendedPTS=void 0,delete this.fragments[u],E.endList&&delete this.endListFragments[E.type]},w.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activeFragment=null,this.activeParts=null},p}();function B(p){var w,S;return p.buffered&&(((w=p.range.video)===null||w===void 0?void 0:w.partial)||((S=p.range.audio)===null||S===void 0?void 0:S.partial))}function I(p){return p.type+"_"+p.level+"_"+p.urlId+"_"+p.sn}},"./src/controller/gap-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{MAX_START_GAP_JUMP:()=>I,SKIP_BUFFER_HOLE_STEP_SECONDS:()=>p,SKIP_BUFFER_RANGE_START:()=>w,STALL_MINIMUM_DURATION_MS:()=>B,default:()=>S});var v=a("./src/utils/buffer-helper.ts"),d=a("./src/errors.ts"),M=a("./src/events.ts"),L=a("./src/utils/logger.ts"),B=250,I=2,p=.1,w=.05,S=function(){function E(A,x,h,f){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=A,this.media=x,this.fragmentTracker=h,this.hls=f}var u=E.prototype;return u.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},u.poll=function(x,h){var f=this.config,m=this.media,g=this.stalled;if(m!==null){var R=m.currentTime,O=m.seeking,b=this.seeking&&!O,P=!this.seeking&&O;if(this.seeking=O,R!==x){if(this.moved=!0,g!==null){if(this.stallReported){var F=self.performance.now()-g;L.logger.warn("playback not stuck anymore @"+R+", after "+Math.round(F)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if((P||b)&&(this.stalled=null),!(m.paused&&!O||m.ended||m.playbackRate===0||!v.BufferHelper.getBuffered(m).length)){var T=v.BufferHelper.bufferInfo(m,R,0),C=T.len>0,y=T.nextStart||0;if(!(!C&&!y)){if(O){var _=T.len>I,c=!y||h&&h.start<=R||y-R>I&&!this.fragmentTracker.getPartialFragment(R);if(_||c)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var D,N=Math.max(y,T.start||0)-R,k=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,U=k==null||(D=k.details)===null||D===void 0?void 0:D.live,$=U?k.details.targetduration*2:I;if(N>0&&N<=$){this._trySkipBufferHole(null);return}}var K=self.performance.now();if(g===null){this.stalled=K;return}var W=K-g;if(!(!O&&W>=B&&(this._reportStall(T),!this.media))){var z=v.BufferHelper.bufferInfo(m,R,f.maxBufferHole);this._tryFixBufferStall(z,W)}}}}},u._tryFixBufferStall=function(x,h){var f=this.config,m=this.fragmentTracker,g=this.media;if(g!==null){var R=g.currentTime,O=m.getPartialFragment(R);if(O){var b=this._trySkipBufferHole(O);if(b||!this.media)return}x.len>f.maxBufferHole&&h>f.highBufferWatchdogPeriod*1e3&&(L.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},u._reportStall=function(x){var h=this.hls,f=this.media,m=this.stallReported;!m&&f&&(this.stallReported=!0,L.logger.warn("Playback stalling at @"+f.currentTime+" due to low buffer ("+JSON.stringify(x)+")"),h.trigger(M.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:x.len}))},u._trySkipBufferHole=function(x){var h=this.config,f=this.hls,m=this.media;if(m===null)return 0;for(var g=m.currentTime,R=0,O=v.BufferHelper.getBuffered(m),b=0;b<O.length;b++){var P=O.start(b);if(g+h.maxBufferHole>=R&&g<P){var F=Math.max(P+w,m.currentTime+p);return L.logger.warn("skipping hole, adjusting currentTime from "+g+" to "+F),this.moved=!0,this.stalled=null,m.currentTime=F,x&&f.trigger(M.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+g+" to "+F,frag:x}),F}R=O.end(b)}return 0},u._tryNudgeBuffer=function(){var x=this.config,h=this.hls,f=this.media,m=this.nudgeRetry;if(f!==null){var g=f.currentTime;if(this.nudgeRetry++,m<x.nudgeMaxRetry){var R=g+(m+1)*x.nudgeOffset;L.logger.warn("Nudging 'currentTime' from "+g+" to "+R),f.currentTime=R,h.trigger(M.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else L.logger.error("Playhead still not moving while enough data buffered @"+g+" after "+x.nudgeMaxRetry+" nudges"),h.trigger(M.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},E}()},"./src/controller/id3-track-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>x});var v=a("./src/polyfills/number.ts"),d=a("./src/events.ts"),M=a("./src/utils/texttrack-utils.ts"),L=a("./src/demux/id3.ts"),B=a("./src/loader/date-range.ts"),I=a("./src/types/demuxer.ts"),p=.25;function w(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var S=function(){var h=w();try{new h(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function E(h,f){return h.getTime()/1e3-f}function u(h){return Uint8Array.from(h.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var A=function(){function h(m){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=m,this._registerListeners()}var f=h.prototype;return f.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},f._registerListeners=function(){var g=this.hls;g.on(d.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.on(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.on(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(d.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),g.on(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),g.on(d.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},f._unregisterListeners=function(){var g=this.hls;g.off(d.Events.MEDIA_ATTACHED,this.onMediaAttached,this),g.off(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.off(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.off(d.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),g.off(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),g.off(d.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},f.onMediaAttached=function(g,R){this.media=R.media},f.onMediaDetaching=function(){this.id3Track&&((0,M.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},f.onManifestLoading=function(){this.dateRangeCuesAppended={}},f.createTrack=function(g){var R=this.getID3Track(g.textTracks);return R.mode="hidden",R},f.getID3Track=function(g){if(this.media){for(var R=0;R<g.length;R++){var O=g[R];if(O.kind==="metadata"&&O.label==="id3")return(0,M.sendAddTrackEvent)(O,this.media),O}return this.media.addTextTrack("metadata","id3")}},f.onFragParsingMetadata=function(g,R){if(this.media){var O=this.hls.config,b=O.enableEmsgMetadataCues,P=O.enableID3MetadataCues;if(!(!b&&!P)){var F=R.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var T=w(),C=0;C<F.length;C++){var y=F[C].type;if(!(y===I.MetadataSchema.emsg&&!b||!P)){var _=L.getID3Frames(F[C].data);if(_){var c=F[C].pts,D=c+F[C].duration;D>S&&(D=S);var N=D-c;N<=0&&(D=c+p);for(var k=0;k<_.length;k++){var U=_[k];if(!L.isTimeStampFrame(U)){this.updateId3CueEnds(c);var $=new T(c,D,"");$.value=U,y&&($.type=y),this.id3Track.addCue($)}}}}}}}},f.updateId3CueEnds=function(g){var R,O=(R=this.id3Track)===null||R===void 0?void 0:R.cues;if(O)for(var b=O.length;b--;){var P=O[b];P.startTime<g&&P.endTime===S&&(P.endTime=g)}},f.onBufferFlushing=function(g,R){var O=R.startOffset,b=R.endOffset,P=R.type,F=this.id3Track,T=this.hls;if(T){var C=T.config,y=C.enableEmsgMetadataCues,_=C.enableID3MetadataCues;if(F&&(y||_)){var c;P==="audio"?c=function(N){return N.type===I.MetadataSchema.audioId3&&_}:P==="video"?c=function(N){return N.type===I.MetadataSchema.emsg&&y}:c=function(N){return N.type===I.MetadataSchema.audioId3&&_||N.type===I.MetadataSchema.emsg&&y},(0,M.removeCuesInRange)(F,O,b,c)}}},f.onLevelUpdated=function(g,R){var O=this,b=R.details;if(!(!this.media||!b.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)){var P=this.dateRangeCuesAppended,F=this.id3Track,T=b.dateRanges,C=Object.keys(T);if(F)for(var y=Object.keys(P).filter(function(K){return!C.includes(K)}),_=function(W){var z=y[W];Object.keys(P[z].cues).forEach(function(H){F.removeCue(P[z].cues[H])}),delete P[z]},c=y.length;c--;)_(c);var D=b.fragments[b.fragments.length-1];if(!(C.length===0||!(0,v.isFiniteNumber)(D==null?void 0:D.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var N=D.programDateTime/1e3-D.start,k=w(),U=function(W){var z=C[W],H=T[z],G=P[z],X=(G==null?void 0:G.cues)||{},Y=(G==null?void 0:G.durationKnown)||!1,Z=E(H.startDate,N),q=S,ne=H.endDate;if(ne)q=E(ne,N),Y=!0;else if(H.endOnNext&&!Y){var te=C.reduce(function(he,Pe){var Ae=T[Pe];return Ae.class===H.class&&Ae.id!==Pe&&Ae.startDate>H.startDate&&he.push(Ae),he},[]).sort(function(he,Pe){return he.startDate.getTime()-Pe.startDate.getTime()})[0];te&&(q=E(te.startDate,N),Y=!0)}for(var ie=Object.keys(H.attr),ae=0;ae<ie.length;ae++){var ge=ie[ae];if(!(ge===B.DateRangeAttribute.ID||ge===B.DateRangeAttribute.CLASS||ge===B.DateRangeAttribute.START_DATE||ge===B.DateRangeAttribute.DURATION||ge===B.DateRangeAttribute.END_DATE||ge===B.DateRangeAttribute.END_ON_NEXT)){var de=X[ge];if(de)Y&&!G.durationKnown&&(de.endTime=q);else{var oe=H.attr[ge];de=new k(Z,q,""),(ge===B.DateRangeAttribute.SCTE35_OUT||ge===B.DateRangeAttribute.SCTE35_IN)&&(oe=u(oe)),de.value={key:ge,data:oe},de.type=I.MetadataSchema.dateRange,O.id3Track.addCue(de),X[ge]=de}}}P[z]={cues:X,dateRange:H,durationKnown:Y}},$=0;$<C.length;$++)U($)}}},h}();const x=A},"./src/controller/latency-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>w});var v=a("./src/errors.ts"),d=a("./src/events.ts"),M=a("./src/utils/logger.ts");function L(S,E){for(var u=0;u<E.length;u++){var A=E[u];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,I(A.key),A)}}function B(S,E,u){return E&&L(S.prototype,E),u&&L(S,u),Object.defineProperty(S,"prototype",{writable:!1}),S}function I(S){var E=p(S,"string");return typeof E=="symbol"?E:String(E)}function p(S,E){if(typeof S!="object"||S===null)return S;var u=S[Symbol.toPrimitive];if(u!==void 0){var A=u.call(S,E||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(S)}var w=function(){function S(u){var A=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return A.timeupdate()},this.hls=u,this.config=u.config,this.registerListeners()}var E=S.prototype;return E.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},E.registerListeners=function(){this.hls.on(d.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(d.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(d.Events.ERROR,this.onError,this)},E.unregisterListeners=function(){this.hls.off(d.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(d.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(d.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(d.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(d.Events.ERROR,this.onError)},E.onMediaAttached=function(A,x){this.media=x.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},E.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},E.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},E.onLevelUpdated=function(A,x){var h=x.details;this.levelDetails=h,h.advanced&&this.timeupdate(),!h.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},E.onError=function(A,x){x.details===v.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,M.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},E.timeupdate=function(){var A=this.media,x=this.levelDetails;if(!(!A||!x)){this.currentTime=A.currentTime;var h=this.computeLatency();if(h!==null){this._latency=h;var f=this.config,m=f.lowLatencyMode,g=f.maxLiveSyncPlaybackRate;if(!(!m||g===1)){var R=this.targetLatency;if(R!==null){var O=h-R,b=Math.min(this.maxLatency,R+x.targetduration),P=O<b;if(x.live&&P&&O>.05&&this.forwardBufferLength>1){var F=Math.min(2,Math.max(1,g)),T=Math.round(2/(1+Math.exp(-.75*O-this.edgeStalled))*20)/20;A.playbackRate=Math.min(F,Math.max(1,T))}else A.playbackRate!==1&&A.playbackRate!==0&&(A.playbackRate=1)}}}}},E.estimateLiveEdge=function(){var A=this.levelDetails;return A===null?null:A.edge+A.age},E.computeLatency=function(){var A=this.estimateLiveEdge();return A===null?null:A-this.currentTime},B(S,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var A=this.config,x=this.levelDetails;return A.liveMaxLatencyDuration!==void 0?A.liveMaxLatencyDuration:x?A.liveMaxLatencyDurationCount*x.targetduration:0}},{key:"targetLatency",get:function(){var A=this.levelDetails;if(A===null)return null;var x=A.holdBack,h=A.partHoldBack,f=A.targetduration,m=this.config,g=m.liveSyncDuration,R=m.liveSyncDurationCount,O=m.lowLatencyMode,b=this.hls.userConfig,P=O&&h||x;(b.liveSyncDuration||b.liveSyncDurationCount||P===0)&&(P=g!==void 0?g:R*f);var F=f,T=1;return P+Math.min(this.stallCount*T,F)}},{key:"liveSyncPosition",get:function(){var A=this.estimateLiveEdge(),x=this.targetLatency,h=this.levelDetails;if(A===null||x===null||h===null)return null;var f=h.edge,m=A-x-this.edgeStalled,g=f-h.totalduration,R=f-(this.config.lowLatencyMode&&h.partTarget||h.targetduration);return Math.min(Math.max(g,m),R)}},{key:"drift",get:function(){var A=this.levelDetails;return A===null?1:A.drift}},{key:"edgeStalled",get:function(){var A=this.levelDetails;if(A===null)return 0;var x=(this.config.lowLatencyMode&&A.partTarget||A.targetduration)*3;return Math.max(A.age-x,0)}},{key:"forwardBufferLength",get:function(){var A=this.media,x=this.levelDetails;if(!A||!x)return 0;var h=A.buffered.length;return(h?A.buffered.end(h-1):x.edge)-this.currentTime}}]),S}()},"./src/controller/level-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>m});var v=a("./src/types/level.ts"),d=a("./src/events.ts"),M=a("./src/errors.ts"),L=a("./src/utils/codecs.ts"),B=a("./src/controller/level-helper.ts"),I=a("./src/controller/base-playlist-controller.ts"),p=a("./src/types/loader.ts");function w(){return w=Object.assign?Object.assign.bind():function(g){for(var R=1;R<arguments.length;R++){var O=arguments[R];for(var b in O)Object.prototype.hasOwnProperty.call(O,b)&&(g[b]=O[b])}return g},w.apply(this,arguments)}function S(g,R){for(var O=0;O<R.length;O++){var b=R[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,u(b.key),b)}}function E(g,R,O){return R&&S(g.prototype,R),O&&S(g,O),Object.defineProperty(g,"prototype",{writable:!1}),g}function u(g){var R=A(g,"string");return typeof R=="symbol"?R:String(R)}function A(g,R){if(typeof g!="object"||g===null)return g;var O=g[Symbol.toPrimitive];if(O!==void 0){var b=O.call(g,R||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(g)}function x(g,R){g.prototype=Object.create(R.prototype),g.prototype.constructor=g,h(g,R)}function h(g,R){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,P){return b.__proto__=P,b},h(g,R)}var f=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),m=function(g){x(R,g);function R(b){var P;return P=g.call(this,b,"[level-controller]")||this,P._levels=[],P._firstLevel=-1,P._startLevel=void 0,P.currentLevelIndex=-1,P.manualLevelIndex=-1,P.onParsedComplete=void 0,P._registerListeners(),P}var O=R.prototype;return O._registerListeners=function(){var P=this.hls;P.on(d.Events.MANIFEST_LOADED,this.onManifestLoaded,this),P.on(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),P.on(d.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),P.on(d.Events.FRAG_LOADED,this.onFragLoaded,this),P.on(d.Events.ERROR,this.onError,this)},O._unregisterListeners=function(){var P=this.hls;P.off(d.Events.MANIFEST_LOADED,this.onManifestLoaded,this),P.off(d.Events.LEVEL_LOADED,this.onLevelLoaded,this),P.off(d.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),P.off(d.Events.FRAG_LOADED,this.onFragLoaded,this),P.off(d.Events.ERROR,this.onError,this)},O.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,g.prototype.destroy.call(this)},O.startLoad=function(){var P=this._levels;P.forEach(function(F){F.loadError=0}),g.prototype.startLoad.call(this)},O.onManifestLoaded=function(P,F){var T=[],C=[],y=[],_,c={},D,N=!1,k=!1,U=!1;if(F.levels.forEach(function(z){var H=z.attrs;N=N||!!(z.width&&z.height),k=k||!!z.videoCodec,U=U||!!z.audioCodec,f&&z.audioCodec&&z.audioCodec.indexOf("mp4a.40.34")!==-1&&(z.audioCodec=void 0);var G=z.bitrate+"-"+z.attrs.RESOLUTION+"-"+z.attrs.CODECS;D=c[G],D?D.url.push(z.url):(D=new v.Level(z),c[G]=D,T.push(D)),H&&(H.AUDIO&&(0,B.addGroupId)(D,"audio",H.AUDIO),H.SUBTITLES&&(0,B.addGroupId)(D,"text",H.SUBTITLES))}),(N||k)&&U&&(T=T.filter(function(z){var H=z.videoCodec,G=z.width,X=z.height;return!!H||!!(G&&X)})),T=T.filter(function(z){var H=z.audioCodec,G=z.videoCodec;return(!H||(0,L.isCodecSupportedInMp4)(H,"audio"))&&(!G||(0,L.isCodecSupportedInMp4)(G,"video"))}),F.audioTracks&&(C=F.audioTracks.filter(function(z){return!z.audioCodec||(0,L.isCodecSupportedInMp4)(z.audioCodec,"audio")}),(0,B.assignTrackIdsByGroup)(C)),F.subtitles&&(y=F.subtitles,(0,B.assignTrackIdsByGroup)(y)),T.length>0){_=T[0].bitrate,T.sort(function(z,H){return z.attrs["HDCP-LEVEL"]!==H.attrs["HDCP-LEVEL"]?(z.attrs["HDCP-LEVEL"]||"")>(H.attrs["HDCP-LEVEL"]||"")?1:-1:z.bitrate!==H.bitrate?z.bitrate-H.bitrate:z.attrs.SCORE!==H.attrs.SCORE?z.attrs.decimalFloatingPoint("SCORE")-H.attrs.decimalFloatingPoint("SCORE"):N&&z.height!==H.height?z.height-H.height:0}),this._levels=T;for(var $=0;$<T.length;$++)if(T[$].bitrate===_){this._firstLevel=$,this.log("manifest loaded, "+T.length+" level(s) found, first bitrate: "+_);break}var K=U&&!k,W={levels:T,audioTracks:C,subtitleTracks:y,sessionData:F.sessionData,sessionKeys:F.sessionKeys,firstLevel:this._firstLevel,stats:F.stats,audio:U,video:k,altAudio:!K&&C.some(function(z){return!!z.url})};this.hls.trigger(d.Events.MANIFEST_PARSED,W),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(d.Events.ERROR,{type:M.ErrorTypes.MEDIA_ERROR,details:M.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:F.url,reason:"no level with compatible codecs found in manifest"})},O.onError=function(P,F){var T,C;if(g.prototype.onError.call(this,P,F),!F.fatal){var y=F.context,_=this._levels[this.currentLevelIndex];if(y&&(y.type===p.PlaylistContextType.AUDIO_TRACK&&_.audioGroupIds&&y.groupId===_.audioGroupIds[_.urlId]||y.type===p.PlaylistContextType.SUBTITLE_TRACK&&_.textGroupIds&&y.groupId===_.textGroupIds[_.urlId])){this.redundantFailover(this.currentLevelIndex);return}var c=!1,D=!0,N;switch(F.details){case M.ErrorDetails.FRAG_LOAD_ERROR:case M.ErrorDetails.FRAG_LOAD_TIMEOUT:case M.ErrorDetails.KEY_LOAD_ERROR:case M.ErrorDetails.KEY_LOAD_TIMEOUT:if(F.frag){var k=F.frag.type===p.PlaylistLevelType.MAIN?F.frag.level:this.currentLevelIndex,U=this._levels[k];U?(U.fragmentError++,U.fragmentError>this.hls.config.fragLoadingMaxRetry&&(N=k)):N=k}break;case M.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{var $=_.attrs["HDCP-LEVEL"];$&&(this.hls.maxHdcpLevel=v.HdcpLevels[v.HdcpLevels.indexOf($)-1],this.warn('Restricting playback to HDCP-LEVEL of "'+this.hls.maxHdcpLevel+'" or lower'))}case M.ErrorDetails.FRAG_PARSING_ERROR:case M.ErrorDetails.KEY_SYSTEM_NO_SESSION:N=((T=F.frag)===null||T===void 0?void 0:T.type)===p.PlaylistLevelType.MAIN?F.frag.level:this.currentLevelIndex,F.levelRetry=!1;break;case M.ErrorDetails.LEVEL_LOAD_ERROR:case M.ErrorDetails.LEVEL_LOAD_TIMEOUT:y&&(y.deliveryDirectives&&(D=!1),N=y.level),c=!0;break;case M.ErrorDetails.REMUX_ALLOC_ERROR:N=(C=F.level)!=null?C:this.currentLevelIndex,c=!0;break}N!==void 0&&this.recoverLevel(F,N,c,D)}},O.recoverLevel=function(P,F,T,C){var y=P.details,_=this._levels[F];if(_.loadError++,T){var c=this.retryLoadingOrFail(P);if(c)P.levelRetry=!0;else{this.currentLevelIndex=-1;return}}if(C){var D=_.url.length;if(D>1&&_.loadError<D)P.levelRetry=!0,this.redundantFailover(F);else if(this.manualLevelIndex===-1){for(var N=-1,k=this._levels,U=k.length;U--;){var $=(U+this.currentLevelIndex)%k.length;if($!==this.currentLevelIndex&&k[$].loadError===0){N=$;break}}N>-1&&this.currentLevelIndex!==N?(this.warn(y+": switch to "+N),P.levelRetry=!0,this.hls.nextAutoLevel=N):P.levelRetry===!1&&(P.fatal=!0)}}},O.redundantFailover=function(P){var F=this._levels[P],T=F.url.length;if(T>1){var C=(F.urlId+1)%T;this.warn("Switching to redundant URL-id "+C),this._levels.forEach(function(y){y.urlId=C}),this.level=P}},O.onFragLoaded=function(P,F){var T=F.frag;if(T!==void 0&&T.type===p.PlaylistLevelType.MAIN){var C=this._levels[T.level];C!==void 0&&(C.fragmentError=0,C.loadError=0)}},O.onLevelLoaded=function(P,F){var T,C=F.level,y=F.details,_=this._levels[C];if(!_){var c;this.warn("Invalid level index "+C),(c=F.deliveryDirectives)!==null&&c!==void 0&&c.skip&&(y.deltaUpdateFailed=!0);return}C===this.currentLevelIndex?(_.fragmentError===0&&(_.loadError=0,this.retryCount=0),this.playlistLoaded(C,F,_.details)):(T=F.deliveryDirectives)!==null&&T!==void 0&&T.skip&&(y.deltaUpdateFailed=!0)},O.onAudioTrackSwitched=function(P,F){var T=this.hls.levels[this.currentLevelIndex];if(T&&T.audioGroupIds){for(var C=-1,y=this.hls.audioTracks[F.id].groupId,_=0;_<T.audioGroupIds.length;_++)if(T.audioGroupIds[_]===y){C=_;break}C!==T.urlId&&(T.urlId=C,this.startLoad())}},O.loadPlaylist=function(P){g.prototype.loadPlaylist.call(this);var F=this.currentLevelIndex,T=this._levels[F];if(this.canLoad&&T&&T.url.length>0){var C=T.urlId,y=T.url[C];if(P)try{y=P.addDirectives(y)}catch(_){this.warn("Could not construct new URL with HLS Delivery Directives: "+_)}this.log("Attempt loading level index "+F+((P==null?void 0:P.msn)!==void 0?" at sn "+P.msn+" part "+P.part:"")+" with URL-id "+C+" "+y),this.clearTimer(),this.hls.trigger(d.Events.LEVEL_LOADING,{url:y,level:F,id:C,deliveryDirectives:P||null})}},O.removeLevel=function(P,F){var T=function(_,c){return c!==F},C=this._levels.filter(function(y,_){return _!==P?!0:y.url.length>1&&F!==void 0?(y.url=y.url.filter(T),y.audioGroupIds&&(y.audioGroupIds=y.audioGroupIds.filter(T)),y.textGroupIds&&(y.textGroupIds=y.textGroupIds.filter(T)),y.urlId=0,!0):!1}).map(function(y,_){var c=y.details;return c!=null&&c.fragments&&c.fragments.forEach(function(D){D.level=_}),y});this._levels=C,this.hls.trigger(d.Events.LEVELS_UPDATED,{levels:C})},E(R,[{key:"levels",get:function(){return this._levels.length===0?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(P){var F,T=this._levels;if(T.length!==0&&!(this.currentLevelIndex===P&&(F=T[P])!==null&&F!==void 0&&F.details)){if(P<0||P>=T.length){var C=P<0;if(this.hls.trigger(d.Events.ERROR,{type:M.ErrorTypes.OTHER_ERROR,details:M.ErrorDetails.LEVEL_SWITCH_ERROR,level:P,fatal:C,reason:"invalid level idx"}),C)return;P=Math.min(P,T.length-1)}this.clearTimer();var y=this.currentLevelIndex,_=T[y],c=T[P];this.log("switching to level "+P+" from "+y),this.currentLevelIndex=P;var D=w({},c,{level:P,maxBitrate:c.maxBitrate,uri:c.uri,urlId:c.urlId});delete D._urlId,this.hls.trigger(d.Events.LEVEL_SWITCHING,D);var N=c.details;if(!N||N.live){var k=this.switchParams(c.uri,_==null?void 0:_.details);this.loadPlaylist(k)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(P){this.manualLevelIndex=P,this._startLevel===void 0&&(this._startLevel=P),P!==-1&&(this.level=P)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(P){this._firstLevel=P}},{key:"startLevel",get:function(){if(this._startLevel===void 0){var P=this.hls.config.startLevel;return P!==void 0?P:this._firstLevel}else return this._startLevel},set:function(P){this._startLevel=P}},{key:"nextLoadLevel",get:function(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(P){this.level=P,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=P)}}]),R}(I.default)},"./src/controller/level-helper.ts":(s,l,a)=>{a.r(l),a.d(l,{addGroupId:()=>B,addSliding:()=>f,adjustSliding:()=>h,assignTrackIdsByGroup:()=>I,computeReloadInterval:()=>m,getFragmentWithSN:()=>g,getPartWith:()=>R,mapFragmentIntersection:()=>x,mapPartIntersection:()=>A,mergeDetails:()=>E,updateFragPTSDTS:()=>S,updatePTS:()=>p});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/logger.ts"),M=a("./src/loader/date-range.ts");function L(){return L=Object.assign?Object.assign.bind():function(O){for(var b=1;b<arguments.length;b++){var P=arguments[b];for(var F in P)Object.prototype.hasOwnProperty.call(P,F)&&(O[F]=P[F])}return O},L.apply(this,arguments)}function B(O,b,P){switch(b){case"audio":O.audioGroupIds||(O.audioGroupIds=[]),O.audioGroupIds.push(P);break;case"text":O.textGroupIds||(O.textGroupIds=[]),O.textGroupIds.push(P);break}}function I(O){var b={};O.forEach(function(P){var F=P.groupId||"";P.id=b[F]=b[F]||0,b[F]++})}function p(O,b,P){var F=O[b],T=O[P];w(F,T)}function w(O,b){var P=b.startPTS;if((0,v.isFiniteNumber)(P)){var F=0,T;b.sn>O.sn?(F=P-O.start,T=O):(F=O.start-P,T=b),T.duration!==F&&(T.duration=F)}else if(b.sn>O.sn){var C=O.cc===b.cc;C&&O.minEndPTS?b.start=O.start+(O.minEndPTS-O.start):b.start=O.start+O.duration}else b.start=Math.max(O.start-b.duration,0)}function S(O,b,P,F,T,C){var y=F-P;y<=0&&(d.logger.warn("Fragment should have a positive duration",b),F=P+b.duration,C=T+b.duration);var _=P,c=F,D=b.startPTS,N=b.endPTS;if((0,v.isFiniteNumber)(D)){var k=Math.abs(D-P);(0,v.isFiniteNumber)(b.deltaPTS)?b.deltaPTS=Math.max(k,b.deltaPTS):b.deltaPTS=k,_=Math.max(P,D),P=Math.min(P,D),T=Math.min(T,b.startDTS),c=Math.min(F,N),F=Math.max(F,N),C=Math.max(C,b.endDTS)}b.duration=F-P;var U=P-b.start;b.start=b.startPTS=P,b.maxStartPTS=_,b.startDTS=T,b.endPTS=F,b.minEndPTS=c,b.endDTS=C;var $=b.sn;if(!O||$<O.startSN||$>O.endSN)return 0;var K,W=$-O.startSN,z=O.fragments;for(z[W]=b,K=W;K>0;K--)w(z[K],z[K-1]);for(K=W;K<z.length-1;K++)w(z[K],z[K+1]);return O.fragmentHint&&w(z[z.length-1],O.fragmentHint),O.PTSKnown=O.alignedSliding=!0,U}function E(O,b){for(var P=null,F=O.fragments,T=F.length-1;T>=0;T--){var C=F[T].initSegment;if(C){P=C;break}}O.fragmentHint&&delete O.fragmentHint.endPTS;var y=0,_;if(x(O,b,function(K,W){K.relurl&&(y=K.cc-W.cc),(0,v.isFiniteNumber)(K.startPTS)&&(0,v.isFiniteNumber)(K.endPTS)&&(W.start=W.startPTS=K.startPTS,W.startDTS=K.startDTS,W.appendedPTS=K.appendedPTS,W.maxStartPTS=K.maxStartPTS,W.endPTS=K.endPTS,W.endDTS=K.endDTS,W.minEndPTS=K.minEndPTS,W.duration=K.endPTS-K.startPTS,W.duration&&(_=W),b.PTSKnown=b.alignedSliding=!0),W.elementaryStreams=K.elementaryStreams,W.loader=K.loader,W.stats=K.stats,W.urlId=K.urlId,K.initSegment&&(W.initSegment=K.initSegment,P=K.initSegment)}),P){var c=b.fragmentHint?b.fragments.concat(b.fragmentHint):b.fragments;c.forEach(function(K){var W;(!K.initSegment||K.initSegment.relurl===((W=P)===null||W===void 0?void 0:W.relurl))&&(K.initSegment=P)})}if(b.skippedSegments)if(b.deltaUpdateFailed=b.fragments.some(function(K){return!K}),b.deltaUpdateFailed){d.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var D=b.skippedSegments;D--;)b.fragments.shift();b.startSN=b.fragments[0].sn,b.startCC=b.fragments[0].cc}else b.canSkipDateRanges&&(b.dateRanges=u(O.dateRanges,b.dateRanges,b.recentlyRemovedDateranges));var N=b.fragments;if(y){d.logger.warn("discontinuity sliding from playlist, take drift into account");for(var k=0;k<N.length;k++)N[k].cc+=y}b.skippedSegments&&(b.startCC=b.fragments[0].cc),A(O.partList,b.partList,function(K,W){W.elementaryStreams=K.elementaryStreams,W.stats=K.stats}),_?S(b,_,_.startPTS,_.endPTS,_.startDTS,_.endDTS):h(O,b),N.length&&(b.totalduration=b.edge-N[0].start),b.driftStartTime=O.driftStartTime,b.driftStart=O.driftStart;var U=b.advancedDateTime;if(b.advanced&&U){var $=b.edge;b.driftStart||(b.driftStartTime=U,b.driftStart=$),b.driftEndTime=U,b.driftEnd=$}else b.driftEndTime=O.driftEndTime,b.driftEnd=O.driftEnd,b.advancedDateTime=O.advancedDateTime}function u(O,b,P){var F=L({},O);return P&&P.forEach(function(T){delete F[T]}),Object.keys(b).forEach(function(T){var C=new M.DateRange(b[T].attr,F[T]);C.isValid?F[T]=C:d.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(b[T].attr)+'"')}),F}function A(O,b,P){if(O&&b)for(var F=0,T=0,C=O.length;T<=C;T++){var y=O[T],_=b[T+F];y&&_&&y.index===_.index&&y.fragment.sn===_.fragment.sn?P(y,_):F--}}function x(O,b,P){for(var F=b.skippedSegments,T=Math.max(O.startSN,b.startSN)-b.startSN,C=(O.fragmentHint?1:0)+(F?b.endSN:Math.min(O.endSN,b.endSN))-b.startSN,y=b.startSN-O.startSN,_=b.fragmentHint?b.fragments.concat(b.fragmentHint):b.fragments,c=O.fragmentHint?O.fragments.concat(O.fragmentHint):O.fragments,D=T;D<=C;D++){var N=c[y+D],k=_[D];F&&!k&&D<F&&(k=b.fragments[D]=N),N&&k&&P(N,k)}}function h(O,b){var P=b.startSN+b.skippedSegments-O.startSN,F=O.fragments;P<0||P>=F.length||f(b,F[P].start)}function f(O,b){if(b){for(var P=O.fragments,F=O.skippedSegments;F<P.length;F++)P[F].start+=b;O.fragmentHint&&(O.fragmentHint.start+=b)}}function m(O,b){b===void 0&&(b=1/0);var P=1e3*O.targetduration;if(O.updated){var F=O.fragments,T=4;if(F.length&&P*T>b){var C=F[F.length-1].duration*1e3;C<P&&(P=C)}}else P/=2;return Math.round(P)}function g(O,b,P){if(!O||!O.details)return null;var F=O.details,T=F.fragments[b-F.startSN];return T||(T=F.fragmentHint,T&&T.sn===b)?T:b<F.startSN&&P&&P.sn===b?P:null}function R(O,b,P){if(!O||!O.details)return null;var F=O.details.partList;if(F)for(var T=F.length;T--;){var C=F[T];if(C.index===P&&C.fragment.sn===b)return C}return null}},"./src/controller/stream-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>b});var v=a("./src/polyfills/number.ts"),d=a("./src/controller/base-stream-controller.ts"),M=a("./src/is-supported.ts"),L=a("./src/events.ts"),B=a("./src/utils/buffer-helper.ts"),I=a("./src/controller/fragment-tracker.ts"),p=a("./src/types/loader.ts"),w=a("./src/loader/fragment.ts"),S=a("./src/demux/transmuxer-interface.ts"),E=a("./src/types/transmuxer.ts"),u=a("./src/controller/gap-controller.ts"),A=a("./src/errors.ts");function x(P,F){for(var T=0;T<F.length;T++){var C=F[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(P,f(C.key),C)}}function h(P,F,T){return F&&x(P.prototype,F),T&&x(P,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function f(P){var F=m(P,"string");return typeof F=="symbol"?F:String(F)}function m(P,F){if(typeof P!="object"||P===null)return P;var T=P[Symbol.toPrimitive];if(T!==void 0){var C=T.call(P,F||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(P)}function g(P,F){P.prototype=Object.create(F.prototype),P.prototype.constructor=P,R(P,F)}function R(P,F){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,y){return C.__proto__=y,C},R(P,F)}var O=100,b=function(P){g(F,P);function F(C,y,_){var c;return c=P.call(this,C,y,_,"[stream-controller]")||this,c.audioCodecSwap=!1,c.gapController=null,c.level=-1,c._forceStartLoad=!1,c.altAudio=!1,c.audioOnly=!1,c.fragPlaying=null,c.onvplaying=null,c.onvseeked=null,c.fragLastKbps=0,c.couldBacktrack=!1,c.backtrackFragment=null,c.audioCodecSwitch=!1,c.videoBuffer=null,c._registerListeners(),c}var T=F.prototype;return T._registerListeners=function(){var y=this.hls;y.on(L.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.on(L.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.on(L.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.on(L.Events.MANIFEST_PARSED,this.onManifestParsed,this),y.on(L.Events.LEVEL_LOADING,this.onLevelLoading,this),y.on(L.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.on(L.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),y.on(L.Events.ERROR,this.onError,this),y.on(L.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.on(L.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),y.on(L.Events.BUFFER_CREATED,this.onBufferCreated,this),y.on(L.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.on(L.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),y.on(L.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T._unregisterListeners=function(){var y=this.hls;y.off(L.Events.MEDIA_ATTACHED,this.onMediaAttached,this),y.off(L.Events.MEDIA_DETACHING,this.onMediaDetaching,this),y.off(L.Events.MANIFEST_LOADING,this.onManifestLoading,this),y.off(L.Events.MANIFEST_PARSED,this.onManifestParsed,this),y.off(L.Events.LEVEL_LOADED,this.onLevelLoaded,this),y.off(L.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),y.off(L.Events.ERROR,this.onError,this),y.off(L.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),y.off(L.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),y.off(L.Events.BUFFER_CREATED,this.onBufferCreated,this),y.off(L.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),y.off(L.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),y.off(L.Events.FRAG_BUFFERED,this.onFragBuffered,this)},T.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},T.startLoad=function(y){if(this.levels){var _=this.lastCurrentTime,c=this.hls;if(this.stopLoad(),this.setInterval(O),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var D=c.startLevel;D===-1&&(c.config.testBandwidth&&this.levels.length>1?(D=0,this.bitrateTest=!0):D=c.nextAutoLevel),this.level=c.nextLoadLevel=D,this.loadedmetadata=!1}_>0&&y===-1&&(this.log("Override startPosition with lastCurrentTime @"+_.toFixed(3)),y=_),this.state=d.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=y,this.tick()}else this._forceStartLoad=!0,this.state=d.State.STOPPED},T.stopLoad=function(){this._forceStartLoad=!1,P.prototype.stopLoad.call(this)},T.doTick=function(){switch(this.state){case d.State.IDLE:this.doTickIdle();break;case d.State.WAITING_LEVEL:{var y,_=this.levels,c=this.level,D=_==null||(y=_[c])===null||y===void 0?void 0:y.details;if(D&&(!D.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(D))break;this.state=d.State.IDLE;break}break}case d.State.FRAG_LOADING_WAITING_RETRY:{var N,k=self.performance.now(),U=this.retryDate;(!U||k>=U||(N=this.media)!==null&&N!==void 0&&N.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.level),this.state=d.State.IDLE)}break}this.onTickEnd()},T.onTickEnd=function(){P.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},T.doTickIdle=function(){var y=this.hls,_=this.levelLastLoaded,c=this.levels,D=this.media,N=y.config,k=y.nextLoadLevel;if(!(_===null||!D&&(this.startFragRequested||!N.startFragPrefetch))&&!(this.altAudio&&this.audioOnly)&&!(!c||!c[k])){var U=c[k],$=this.getMainFwdBufferInfo();if($!==null){var K=this.getLevelDetails();if(K&&this._streamEnded($,K)){var W={};this.altAudio&&(W.type="video"),this.hls.trigger(L.Events.BUFFER_EOS,W),this.state=d.State.ENDED;return}this.level=y.nextLoadLevel=k;var z=U.details;if(!z||this.state===d.State.WAITING_LEVEL||z.live&&this.levelLastLoaded!==k){this.level=k,this.state=d.State.WAITING_LEVEL;return}var H=$.len,G=this.getMaxBufferLength(U.maxBitrate);if(!(H>=G)){this.backtrackFragment&&this.backtrackFragment.start>$.end&&(this.backtrackFragment=null);var X=this.backtrackFragment?this.backtrackFragment.start:$.end,Y=this.getNextFragment(X,z);if(this.couldBacktrack&&!this.fragPrevious&&Y&&Y.sn!=="initSegment"&&this.fragmentTracker.getState(Y)!==I.FragmentState.OK){var Z,q=((Z=this.backtrackFragment)!=null?Z:Y).sn,ne=q-z.startSN,te=z.fragments[ne-1];te&&Y.cc===te.cc&&(Y=te,this.fragmentTracker.removeFragment(te))}else this.backtrackFragment&&$.len&&(this.backtrackFragment=null);if(Y&&this.fragmentTracker.getState(Y)===I.FragmentState.OK&&this.nextLoadPosition>X){var ie=this.audioOnly&&!this.altAudio?w.ElementaryStreamTypes.AUDIO:w.ElementaryStreamTypes.VIDEO,ae=(ie===w.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;ae&&this.afterBufferFlushed(ae,ie,p.PlaylistLevelType.MAIN),Y=this.getNextFragment(this.nextLoadPosition,z)}Y&&(Y.initSegment&&!Y.initSegment.data&&!this.bitrateTest&&(Y=Y.initSegment),this.loadFragment(Y,z,X))}}}},T.loadFragment=function(y,_,c){var D,N=this.fragmentTracker.getState(y);this.fragCurrent=y,N===I.FragmentState.NOT_LOADED?y.sn==="initSegment"?this._loadInitSegment(y,_):this.bitrateTest?(this.log("Fragment "+y.sn+" of level "+y.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(y,_)):(this.startFragRequested=!0,P.prototype.loadFragment.call(this,y,_,c)):N===I.FragmentState.APPENDING?this.reduceMaxBufferLength(y.duration)&&this.fragmentTracker.removeFragment(y):((D=this.media)===null||D===void 0?void 0:D.buffered.length)===0&&this.fragmentTracker.removeAllFragments()},T.getAppendedFrag=function(y){var _=this.fragmentTracker.getAppendedFrag(y,p.PlaylistLevelType.MAIN);return _&&"fragment"in _?_.fragment:_},T.getBufferedFrag=function(y){return this.fragmentTracker.getBufferedFrag(y,p.PlaylistLevelType.MAIN)},T.followingBufferedFrag=function(y){return y?this.getBufferedFrag(y.end+.5):null},T.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},T.nextLevelSwitch=function(){var y=this.levels,_=this.media;if(_!=null&&_.readyState){var c,D=this.getAppendedFrag(_.currentTime);if(D&&D.start>1&&this.flushMainBuffer(0,D.start-1),!_.paused&&y){var N=this.hls.nextLoadLevel,k=y[N],U=this.fragLastKbps;U&&this.fragCurrent?c=this.fragCurrent.duration*k.maxBitrate/(1e3*U)+1:c=0}else c=0;var $=this.getBufferedFrag(_.currentTime+c);if($){var K=this.followingBufferedFrag($);if(K){this.abortCurrentFrag();var W=K.maxStartPTS?K.maxStartPTS:K.start,z=K.duration,H=Math.max($.end,W+Math.min(Math.max(z-this.config.maxFragLookUpTolerance,z*.5),z*.75));this.flushMainBuffer(H,Number.POSITIVE_INFINITY)}}}},T.abortCurrentFrag=function(){var y=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,y&&y.abortRequests(),this.state){case d.State.KEY_LOADING:case d.State.FRAG_LOADING:case d.State.FRAG_LOADING_WAITING_RETRY:case d.State.PARSING:case d.State.PARSED:this.state=d.State.IDLE;break}this.nextLoadPosition=this.getLoadPosition()},T.flushMainBuffer=function(y,_){P.prototype.flushMainBuffer.call(this,y,_,this.altAudio?"video":null)},T.onMediaAttached=function(y,_){P.prototype.onMediaAttached.call(this,y,_);var c=_.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),c.addEventListener("playing",this.onvplaying),c.addEventListener("seeked",this.onvseeked),this.gapController=new u.default(this.config,c,this.fragmentTracker,this.hls)},T.onMediaDetaching=function(){var y=this.media;y&&this.onvplaying&&this.onvseeked&&(y.removeEventListener("playing",this.onvplaying),y.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),P.prototype.onMediaDetaching.call(this)},T.onMediaPlaying=function(){this.tick()},T.onMediaSeeked=function(){var y=this.media,_=y?y.currentTime:null;(0,v.isFiniteNumber)(_)&&this.log("Media seeked to "+_.toFixed(3)),this.tick()},T.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(L.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},T.onManifestParsed=function(y,_){var c=!1,D=!1,N;_.levels.forEach(function(k){N=k.audioCodec,N&&(N.indexOf("mp4a.40.2")!==-1&&(c=!0),N.indexOf("mp4a.40.5")!==-1&&(D=!0))}),this.audioCodecSwitch=c&&D&&!(0,M.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=_.levels,this.startFragRequested=!1},T.onLevelLoading=function(y,_){var c=this.levels;if(!(!c||this.state!==d.State.IDLE)){var D=c[_.level];(!D.details||D.details.live&&this.levelLastLoaded!==_.level||this.waitForCdnTuneIn(D.details))&&(this.state=d.State.WAITING_LEVEL)}},T.onLevelLoaded=function(y,_){var c,D=this.levels,N=_.level,k=_.details,U=k.totalduration;if(!D){this.warn("Levels were reset while loading level "+N);return}this.log("Level "+N+" loaded ["+k.startSN+","+k.endSN+"], cc ["+k.startCC+", "+k.endCC+"] duration:"+U);var $=this.fragCurrent;$&&(this.state===d.State.FRAG_LOADING||this.state===d.State.FRAG_LOADING_WAITING_RETRY)&&$.level!==_.level&&$.loader&&(this.state=d.State.IDLE,this.backtrackFragment=null,$.abortRequests());var K=D[N],W=0;if(k.live||(c=K.details)!==null&&c!==void 0&&c.live){if(k.fragments[0]||(k.deltaUpdateFailed=!0),k.deltaUpdateFailed)return;W=this.alignPlaylists(k,K.details)}if(K.details=k,this.levelLastLoaded=N,this.hls.trigger(L.Events.LEVEL_UPDATED,{details:k,level:N}),this.state===d.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(k))return;this.state=d.State.IDLE}this.startFragRequested?k.live&&this.synchronizeToLiveEdge(k):this.setStartPosition(k,W),this.tick()},T._handleFragmentLoadProgress=function(y){var _,c=y.frag,D=y.part,N=y.payload,k=this.levels;if(!k){this.warn("Levels were reset while fragment load was in progress. Fragment "+c.sn+" of level "+c.level+" will not be buffered");return}var U=k[c.level],$=U.details;if(!$){this.warn("Dropping fragment "+c.sn+" of level "+c.level+" after level details were reset");return}var K=U.videoCodec,W=$.PTSKnown||!$.live,z=(_=c.initSegment)===null||_===void 0?void 0:_.data,H=this._getAudioCodec(U),G=this.transmuxer=this.transmuxer||new S.default(this.hls,p.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),X=D?D.index:-1,Y=X!==-1,Z=new E.ChunkMetadata(c.level,c.sn,c.stats.chunkCount,N.byteLength,X,Y),q=this.initPTS[c.cc];G.push(N,z,H,K,c,D,$.totalduration,W,Z,q)},T.onAudioTrackSwitching=function(y,_){var c=this.altAudio,D=!!_.url,N=_.id;if(!D){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var k=this.fragCurrent;k&&(this.log("Switching to main audio track, cancel main fragment load"),k.abortRequests()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var U=this.hls;c&&U.trigger(L.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),U.trigger(L.Events.AUDIO_TRACK_SWITCHED,{id:N})}},T.onAudioTrackSwitched=function(y,_){var c=_.id,D=!!this.hls.audioTracks[c].url;if(D){var N=this.videoBuffer;N&&this.mediaBuffer!==N&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=N)}this.altAudio=D,this.tick()},T.onBufferCreated=function(y,_){var c=_.tracks,D,N,k=!1;for(var U in c){var $=c[U];if($.id==="main"){if(N=U,D=$,U==="video"){var K=c[U];K&&(this.videoBuffer=K.buffer)}}else k=!0}k&&D?(this.log("Alternate track found, use "+N+".buffered to schedule main fragment loading"),this.mediaBuffer=D.buffer):this.mediaBuffer=this.media},T.onFragBuffered=function(y,_){var c=_.frag,D=_.part;if(!(c&&c.type!==p.PlaylistLevelType.MAIN)){if(this.fragContextChanged(c)){this.warn("Fragment "+c.sn+(D?" p: "+D.index:"")+" of level "+c.level+" finished buffering, but was aborted. state: "+this.state),this.state===d.State.PARSED&&(this.state=d.State.IDLE);return}var N=D?D.stats:c.stats;this.fragLastKbps=Math.round(8*N.total/(N.buffering.end-N.loading.first)),c.sn!=="initSegment"&&(this.fragPrevious=c),this.fragBufferedComplete(c,D)}},T.onError=function(y,_){if(_.type===A.ErrorTypes.KEY_SYSTEM_ERROR){this.onFragmentOrKeyLoadError(p.PlaylistLevelType.MAIN,_);return}switch(_.details){case A.ErrorDetails.FRAG_LOAD_ERROR:case A.ErrorDetails.FRAG_LOAD_TIMEOUT:case A.ErrorDetails.FRAG_PARSING_ERROR:case A.ErrorDetails.KEY_LOAD_ERROR:case A.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(p.PlaylistLevelType.MAIN,_);break;case A.ErrorDetails.LEVEL_LOAD_ERROR:case A.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==d.State.ERROR&&(_.fatal?(this.warn(""+_.details),this.state=d.State.ERROR):!_.levelRetry&&this.state===d.State.WAITING_LEVEL&&(this.state=d.State.IDLE));break;case A.ErrorDetails.BUFFER_FULL_ERROR:if(_.parent==="main"&&(this.state===d.State.PARSING||this.state===d.State.PARSED)){var c=!0,D=this.getFwdBufferInfo(this.media,p.PlaylistLevelType.MAIN);D&&D.len>.5&&(c=!this.reduceMaxBufferLength(D.len)),c&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}break}},T.checkBuffer=function(){var y=this.media,_=this.gapController;if(!(!y||!_||!y.readyState)){if(this.loadedmetadata||!B.BufferHelper.getBuffered(y).length){var c=this.state!==d.State.IDLE?this.fragCurrent:null;_.poll(this.lastCurrentTime,c)}this.lastCurrentTime=y.currentTime}},T.onFragLoadEmergencyAborted=function(){this.state=d.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},T.onBufferFlushed=function(y,_){var c=_.type;if(c!==w.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var D=(c===w.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(D,c,p.PlaylistLevelType.MAIN)}},T.onLevelsUpdated=function(y,_){this.levels=_.levels},T.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},T.seekToStartPos=function(){var y=this.media;if(y){var _=y.currentTime,c=this.startPosition;if(c>=0&&_<c){if(y.seeking){this.log("could not seek to "+c+", already seeking at "+_);return}var D=B.BufferHelper.getBuffered(y),N=D.length?D.start(0):0,k=N-c;k>0&&(k<this.config.maxBufferHole||k<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+k+" to match buffer start"),c+=k,this.startPosition=c),this.log("seek to target start position "+c+" from current time "+_),y.currentTime=c}}},T._getAudioCodec=function(y){var _=this.config.defaultAudioCodec||y.audioCodec;return this.audioCodecSwap&&_&&(this.log("Swapping audio codec"),_.indexOf("mp4a.40.5")!==-1?_="mp4a.40.2":_="mp4a.40.5"),_},T._loadBitrateTestFrag=function(y,_){var c=this;y.bitrateTest=!0,this._doFragLoad(y,_).then(function(D){var N=c.hls;if(!(!D||c.fragContextChanged(y))){c.fragLoadError=0,c.state=d.State.IDLE,c.startFragRequested=!1,c.bitrateTest=!1;var k=y.stats;k.parsing.start=k.parsing.end=k.buffering.start=k.buffering.end=self.performance.now(),N.trigger(L.Events.FRAG_LOADED,D),y.bitrateTest=!1}})},T._handleTransmuxComplete=function(y){var _,c="main",D=this.hls,N=y.remuxResult,k=y.chunkMeta,U=this.getCurrentContext(k);if(!U){this.warn("The loading context changed while buffering fragment "+k.sn+" of level "+k.level+". This chunk will not be buffered."),this.resetStartWhenNotLoaded(k.level);return}var $=U.frag,K=U.part,W=U.level,z=N.video,H=N.text,G=N.id3,X=N.initSegment,Y=W.details,Z=this.altAudio?void 0:N.audio;if(!this.fragContextChanged($)){if(this.state=d.State.PARSING,X){X.tracks&&(this._bufferInitSegment(W,X.tracks,$,k),D.trigger(L.Events.FRAG_PARSING_INIT_SEGMENT,{frag:$,id:c,tracks:X.tracks}));var q=X.initPTS,ne=X.timescale;(0,v.isFiniteNumber)(q)&&(this.initPTS[$.cc]=q,D.trigger(L.Events.INIT_PTS_FOUND,{frag:$,id:c,initPTS:q,timescale:ne}))}if(z&&N.independent!==!1){if(Y){var te=z.startPTS,ie=z.endPTS,ae=z.startDTS,ge=z.endDTS;if(K)K.elementaryStreams[z.type]={startPTS:te,endPTS:ie,startDTS:ae,endDTS:ge};else if(z.firstKeyFrame&&z.independent&&k.id===1&&(this.couldBacktrack=!0),z.dropped&&z.independent){var de=this.getMainFwdBufferInfo(),oe=(de?de.end:this.getLoadPosition())+this.config.maxBufferHole,he=z.firstKeyFramePTS?z.firstKeyFramePTS:te;if(oe<he-this.config.maxBufferHole){this.backtrack($);return}$.setElementaryStreamInfo(z.type,$.start,ie,$.start,ge,!0)}$.setElementaryStreamInfo(z.type,te,ie,ae,ge),this.backtrackFragment&&(this.backtrackFragment=$),this.bufferFragmentData(z,$,K,k)}}else if(N.independent===!1){this.backtrack($);return}if(Z){var Pe=Z.startPTS,Ae=Z.endPTS,ce=Z.startDTS,fe=Z.endDTS;K&&(K.elementaryStreams[w.ElementaryStreamTypes.AUDIO]={startPTS:Pe,endPTS:Ae,startDTS:ce,endDTS:fe}),$.setElementaryStreamInfo(w.ElementaryStreamTypes.AUDIO,Pe,Ae,ce,fe),this.bufferFragmentData(Z,$,K,k)}if(Y&&G!==null&&G!==void 0&&(_=G.samples)!==null&&_!==void 0&&_.length){var Te={id:c,frag:$,details:Y,samples:G.samples};D.trigger(L.Events.FRAG_PARSING_METADATA,Te)}if(Y&&H){var xe={id:c,frag:$,details:Y,samples:H.samples};D.trigger(L.Events.FRAG_PARSING_USERDATA,xe)}}},T._bufferInitSegment=function(y,_,c,D){var N=this;if(this.state===d.State.PARSING){this.audioOnly=!!_.audio&&!_.video,this.altAudio&&!this.audioOnly&&delete _.audio;var k=_.audio,U=_.video,$=_.audiovideo;if(k){var K=y.audioCodec,W=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(K&&(K.indexOf("mp4a.40.5")!==-1?K="mp4a.40.2":K="mp4a.40.5"),k.metadata.channelCount!==1&&W.indexOf("firefox")===-1&&(K="mp4a.40.5")),W.indexOf("android")!==-1&&k.container!=="audio/mpeg"&&(K="mp4a.40.2",this.log("Android: force audio codec to "+K)),y.audioCodec&&y.audioCodec!==K&&this.log('Swapping manifest audio codec "'+y.audioCodec+'" for "'+K+'"'),k.levelCodec=K,k.id="main",this.log("Init audio buffer, container:"+k.container+", codecs[selected/level/parsed]=["+(K||"")+"/"+(y.audioCodec||"")+"/"+k.codec+"]")}U&&(U.levelCodec=y.videoCodec,U.id="main",this.log("Init video buffer, container:"+U.container+", codecs[level/parsed]=["+(y.videoCodec||"")+"/"+U.codec+"]")),$&&this.log("Init audiovideo buffer, container:"+$.container+", codecs[level/parsed]=["+(y.attrs.CODECS||"")+"/"+$.codec+"]"),this.hls.trigger(L.Events.BUFFER_CODECS,_),Object.keys(_).forEach(function(z){var H=_[z],G=H.initSegment;G!=null&&G.byteLength&&N.hls.trigger(L.Events.BUFFER_APPENDING,{type:z,data:G,frag:c,part:null,chunkMeta:D,parent:c.type})}),this.tick()}},T.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,p.PlaylistLevelType.MAIN)},T.backtrack=function(y){this.couldBacktrack=!0,this.backtrackFragment=y,this.resetTransmuxer(),this.flushBufferGap(y),this.fragmentTracker.removeFragment(y),this.fragPrevious=null,this.nextLoadPosition=y.start,this.state=d.State.IDLE},T.checkFragmentChanged=function(){var y=this.media,_=null;if(y&&y.readyState>1&&y.seeking===!1){var c=y.currentTime;if(B.BufferHelper.isBuffered(y,c)?_=this.getAppendedFrag(c):B.BufferHelper.isBuffered(y,c+.1)&&(_=this.getAppendedFrag(c+.1)),_){this.backtrackFragment=null;var D=this.fragPlaying,N=_.level;(!D||_.sn!==D.sn||D.level!==N||_.urlId!==D.urlId)&&(this.fragPlaying=_,this.hls.trigger(L.Events.FRAG_CHANGED,{frag:_}),(!D||D.level!==N)&&this.hls.trigger(L.Events.LEVEL_SWITCHED,{level:N}))}}},h(F,[{key:"nextLevel",get:function(){var y=this.nextBufferedFrag;return y?y.level:-1}},{key:"currentFrag",get:function(){var y=this.media;return y?this.fragPlaying||this.getAppendedFrag(y.currentTime):null}},{key:"currentProgramDateTime",get:function(){var y=this.media;if(y){var _=y.currentTime,c=this.currentFrag;if(c&&(0,v.isFiniteNumber)(_)&&(0,v.isFiniteNumber)(c.programDateTime)){var D=c.programDateTime+(_-c.start)*1e3;return new Date(D)}}return null}},{key:"currentLevel",get:function(){var y=this.currentFrag;return y?y.level:-1}},{key:"nextBufferedFrag",get:function(){var y=this.currentFrag;return y?this.followingBufferedFrag(y):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),F}(d.default)},"./src/controller/subtitle-stream-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{SubtitleStreamController:()=>g});var v=a("./src/events.ts"),d=a("./src/utils/buffer-helper.ts"),M=a("./src/controller/fragment-finders.ts"),L=a("./src/utils/discontinuities.ts"),B=a("./src/controller/level-helper.ts"),I=a("./src/controller/fragment-tracker.ts"),p=a("./src/controller/base-stream-controller.ts"),w=a("./src/types/loader.ts"),S=a("./src/types/level.ts");function E(O,b){for(var P=0;P<b.length;P++){var F=b[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,A(F.key),F)}}function u(O,b,P){return b&&E(O.prototype,b),P&&E(O,P),Object.defineProperty(O,"prototype",{writable:!1}),O}function A(O){var b=x(O,"string");return typeof b=="symbol"?b:String(b)}function x(O,b){if(typeof O!="object"||O===null)return O;var P=O[Symbol.toPrimitive];if(P!==void 0){var F=P.call(O,b||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(O)}function h(O,b){O.prototype=Object.create(b.prototype),O.prototype.constructor=O,f(O,b)}function f(O,b){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,T){return F.__proto__=T,F},f(O,b)}var m=500,g=function(O){h(b,O);function b(F,T,C){var y;return y=O.call(this,F,T,C,"[subtitle-stream-controller]")||this,y.levels=[],y.currentTrackId=-1,y.tracksBuffered=[],y.mainDetails=null,y._registerListeners(),y}var P=b.prototype;return P.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},P._registerListeners=function(){var T=this.hls;T.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.on(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.on(v.Events.ERROR,this.onError,this),T.on(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),T.on(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),T.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),T.on(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),T.on(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),T.on(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},P._unregisterListeners=function(){var T=this.hls;T.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),T.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),T.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),T.off(v.Events.LEVEL_LOADED,this.onLevelLoaded,this),T.off(v.Events.ERROR,this.onError,this),T.off(v.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),T.off(v.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),T.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),T.off(v.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),T.off(v.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),T.off(v.Events.FRAG_BUFFERED,this.onFragBuffered,this)},P.startLoad=function(T){this.stopLoad(),this.state=p.State.IDLE,this.setInterval(m),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=T,this.tick()},P.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},P.onLevelLoaded=function(T,C){this.mainDetails=C.details},P.onSubtitleFragProcessed=function(T,C){var y=C.frag,_=C.success;if(this.fragPrevious=y,this.state=p.State.IDLE,!!_){var c=this.tracksBuffered[this.currentTrackId];if(c){for(var D,N=y.start,k=0;k<c.length;k++)if(N>=c[k].start&&N<=c[k].end){D=c[k];break}var U=y.start+y.duration;D?D.end=U:(D={start:N,end:U},c.push(D)),this.fragmentTracker.fragBuffered(y)}}},P.onBufferFlushing=function(T,C){var y=C.startOffset,_=C.endOffset;if(y===0&&_!==Number.POSITIVE_INFINITY){var c=this.currentTrackId,D=this.levels;if(!D.length||!D[c]||!D[c].details)return;var N=D[c].details,k=N.targetduration,U=_-k;if(U<=0)return;C.endOffsetSubtitles=Math.max(0,U),this.tracksBuffered.forEach(function($){for(var K=0;K<$.length;){if($[K].end<=U){$.shift();continue}else if($[K].start<U)$[K].start=U;else break;K++}}),this.fragmentTracker.removeFragmentsInRange(y,U,w.PlaylistLevelType.SUBTITLE)}},P.onFragBuffered=function(T,C){if(!this.loadedmetadata&&C.frag.type===w.PlaylistLevelType.MAIN){var y;(y=this.media)!==null&&y!==void 0&&y.buffered.length&&(this.loadedmetadata=!0)}},P.onError=function(T,C){var y=C.frag;!y||y.type!==w.PlaylistLevelType.SUBTITLE||(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state=p.State.IDLE)},P.onSubtitleTracksUpdated=function(T,C){var y=this,_=C.subtitleTracks;this.tracksBuffered=[],this.levels=_.map(function(c){return new S.Level(c)}),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach(function(c){y.tracksBuffered[c.id]=[]}),this.mediaBuffer=null},P.onSubtitleTrackSwitch=function(T,C){if(this.currentTrackId=C.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}var y=this.levels[this.currentTrackId];y!=null&&y.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,y&&this.setInterval(m)},P.onSubtitleTrackLoaded=function(T,C){var y,_=C.details,c=C.id,D=this.currentTrackId,N=this.levels;if(N.length){var k=N[D];if(!(c>=N.length||c!==D||!k)){this.mediaBuffer=this.mediaBufferTimeRanges;var U=0;if(_.live||(y=k.details)!==null&&y!==void 0&&y.live){var $=this.mainDetails;if(_.deltaUpdateFailed||!$)return;var K=$.fragments[0];k.details?(U=this.alignPlaylists(_,k.details),U===0&&K&&(U=K.start,(0,B.addSliding)(_,U))):_.hasProgramDateTime&&$.hasProgramDateTime?((0,L.alignMediaPlaylistByPDT)(_,$),U=_.fragments[0].start):K&&(U=K.start,(0,B.addSliding)(_,U))}if(k.details=_,this.levelLastLoaded=c,!this.startFragRequested&&(this.mainDetails||!_.live)&&this.setStartPosition(k.details,U),this.tick(),_.live&&!this.fragCurrent&&this.media&&this.state===p.State.IDLE){var W=(0,M.findFragmentByPTS)(null,_.fragments,this.media.currentTime,0);W||(this.warn("Subtitle playlist not aligned with playback"),k.details=void 0)}}}},P._handleFragmentLoadComplete=function(T){var C=this,y=T.frag,_=T.payload,c=y.decryptdata,D=this.hls;if(!this.fragContextChanged(y)&&_&&_.byteLength>0&&c&&c.key&&c.iv&&c.method==="AES-128"){var N=performance.now();this.decrypter.decrypt(new Uint8Array(_),c.key.buffer,c.iv.buffer).then(function(k){var U=performance.now();D.trigger(v.Events.FRAG_DECRYPTED,{frag:y,payload:k,stats:{tstart:N,tdecrypt:U}})}).catch(function(k){C.warn(k.name+": "+k.message),C.state=p.State.IDLE})}},P.doTick=function(){if(!this.media){this.state=p.State.IDLE;return}if(this.state===p.State.IDLE){var T=this.currentTrackId,C=this.levels;if(!C.length||!C[T]||!C[T].details)return;var y=C[T].details,_=y.targetduration,c=this.config,D=this.getLoadPosition(),N=d.BufferHelper.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],D-_,c.maxBufferHole),k=N.end,U=N.len,$=this.getFwdBufferInfo(this.media,w.PlaylistLevelType.MAIN),K=this.getMaxBufferLength($==null?void 0:$.len)+_;if(U>K)return;console.assert(y,"Subtitle track details are defined on idle subtitle stream controller tick");var W=y.fragments,z=W.length,H=y.edge,G=null,X=this.fragPrevious;if(k<H){var Y=c.maxFragLookUpTolerance;G=(0,M.findFragmentByPTS)(X,W,Math.max(W[0].start,k),Y),!G&&X&&X.start<W[0].start&&(G=W[0])}else G=W[z-1];if(!G)return;G=this.mapToInitFragWhenRequired(G),this.fragmentTracker.getState(G)===I.FragmentState.NOT_LOADED&&this.loadFragment(G,y,k)}},P.getMaxBufferLength=function(T){var C=O.prototype.getMaxBufferLength.call(this);return T?Math.max(C,T):C},P.loadFragment=function(T,C,y){this.fragCurrent=T,T.sn==="initSegment"?this._loadInitSegment(T,C):(this.startFragRequested=!0,O.prototype.loadFragment.call(this,T,C,y))},u(b,[{key:"mediaBufferTimeRanges",get:function(){return new R(this.tracksBuffered[this.currentTrackId]||[])}}]),b}(p.default),R=function(b){this.buffered=void 0;var P=function(T,C,y){if(C=C>>>0,C>y-1)throw new DOMException("Failed to execute '"+T+"' on 'TimeRanges': The index provided ("+C+") is greater than the maximum bound ("+y+")");return b[C][T]};this.buffered={get length(){return b.length},end:function(T){return P("end",T,b.length)},start:function(T){return P("start",T,b.length)}}}},"./src/controller/subtitle-track-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>x});var v=a("./src/events.ts"),d=a("./src/utils/texttrack-utils.ts"),M=a("./src/controller/base-playlist-controller.ts"),L=a("./src/types/loader.ts");function B(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,p(g.key),g)}}function I(h,f,m){return f&&B(h.prototype,f),m&&B(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function p(h){var f=w(h,"string");return typeof f=="symbol"?f:String(f)}function w(h,f){if(typeof h!="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(h)}function S(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,E(h,f)}function E(h,f){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,R){return g.__proto__=R,g},E(h,f)}var u=function(h){S(f,h);function f(g){var R;return R=h.call(this,g,"[subtitle-track-controller]")||this,R.media=null,R.tracks=[],R.groupId=null,R.tracksInGroup=[],R.trackId=-1,R.selectDefaultTrack=!0,R.queuedDefaultTrack=-1,R.trackChangeListener=function(){return R.onTextTracksChanged()},R.asyncPollTrackChange=function(){return R.pollTrackChange(0)},R.useTextTrackPolling=!1,R.subtitlePollingInterval=-1,R._subtitleDisplay=!0,R.registerListeners(),R}var m=f.prototype;return m.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,h.prototype.destroy.call(this)},m.registerListeners=function(){var R=this.hls;R.on(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),R.on(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),R.on(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),R.on(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),R.on(v.Events.LEVEL_LOADING,this.onLevelLoading,this),R.on(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),R.on(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),R.on(v.Events.ERROR,this.onError,this)},m.unregisterListeners=function(){var R=this.hls;R.off(v.Events.MEDIA_ATTACHED,this.onMediaAttached,this),R.off(v.Events.MEDIA_DETACHING,this.onMediaDetaching,this),R.off(v.Events.MANIFEST_LOADING,this.onManifestLoading,this),R.off(v.Events.MANIFEST_PARSED,this.onManifestParsed,this),R.off(v.Events.LEVEL_LOADING,this.onLevelLoading,this),R.off(v.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),R.off(v.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),R.off(v.Events.ERROR,this.onError,this)},m.onMediaAttached=function(R,O){this.media=O.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},m.pollTrackChange=function(R){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,R)},m.onMediaDetaching=function(){if(this.media){self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);var R=A(this.media.textTracks);R.forEach(function(O){(0,d.clearCurrentCues)(O)}),this.subtitleTrack=-1,this.media=null}},m.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},m.onManifestParsed=function(R,O){this.tracks=O.subtitleTracks},m.onSubtitleTrackLoaded=function(R,O){var b=O.id,P=O.details,F=this.trackId,T=this.tracksInGroup[F];if(!T){this.warn("Invalid subtitle track id "+b);return}var C=T.details;T.details=O.details,this.log("subtitle track "+b+" loaded ["+P.startSN+"-"+P.endSN+"]"),b===this.trackId&&(this.retryCount=0,this.playlistLoaded(b,O,C))},m.onLevelLoading=function(R,O){this.switchLevel(O.level)},m.onLevelSwitching=function(R,O){this.switchLevel(O.level)},m.switchLevel=function(R){var O=this.hls.levels[R];if(O!=null&&O.textGroupIds){var b=O.textGroupIds[O.urlId];if(this.groupId!==b){var P=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,F=this.tracks.filter(function(y){return!b||y.groupId===b});this.tracksInGroup=F;var T=this.findTrackId(P==null?void 0:P.name)||this.findTrackId();this.groupId=b;var C={subtitleTracks:F};this.log("Updating subtitle tracks, "+F.length+' track(s) found in "'+b+'" group-id'),this.hls.trigger(v.Events.SUBTITLE_TRACKS_UPDATED,C),T!==-1&&this.setSubtitleTrack(T,P)}}},m.findTrackId=function(R){for(var O=this.tracksInGroup,b=0;b<O.length;b++){var P=O[b];if((!this.selectDefaultTrack||P.default)&&(!R||R===P.name))return P.id}return-1},m.onError=function(R,O){h.prototype.onError.call(this,R,O),!(O.fatal||!O.context)&&O.context.type===L.PlaylistContextType.SUBTITLE_TRACK&&O.context.id===this.trackId&&O.context.groupId===this.groupId&&this.retryLoadingOrFail(O)},m.loadPlaylist=function(R){h.prototype.loadPlaylist.call(this);var O=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(O)){var b=O.id,P=O.groupId,F=O.url;if(R)try{F=R.addDirectives(F)}catch(T){this.warn("Could not construct new URL with HLS Delivery Directives: "+T)}this.log("Loading subtitle playlist for id "+b),this.hls.trigger(v.Events.SUBTITLE_TRACK_LOADING,{url:F,id:b,groupId:P,deliveryDirectives:R||null})}},m.toggleTrackModes=function(R){var O=this,b=this.media,P=this.trackId;if(b){var F=A(b.textTracks),T=F.filter(function(_){return _.groupId===O.groupId});if(R===-1)[].slice.call(F).forEach(function(_){_.mode="disabled"});else{var C=T[P];C&&(C.mode="disabled")}var y=T[R];y&&(y.mode=this.subtitleDisplay?"showing":"hidden")}},m.setSubtitleTrack=function(R,O){var b,P=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=R;return}if(this.trackId!==R&&this.toggleTrackModes(R),!(this.trackId===R&&(R===-1||(b=P[R])!==null&&b!==void 0&&b.details)||R<-1||R>=P.length)){this.clearTimer();var F=P[R];if(this.log("Switching to subtitle track "+R),this.trackId=R,F){var T=F.id,C=F.groupId,y=C===void 0?"":C,_=F.name,c=F.type,D=F.url;this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:T,groupId:y,name:_,type:c,url:D});var N=this.switchParams(F.url,O==null?void 0:O.details);this.loadPlaylist(N)}else this.hls.trigger(v.Events.SUBTITLE_TRACK_SWITCH,{id:R})}},m.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!(!this.media||!this.hls.config.renderTextTracksNatively)){for(var R=-1,O=A(this.media.textTracks),b=0;b<O.length;b++)if(O[b].mode==="hidden")R=b;else if(O[b].mode==="showing"){R=b;break}this.subtitleTrack!==R&&(this.subtitleTrack=R)}},I(f,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(R){this._subtitleDisplay=R,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(R){this.selectDefaultTrack=!1;var O=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(R,O)}}]),f}(M.default);function A(h){for(var f=[],m=0;m<h.length;m++){var g=h[m];g.kind==="subtitles"&&g.label&&f.push(h[m])}return f}const x=u},"./src/controller/timeline-controller.ts":(s,l,a)=>{a.r(l),a.d(l,{TimelineController:()=>u});var v=a("./src/polyfills/number.ts"),d=a("./src/events.ts"),M=a("./src/utils/cea-608-parser.ts"),L=a("./src/utils/output-filter.ts"),B=a("./src/utils/webvtt-parser.ts"),I=a("./src/utils/texttrack-utils.ts"),p=a("./src/utils/imsc1-ttml-parser.ts"),w=a("./src/utils/mp4-tools.ts"),S=a("./src/types/loader.ts"),E=a("./src/utils/logger.ts"),u=function(){function f(g){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=h(),this.captionsProperties=void 0,this.hls=g,this.config=g.config,this.Cues=g.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var R=new L.default(this,"textTrack1"),O=new L.default(this,"textTrack2"),b=new L.default(this,"textTrack3"),P=new L.default(this,"textTrack4");this.cea608Parser1=new M.default(1,R,O),this.cea608Parser2=new M.default(3,b,P)}g.on(d.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),g.on(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),g.on(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),g.on(d.Events.MANIFEST_LOADED,this.onManifestLoaded,this),g.on(d.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),g.on(d.Events.FRAG_LOADING,this.onFragLoading,this),g.on(d.Events.FRAG_LOADED,this.onFragLoaded,this),g.on(d.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),g.on(d.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),g.on(d.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),g.on(d.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),g.on(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var m=f.prototype;return m.destroy=function(){var R=this.hls;R.off(d.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),R.off(d.Events.MEDIA_DETACHING,this.onMediaDetaching,this),R.off(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),R.off(d.Events.MANIFEST_LOADED,this.onManifestLoaded,this),R.off(d.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),R.off(d.Events.FRAG_LOADING,this.onFragLoading,this),R.off(d.Events.FRAG_LOADED,this.onFragLoaded,this),R.off(d.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),R.off(d.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),R.off(d.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),R.off(d.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),R.off(d.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},m.addCues=function(R,O,b,P,F){for(var T=!1,C=F.length;C--;){var y=F[C],_=x(y[0],y[1],O,b);if(_>=0&&(y[0]=Math.min(y[0],O),y[1]=Math.max(y[1],b),T=!0,_/(b-O)>.5))return}if(T||F.push([O,b]),this.config.renderTextTracksNatively){var c=this.captionsTracks[R];this.Cues.newCue(c,O,b,P)}else{var D=this.Cues.newCue(null,O,b,P);this.hls.trigger(d.Events.CUES_PARSED,{type:"captions",cues:D,track:R})}},m.onInitPtsFound=function(R,O){var b=this,P=O.frag,F=O.id,T=O.initPTS,C=O.timescale,y=this.unparsedVttFrags;F==="main"&&(this.initPTS[P.cc]=T,this.timescale[P.cc]=C),y.length&&(this.unparsedVttFrags=[],y.forEach(function(_){b.onFragLoaded(d.Events.FRAG_LOADED,_)}))},m.getExistingTrack=function(R){var O=this.media;if(O)for(var b=0;b<O.textTracks.length;b++){var P=O.textTracks[b];if(P[R])return P}return null},m.createCaptionsTrack=function(R){this.config.renderTextTracksNatively?this.createNativeTrack(R):this.createNonNativeTrack(R)},m.createNativeTrack=function(R){if(!this.captionsTracks[R]){var O=this.captionsProperties,b=this.captionsTracks,P=this.media,F=O[R],T=F.label,C=F.languageCode,y=this.getExistingTrack(R);if(y)b[R]=y,(0,I.clearCurrentCues)(b[R]),(0,I.sendAddTrackEvent)(b[R],P);else{var _=this.createTextTrack("captions",T,C);_&&(_[R]=!0,b[R]=_)}}},m.createNonNativeTrack=function(R){if(!this.nonNativeCaptionsTracks[R]){var O=this.captionsProperties[R];if(O){var b=O.label,P={_id:R,label:b,kind:"captions",default:O.media?!!O.media.default:!1,closedCaptions:O.media};this.nonNativeCaptionsTracks[R]=P,this.hls.trigger(d.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[P]})}}},m.createTextTrack=function(R,O,b){var P=this.media;if(P)return P.addTextTrack(R,O,b)},m.onMediaAttaching=function(R,O){this.media=O.media,this._cleanTracks()},m.onMediaDetaching=function(){var R=this.captionsTracks;Object.keys(R).forEach(function(O){(0,I.clearCurrentCues)(R[O]),delete R[O]}),this.nonNativeCaptionsTracks={}},m.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=h(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},m._cleanTracks=function(){var R=this.media;if(R){var O=R.textTracks;if(O)for(var b=0;b<O.length;b++)(0,I.clearCurrentCues)(O[b])}},m.onSubtitleTracksUpdated=function(R,O){var b=this;this.textTracks=[];var P=O.subtitleTracks||[],F=P.some(function(_){return _.textCodec===p.IMSC1_CODEC});if(this.config.enableWebVTT||F&&this.config.enableIMSC1){var T=this.tracks&&P&&this.tracks.length===P.length;if(this.tracks=P||[],this.config.renderTextTracksNatively){var C=this.media?this.media.textTracks:[];this.tracks.forEach(function(_,c){var D;if(c<C.length){for(var N=null,k=0;k<C.length;k++)if(A(C[k],_)){N=C[k];break}N&&(D=N)}if(D)(0,I.clearCurrentCues)(D);else{var U=b._captionsOrSubtitlesFromCharacteristics(_);D=b.createTextTrack(U,_.name,_.lang),D&&(D.mode="disabled")}D&&(D.groupId=_.groupId,b.textTracks.push(D))})}else if(!T&&this.tracks&&this.tracks.length){var y=this.tracks.map(function(_){return{label:_.name,kind:_.type.toLowerCase(),default:_.default,subtitleTrack:_}});this.hls.trigger(d.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:y})}}},m._captionsOrSubtitlesFromCharacteristics=function(R){var O;if((O=R.attrs)!==null&&O!==void 0&&O.CHARACTERISTICS){var b=/transcribes-spoken-dialog/gi.test(R.attrs.CHARACTERISTICS),P=/describes-music-and-sound/gi.test(R.attrs.CHARACTERISTICS);if(b&&P)return"captions"}return"subtitles"},m.onManifestLoaded=function(R,O){var b=this;this.config.enableCEA708Captions&&O.captions&&O.captions.forEach(function(P){var F=/(?:CC|SERVICE)([1-4])/.exec(P.instreamId);if(F){var T="textTrack"+F[1],C=b.captionsProperties[T];C&&(C.label=P.name,P.lang&&(C.languageCode=P.lang),C.media=P)}})},m.closedCaptionsForLevel=function(R){var O=this.hls.levels[R.level];return O==null?void 0:O.attrs["CLOSED-CAPTIONS"]},m.onFragLoading=function(R,O){var b=this.cea608Parser1,P=this.cea608Parser2,F=this.lastSn,T=this.lastPartIndex;if(!(!this.enabled||!(b&&P))&&O.frag.type===S.PlaylistLevelType.MAIN){var C,y,_=O.frag.sn,c=(C=O==null||(y=O.part)===null||y===void 0?void 0:y.index)!=null?C:-1;_===F+1||_===F&&c===T+1||(b.reset(),P.reset()),this.lastSn=_,this.lastPartIndex=c}},m.onFragLoaded=function(R,O){var b=O.frag,P=O.payload,F=this.initPTS,T=this.unparsedVttFrags;if(b.type===S.PlaylistLevelType.SUBTITLE)if(P.byteLength){if(!(0,v.isFiniteNumber)(F[b.cc])){T.push(O),F.length&&this.hls.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:new Error("Missing initial subtitle PTS")});return}var C=b.decryptdata,y="stats"in O;if(C==null||!C.encrypted||y){var _=this.tracks[b.level],c=this.vttCCs;c[b.cc]||(c[b.cc]={start:b.start,prevCC:this.prevCC,new:!0},this.prevCC=b.cc),_&&_.textCodec===p.IMSC1_CODEC?this._parseIMSC1(b,P):this._parseVTTs(b,P,c)}}else this.hls.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:b,error:new Error("Empty subtitle payload")})},m._parseIMSC1=function(R,O){var b=this,P=this.hls;(0,p.parseIMSC1)(O,this.initPTS[R.cc],this.timescale[R.cc],function(F){b._appendCues(F,R.level),P.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:R})},function(F){E.logger.log("Failed to parse IMSC1: "+F),P.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:R,error:F})})},m._parseVTTs=function(R,O,b){var P,F=this,T=this.hls,C=(P=R.initSegment)!==null&&P!==void 0&&P.data?(0,w.appendUint8Array)(R.initSegment.data,new Uint8Array(O)):O;(0,B.parseWebVTT)(C,this.initPTS[R.cc],this.timescale[R.cc],b,R.cc,R.start,function(y){F._appendCues(y,R.level),T.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:R})},function(y){F._fallbackToIMSC1(R,O),E.logger.log("Failed to parse VTT cue: "+y),T.trigger(d.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:R,error:y})})},m._fallbackToIMSC1=function(R,O){var b=this,P=this.tracks[R.level];P.textCodec||(0,p.parseIMSC1)(O,this.initPTS[R.cc],this.timescale[R.cc],function(){P.textCodec=p.IMSC1_CODEC,b._parseIMSC1(R,O)},function(){P.textCodec="wvtt"})},m._appendCues=function(R,O){var b=this.hls;if(this.config.renderTextTracksNatively){var P=this.textTracks[O];if(!P||P.mode==="disabled")return;R.forEach(function(C){return(0,I.addCueToTrack)(P,C)})}else{var F=this.tracks[O];if(!F)return;var T=F.default?"default":"subtitles"+O;b.trigger(d.Events.CUES_PARSED,{type:"subtitles",cues:R,track:T})}},m.onFragDecrypted=function(R,O){var b=O.frag;if(b.type===S.PlaylistLevelType.SUBTITLE){if(!(0,v.isFiniteNumber)(this.initPTS[b.cc])){this.unparsedVttFrags.push(O);return}this.onFragLoaded(d.Events.FRAG_LOADED,O)}},m.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},m.onFragParsingUserdata=function(R,O){var b=this.cea608Parser1,P=this.cea608Parser2;if(!(!this.enabled||!(b&&P))){var F=O.frag,T=O.samples;if(!(F.type===S.PlaylistLevelType.MAIN&&this.closedCaptionsForLevel(F)==="NONE"))for(var C=0;C<T.length;C++){var y=T[C].bytes;if(y){var _=this.extractCea608Data(y);b.addData(T[C].pts,_[0]),P.addData(T[C].pts,_[1])}}}},m.onBufferFlushing=function(R,O){var b=O.startOffset,P=O.endOffset,F=O.endOffsetSubtitles,T=O.type,C=this.media;if(!(!C||C.currentTime<P)){if(!T||T==="video"){var y=this.captionsTracks;Object.keys(y).forEach(function(c){return(0,I.removeCuesInRange)(y[c],b,P)})}if(this.config.renderTextTracksNatively&&b===0&&F!==void 0){var _=this.textTracks;Object.keys(_).forEach(function(c){return(0,I.removeCuesInRange)(_[c],b,F)})}}},m.extractCea608Data=function(R){for(var O=[[],[]],b=R[0]&31,P=2,F=0;F<b;F++){var T=R[P++],C=127&R[P++],y=127&R[P++];if(!(C===0&&y===0)){var _=(4&T)!==0;if(_){var c=3&T;(c===0||c===1)&&(O[c].push(C),O[c].push(y))}}}return O},f}();function A(f,m){return f&&f.label===m.name&&!(f.textTrack1||f.textTrack2)}function x(f,m,g,R){return Math.min(m,R)-Math.max(f,g)}function h(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}},"./src/crypt/aes-crypto.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});var v=function(){function d(L,B){this.subtle=void 0,this.aesIV=void 0,this.subtle=L,this.aesIV=B}var M=d.prototype;return M.decrypt=function(B,I){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},I,B)},d}()},"./src/crypt/aes-decryptor.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>M,removePadding:()=>d});var v=a("./src/utils/typed-array.ts");function d(L){var B=L.byteLength,I=B&&new DataView(L.buffer).getUint8(B-1);return I?(0,v.sliceUint8)(L,0,B-I):L}var M=function(){function L(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var B=L.prototype;return B.uint8ArrayToUint32Array_=function(p){for(var w=new DataView(p),S=new Uint32Array(4),E=0;E<4;E++)S[E]=w.getUint32(E*4);return S},B.initTable=function(){var p=this.sBox,w=this.invSBox,S=this.subMix,E=S[0],u=S[1],A=S[2],x=S[3],h=this.invSubMix,f=h[0],m=h[1],g=h[2],R=h[3],O=new Uint32Array(256),b=0,P=0,F=0;for(F=0;F<256;F++)F<128?O[F]=F<<1:O[F]=F<<1^283;for(F=0;F<256;F++){var T=P^P<<1^P<<2^P<<3^P<<4;T=T>>>8^T&255^99,p[b]=T,w[T]=b;var C=O[b],y=O[C],_=O[y],c=O[T]*257^T*16843008;E[b]=c<<24|c>>>8,u[b]=c<<16|c>>>16,A[b]=c<<8|c>>>24,x[b]=c,c=_*16843009^y*65537^C*257^b*16843008,f[T]=c<<24|c>>>8,m[T]=c<<16|c>>>16,g[T]=c<<8|c>>>24,R[T]=c,b?(b=C^O[O[O[_^C]]],P^=O[O[P]]):b=P=1}},B.expandKey=function(p){for(var w=this.uint8ArrayToUint32Array_(p),S=!0,E=0;E<w.length&&S;)S=w[E]===this.key[E],E++;if(!S){this.key=w;var u=this.keySize=w.length;if(u!==4&&u!==6&&u!==8)throw new Error("Invalid aes key size="+u);var A=this.ksRows=(u+6+1)*4,x,h,f=this.keySchedule=new Uint32Array(A),m=this.invKeySchedule=new Uint32Array(A),g=this.sBox,R=this.rcon,O=this.invSubMix,b=O[0],P=O[1],F=O[2],T=O[3],C,y;for(x=0;x<A;x++){if(x<u){C=f[x]=w[x];continue}y=C,x%u===0?(y=y<<8|y>>>24,y=g[y>>>24]<<24|g[y>>>16&255]<<16|g[y>>>8&255]<<8|g[y&255],y^=R[x/u|0]<<24):u>6&&x%u===4&&(y=g[y>>>24]<<24|g[y>>>16&255]<<16|g[y>>>8&255]<<8|g[y&255]),f[x]=C=(f[x-u]^y)>>>0}for(h=0;h<A;h++)x=A-h,h&3?y=f[x]:y=f[x-4],h<4||x<=4?m[h]=y:m[h]=b[g[y>>>24]]^P[g[y>>>16&255]]^F[g[y>>>8&255]]^T[g[y&255]],m[h]=m[h]>>>0}},B.networkToHostOrderSwap=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},B.decrypt=function(p,w,S){for(var E=this.keySize+6,u=this.invKeySchedule,A=this.invSBox,x=this.invSubMix,h=x[0],f=x[1],m=x[2],g=x[3],R=this.uint8ArrayToUint32Array_(S),O=R[0],b=R[1],P=R[2],F=R[3],T=new Int32Array(p),C=new Int32Array(T.length),y,_,c,D,N,k,U,$,K,W,z,H,G,X,Y=this.networkToHostOrderSwap;w<T.length;){for(K=Y(T[w]),W=Y(T[w+1]),z=Y(T[w+2]),H=Y(T[w+3]),N=K^u[0],k=H^u[1],U=z^u[2],$=W^u[3],G=4,X=1;X<E;X++)y=h[N>>>24]^f[k>>16&255]^m[U>>8&255]^g[$&255]^u[G],_=h[k>>>24]^f[U>>16&255]^m[$>>8&255]^g[N&255]^u[G+1],c=h[U>>>24]^f[$>>16&255]^m[N>>8&255]^g[k&255]^u[G+2],D=h[$>>>24]^f[N>>16&255]^m[k>>8&255]^g[U&255]^u[G+3],N=y,k=_,U=c,$=D,G=G+4;y=A[N>>>24]<<24^A[k>>16&255]<<16^A[U>>8&255]<<8^A[$&255]^u[G],_=A[k>>>24]<<24^A[U>>16&255]<<16^A[$>>8&255]<<8^A[N&255]^u[G+1],c=A[U>>>24]<<24^A[$>>16&255]<<16^A[N>>8&255]<<8^A[k&255]^u[G+2],D=A[$>>>24]<<24^A[N>>16&255]<<16^A[k>>8&255]<<8^A[U&255]^u[G+3],C[w]=Y(y^O),C[w+1]=Y(D^b),C[w+2]=Y(c^P),C[w+3]=Y(_^F),O=K,b=W,P=z,F=H,w=w+4}return C.buffer},L}()},"./src/crypt/decrypter.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>w});var v=a("./src/crypt/aes-crypto.ts"),d=a("./src/crypt/fast-aes-key.ts"),M=a("./src/crypt/aes-decryptor.ts"),L=a("./src/utils/logger.ts"),B=a("./src/utils/mp4-tools.ts"),I=a("./src/utils/typed-array.ts"),p=16,w=function(){function S(u,A){var x=A===void 0?{}:A,h=x.removePKCS7Padding,f=h===void 0?!0:h;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=u.enableSoftwareAES,this.removePKCS7Padding=f,f)try{var m=self.crypto;m&&(this.subtle=m.subtle||m.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}var E=S.prototype;return E.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},E.isSync=function(){return this.useSoftware},E.flush=function(){var A=this.currentResult,x=this.remainderData;if(!A||x)return this.reset(),null;var h=new Uint8Array(A);return this.reset(),this.removePKCS7Padding?(0,M.removePadding)(h):h},E.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},E.decrypt=function(A,x,h){var f=this;return this.useSoftware?new Promise(function(m,g){f.softwareDecrypt(new Uint8Array(A),x,h);var R=f.flush();R?m(R.buffer):g(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(A),x,h)},E.softwareDecrypt=function(A,x,h){var f=this.currentIV,m=this.currentResult,g=this.remainderData;this.logOnce("JS AES decrypt"),g&&(A=(0,B.appendUint8Array)(g,A),this.remainderData=null);var R=this.getValidChunk(A);if(!R.length)return null;f&&(h=f);var O=this.softwareDecrypter;O||(O=this.softwareDecrypter=new M.default),O.expandKey(x);var b=m;return this.currentResult=O.decrypt(R.buffer,0,h),this.currentIV=(0,I.sliceUint8)(R,-16).buffer,b||null},E.webCryptoDecrypt=function(A,x,h){var f=this,m=this.subtle;return(this.key!==x||!this.fastAesKey)&&(this.key=x,this.fastAesKey=new d.default(m,x)),this.fastAesKey.expandKey().then(function(g){if(!m)return Promise.reject(new Error("web crypto not initialized"));f.logOnce("WebCrypto AES decrypt");var R=new v.default(m,new Uint8Array(h));return R.decrypt(A.buffer,g)}).catch(function(g){return L.logger.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+g.name+": "+g.message),f.onWebCryptoError(A,x,h)})},E.onWebCryptoError=function(A,x,h){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(A,x,h);var f=this.flush();if(f)return f.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},E.getValidChunk=function(A){var x=A,h=A.length-A.length%p;return h!==A.length&&(x=(0,I.sliceUint8)(A,0,h),this.remainderData=(0,I.sliceUint8)(A,h)),x},E.logOnce=function(A){this.logEnabled&&(L.logger.log("[decrypter]: "+A),this.logEnabled=!1)},S}()},"./src/crypt/fast-aes-key.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});var v=function(){function d(L,B){this.subtle=void 0,this.key=void 0,this.subtle=L,this.key=B}var M=d.prototype;return M.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},d}()},"./src/demux/aacdemuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>w});var v=a("./src/demux/base-audio-demuxer.ts"),d=a("./src/demux/adts.ts"),M=a("./src/utils/logger.ts"),L=a("./src/demux/id3.ts");function B(S,E){S.prototype=Object.create(E.prototype),S.prototype.constructor=S,I(S,E)}function I(S,E){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,x){return A.__proto__=x,A},I(S,E)}var p=function(S){B(E,S);function E(A,x){var h;return h=S.call(this)||this,h.observer=void 0,h.config=void 0,h.observer=A,h.config=x,h}var u=E.prototype;return u.resetInitSegment=function(x,h,f,m){S.prototype.resetInitSegment.call(this,x,h,f,m),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:h,duration:m,inputTimeScale:9e4,dropped:0}},E.probe=function(x){if(!x)return!1;for(var h=L.getID3Data(x,0)||[],f=h.length,m=x.length;f<m;f++)if(d.probe(x,f))return M.logger.log("ADTS sync word found !"),!0;return!1},u.canParse=function(x,h){return d.canParse(x,h)},u.appendFrame=function(x,h,f){d.initTrackConfig(x,this.observer,h,f,x.manifestCodec);var m=d.appendFrame(x,h,f,this.basePTS,this.frameIndex);if(m&&m.missing===0)return m},E}(v.default);const w=p},"./src/demux/adts.ts":(s,l,a)=>{a.r(l),a.d(l,{appendFrame:()=>f,canGetFrameLength:()=>w,canParse:()=>E,getAudioConfig:()=>L,getFrameDuration:()=>x,getFullFrameLength:()=>p,getHeaderLength:()=>I,initTrackConfig:()=>A,isHeader:()=>S,isHeaderPattern:()=>B,parseFrameHeader:()=>h,probe:()=>u});var v=a("./src/utils/logger.ts"),d=a("./src/errors.ts"),M=a("./src/events.ts");function L(m,g,R,O){var b,P,F,T,C=navigator.userAgent.toLowerCase(),y=O,_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];b=((g[R+2]&192)>>>6)+1;var c=(g[R+2]&60)>>>2;if(c>_.length-1){m.trigger(M.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+c});return}return F=(g[R+2]&1)<<2,F|=(g[R+3]&192)>>>6,v.logger.log("manifest codec:"+O+", ADTS type:"+b+", samplingIndex:"+c),/firefox/i.test(C)?c>=6?(b=5,T=new Array(4),P=c-3):(b=2,T=new Array(2),P=c):C.indexOf("android")!==-1?(b=2,T=new Array(2),P=c):(b=5,T=new Array(4),O&&(O.indexOf("mp4a.40.29")!==-1||O.indexOf("mp4a.40.5")!==-1)||!O&&c>=6?P=c-3:((O&&O.indexOf("mp4a.40.2")!==-1&&(c>=6&&F===1||/vivaldi/i.test(C))||!O&&F===1)&&(b=2,T=new Array(2)),P=c)),T[0]=b<<3,T[0]|=(c&14)>>1,T[1]|=(c&1)<<7,T[1]|=F<<3,b===5&&(T[1]|=(P&14)>>1,T[2]=(P&1)<<7,T[2]|=8,T[3]=0),{config:T,samplerate:_[c],channelCount:F,codec:"mp4a.40."+b,manifestCodec:y}}function B(m,g){return m[g]===255&&(m[g+1]&246)===240}function I(m,g){return m[g+1]&1?7:9}function p(m,g){return(m[g+3]&3)<<11|m[g+4]<<3|(m[g+5]&224)>>>5}function w(m,g){return g+5<m.length}function S(m,g){return g+1<m.length&&B(m,g)}function E(m,g){return w(m,g)&&B(m,g)&&p(m,g)<=m.length-g}function u(m,g){if(S(m,g)){var R=I(m,g);if(g+R>=m.length)return!1;var O=p(m,g);if(O<=R)return!1;var b=g+O;return b===m.length||S(m,b)}return!1}function A(m,g,R,O,b){if(!m.samplerate){var P=L(g,R,O,b);if(!P)return;m.config=P.config,m.samplerate=P.samplerate,m.channelCount=P.channelCount,m.codec=P.codec,m.manifestCodec=P.manifestCodec,v.logger.log("parsed codec:"+m.codec+", rate:"+P.samplerate+", channels:"+P.channelCount)}}function x(m){return 9216e4/m}function h(m,g){var R=I(m,g);if(g+R<=m.length){var O=p(m,g)-R;if(O>0)return{headerLength:R,frameLength:O}}}function f(m,g,R,O,b){var P=x(m.samplerate),F=O+b*P,T=h(g,R),C;if(T){var y=T.frameLength,_=T.headerLength,c=_+y,D=Math.max(0,R+c-g.length);D?(C=new Uint8Array(c-_),C.set(g.subarray(R+_,g.length),0)):C=g.subarray(R+_,R+c);var N={unit:C,pts:F};return D||m.samples.push(N),{sample:N,length:c,missing:D}}var k=g.length-R;C=new Uint8Array(k),C.set(g.subarray(R,g.length),0);var U={unit:C,pts:F};return{sample:U,length:k,missing:-1}}},"./src/demux/base-audio-demuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>S,initPTSFn:()=>w});var v=a("./src/polyfills/number.ts"),d=a("./src/demux/id3.ts"),M=a("./src/types/demuxer.ts"),L=a("./src/demux/dummy-demuxed-track.ts"),B=a("./src/utils/mp4-tools.ts"),I=a("./src/utils/typed-array.ts"),p=function(){function E(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var u=E.prototype;return u.resetInitSegment=function(x,h,f,m){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},u.resetTimeStamp=function(x){this.initPTS=x,this.resetContiguity()},u.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},u.canParse=function(x,h){return!1},u.appendFrame=function(x,h,f){},u.demux=function(x,h){this.cachedData&&(x=(0,B.appendUint8Array)(this.cachedData,x),this.cachedData=null);var f=d.getID3Data(x,0),m=f?f.length:0,g,R=this._audioTrack,O=this._id3Track,b=f?d.getTimeStamp(f):void 0,P=x.length;for((this.basePTS===null||this.frameIndex===0&&(0,v.isFiniteNumber)(b))&&(this.basePTS=w(b,h,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),f&&f.length>0&&O.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:f,type:M.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});m<P;){if(this.canParse(x,m)){var F=this.appendFrame(R,x,m);F?(this.frameIndex++,this.lastPTS=F.sample.pts,m+=F.length,g=m):m=P}else d.canParse(x,m)?(f=d.getID3Data(x,m),O.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:f,type:M.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY}),m+=f.length,g=m):m++;if(m===P&&g!==P){var T=(0,I.sliceUint8)(x,g);this.cachedData?this.cachedData=(0,B.appendUint8Array)(this.cachedData,T):this.cachedData=T}}return{audioTrack:R,videoTrack:(0,L.dummyTrack)(),id3Track:O,textTrack:(0,L.dummyTrack)()}},u.demuxSampleAes=function(x,h,f){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},u.flush=function(x){var h=this.cachedData;return h&&(this.cachedData=null,this.demux(h,0)),{audioTrack:this._audioTrack,videoTrack:(0,L.dummyTrack)(),id3Track:this._id3Track,textTrack:(0,L.dummyTrack)()}},u.destroy=function(){},E}(),w=function(u,A,x){return(0,v.isFiniteNumber)(u)?u*90:A*9e4+(x||0)};const S=p},"./src/demux/chunk-cache.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});var v=function(){function M(){this.chunks=[],this.dataLength=0}var L=M.prototype;return L.push=function(I){this.chunks.push(I),this.dataLength+=I.length},L.flush=function(){var I=this.chunks,p=this.dataLength,w;if(I.length)I.length===1?w=I[0]:w=d(I,p);else return new Uint8Array(0);return this.reset(),w},L.reset=function(){this.chunks.length=0,this.dataLength=0},M}();function d(M,L){for(var B=new Uint8Array(L),I=0,p=0;p<M.length;p++){var w=M[p];B.set(w,I),I+=w.length}return B}},"./src/demux/dummy-demuxed-track.ts":(s,l,a)=>{a.r(l),a.d(l,{dummyTrack:()=>v});function v(d,M){return d===void 0&&(d=""),M===void 0&&(M=9e4),{type:d,id:-1,pid:-1,inputTimeScale:M,sequenceNumber:-1,samples:[],dropped:0}}},"./src/demux/exp-golomb.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>M});var v=a("./src/utils/logger.ts"),d=function(){function L(I){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=I,this.bytesAvailable=I.byteLength,this.word=0,this.bitsAvailable=0}var B=L.prototype;return B.loadWord=function(){var p=this.data,w=this.bytesAvailable,S=p.byteLength-w,E=new Uint8Array(4),u=Math.min(4,w);if(u===0)throw new Error("no bytes available");E.set(p.subarray(S,S+u)),this.word=new DataView(E.buffer).getUint32(0),this.bitsAvailable=u*8,this.bytesAvailable-=u},B.skipBits=function(p){var w;p=Math.min(p,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>p?(this.word<<=p,this.bitsAvailable-=p):(p-=this.bitsAvailable,w=p>>3,p-=w<<3,this.bytesAvailable-=w,this.loadWord(),this.word<<=p,this.bitsAvailable-=p)},B.readBits=function(p){var w=Math.min(this.bitsAvailable,p),S=this.word>>>32-w;if(p>32&&v.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=w,this.bitsAvailable>0)this.word<<=w;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return w=p-w,w>0&&this.bitsAvailable?S<<w|this.readBits(w):S},B.skipLZ=function(){var p;for(p=0;p<this.bitsAvailable;++p)if(this.word&2147483648>>>p)return this.word<<=p,this.bitsAvailable-=p,p;return this.loadWord(),p+this.skipLZ()},B.skipUEG=function(){this.skipBits(1+this.skipLZ())},B.skipEG=function(){this.skipBits(1+this.skipLZ())},B.readUEG=function(){var p=this.skipLZ();return this.readBits(p+1)-1},B.readEG=function(){var p=this.readUEG();return 1&p?1+p>>>1:-1*(p>>>1)},B.readBoolean=function(){return this.readBits(1)===1},B.readUByte=function(){return this.readBits(8)},B.readUShort=function(){return this.readBits(16)},B.readUInt=function(){return this.readBits(32)},B.skipScalingList=function(p){for(var w=8,S=8,E,u=0;u<p;u++)S!==0&&(E=this.readEG(),S=(w+E+256)%256),w=S===0?w:S},B.readSPS=function(){var p=0,w=0,S=0,E=0,u,A,x,h=this.readUByte.bind(this),f=this.readBits.bind(this),m=this.readUEG.bind(this),g=this.readBoolean.bind(this),R=this.skipBits.bind(this),O=this.skipEG.bind(this),b=this.skipUEG.bind(this),P=this.skipScalingList.bind(this);h();var F=h();if(f(5),R(3),h(),b(),F===100||F===110||F===122||F===244||F===44||F===83||F===86||F===118||F===128){var T=m();if(T===3&&R(1),b(),b(),R(1),g())for(A=T!==3?8:12,x=0;x<A;x++)g()&&(x<6?P(16):P(64))}b();var C=m();if(C===0)m();else if(C===1)for(R(1),O(),O(),u=m(),x=0;x<u;x++)O();b(),R(1);var y=m(),_=m(),c=f(1);c===0&&R(1),R(1),g()&&(p=m(),w=m(),S=m(),E=m());var D=[1,1];if(g()&&g()){var N=h();switch(N){case 1:D=[1,1];break;case 2:D=[12,11];break;case 3:D=[10,11];break;case 4:D=[16,11];break;case 5:D=[40,33];break;case 6:D=[24,11];break;case 7:D=[20,11];break;case 8:D=[32,11];break;case 9:D=[80,33];break;case 10:D=[18,11];break;case 11:D=[15,11];break;case 12:D=[64,33];break;case 13:D=[160,99];break;case 14:D=[4,3];break;case 15:D=[3,2];break;case 16:D=[2,1];break;case 255:{D=[h()<<8|h(),h()<<8|h()];break}}}return{width:Math.ceil((y+1)*16-p*2-w*2),height:(2-c)*(_+1)*16-(c?2:4)*(S+E),pixelRatio:D}},B.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},L}();const M=d},"./src/demux/id3.ts":(s,l,a)=>{a.r(l),a.d(l,{canParse:()=>B,decodeFrame:()=>E,getID3Data:()=>M,getID3Frames:()=>S,getTimeStamp:()=>I,isFooter:()=>d,isHeader:()=>v,isTimeStampFrame:()=>p,testables:()=>m,utf8ArrayToStr:()=>f});var v=function(b,P){return P+10<=b.length&&b[P]===73&&b[P+1]===68&&b[P+2]===51&&b[P+3]<255&&b[P+4]<255&&b[P+6]<128&&b[P+7]<128&&b[P+8]<128&&b[P+9]<128},d=function(b,P){return P+10<=b.length&&b[P]===51&&b[P+1]===68&&b[P+2]===73&&b[P+3]<255&&b[P+4]<255&&b[P+6]<128&&b[P+7]<128&&b[P+8]<128&&b[P+9]<128},M=function(b,P){for(var F=P,T=0;v(b,P);){T+=10;var C=L(b,P+6);T+=C,d(b,P+10)&&(T+=10),P+=T}if(T>0)return b.subarray(F,F+T)},L=function(b,P){var F=0;return F=(b[P]&127)<<21,F|=(b[P+1]&127)<<14,F|=(b[P+2]&127)<<7,F|=b[P+3]&127,F},B=function(b,P){return v(b,P)&&L(b,P+6)+10<=b.length-P},I=function(b){for(var P=S(b),F=0;F<P.length;F++){var T=P[F];if(p(T))return h(T)}},p=function(b){return b&&b.key==="PRIV"&&b.info==="com.apple.streaming.transportStreamTimestamp"},w=function(b){var P=String.fromCharCode(b[0],b[1],b[2],b[3]),F=L(b,4),T=10;return{type:P,size:F,data:b.subarray(T,T+F)}},S=function(b){for(var P=0,F=[];v(b,P);){var T=L(b,P+6);P+=10;for(var C=P+T;P+8<C;){var y=w(b.subarray(P)),_=E(y);_&&F.push(_),P+=y.size+10}d(b,P)&&(P+=10)}return F},E=function(b){return b.type==="PRIV"?u(b):b.type[0]==="W"?x(b):A(b)},u=function(b){if(!(b.size<2)){var P=f(b.data,!0),F=new Uint8Array(b.data.subarray(P.length+1));return{key:b.type,info:P,data:F.buffer}}},A=function(b){if(!(b.size<2)){if(b.type==="TXXX"){var P=1,F=f(b.data.subarray(P),!0);P+=F.length+1;var T=f(b.data.subarray(P));return{key:b.type,info:F,data:T}}var C=f(b.data.subarray(1));return{key:b.type,data:C}}},x=function(b){if(b.type==="WXXX"){if(b.size<2)return;var P=1,F=f(b.data.subarray(P),!0);P+=F.length+1;var T=f(b.data.subarray(P));return{key:b.type,info:F,data:T}}var C=f(b.data);return{key:b.type,data:C}},h=function(b){if(b.data.byteLength===8){var P=new Uint8Array(b.data),F=P[3]&1,T=(P[4]<<23)+(P[5]<<15)+(P[6]<<7)+P[7];return T/=45,F&&(T+=4772185884e-2),Math.round(T)}},f=function(b,P){P===void 0&&(P=!1);var F=R();if(F){var T=F.decode(b);if(P){var C=T.indexOf("\0");return C!==-1?T.substring(0,C):T}return T.replace(/\0/g,"")}for(var y=b.length,_,c,D,N="",k=0;k<y;){if(_=b[k++],_===0&&P)return N;if(_===0||_===3)continue;switch(_>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:N+=String.fromCharCode(_);break;case 12:case 13:c=b[k++],N+=String.fromCharCode((_&31)<<6|c&63);break;case 14:c=b[k++],D=b[k++],N+=String.fromCharCode((_&15)<<12|(c&63)<<6|(D&63)<<0);break}}return N},m={decodeTextFrame:A},g;function R(){return!g&&typeof self.TextDecoder<"u"&&(g=new self.TextDecoder("utf-8")),g}},"./src/demux/mp3demuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>w});var v=a("./src/demux/base-audio-demuxer.ts"),d=a("./src/demux/id3.ts"),M=a("./src/utils/logger.ts"),L=a("./src/demux/mpegaudio.ts");function B(S,E){S.prototype=Object.create(E.prototype),S.prototype.constructor=S,I(S,E)}function I(S,E){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,x){return A.__proto__=x,A},I(S,E)}var p=function(S){B(E,S);function E(){return S.apply(this,arguments)||this}var u=E.prototype;return u.resetInitSegment=function(x,h,f,m){S.prototype.resetInitSegment.call(this,x,h,f,m),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:h,duration:m,inputTimeScale:9e4,dropped:0}},E.probe=function(x){if(!x)return!1;for(var h=d.getID3Data(x,0)||[],f=h.length,m=x.length;f<m;f++)if(L.probe(x,f))return M.logger.log("MPEG Audio sync word found !"),!0;return!1},u.canParse=function(x,h){return L.canParse(x,h)},u.appendFrame=function(x,h,f){if(this.basePTS!==null)return L.appendFrame(x,h,f,this.basePTS,this.frameIndex)},E}(v.default);const w=p},"./src/demux/mp4demuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>p});var v=a("./src/polyfills/number.ts"),d=a("./src/types/demuxer.ts"),M=a("./src/utils/mp4-tools.ts"),L=a("./src/demux/dummy-demuxed-track.ts"),B=/\/emsg[-/]ID3/i,I=function(){function w(E,u){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=u}var S=w.prototype;return S.resetTimeStamp=function(){},S.resetInitSegment=function(u,A,x,h){var f=this.videoTrack=(0,L.dummyTrack)("video",1),m=this.audioTrack=(0,L.dummyTrack)("audio",1),g=this.txtTrack=(0,L.dummyTrack)("text",1);if(this.id3Track=(0,L.dummyTrack)("id3",1),this.timeOffset=0,!(!u||!u.byteLength)){var R=(0,M.parseInitSegment)(u);if(R.video){var O=R.video,b=O.id,P=O.timescale,F=O.codec;f.id=b,f.timescale=g.timescale=P,f.codec=F}if(R.audio){var T=R.audio,C=T.id,y=T.timescale,_=T.codec;m.id=C,m.timescale=y,m.codec=_}g.id=M.RemuxerTrackIdConfig.text,f.sampleDuration=0,f.duration=m.duration=h}},S.resetContiguity=function(){},w.probe=function(u){return u=u.length>16384?u.subarray(0,16384):u,(0,M.findBox)(u,["moof"]).length>0},S.demux=function(u,A){this.timeOffset=A;var x=u,h=this.videoTrack,f=this.txtTrack;if(this.config.progressive){this.remainderData&&(x=(0,M.appendUint8Array)(this.remainderData,u));var m=(0,M.segmentValidRange)(x);this.remainderData=m.remainder,h.samples=m.valid||new Uint8Array}else h.samples=x;var g=this.extractID3Track(h,A);return f.samples=(0,M.parseSamples)(A,h),{videoTrack:h,audioTrack:this.audioTrack,id3Track:g,textTrack:this.txtTrack}},S.flush=function(){var u=this.timeOffset,A=this.videoTrack,x=this.txtTrack;A.samples=this.remainderData||new Uint8Array,this.remainderData=null;var h=this.extractID3Track(A,this.timeOffset);return x.samples=(0,M.parseSamples)(u,A),{videoTrack:A,audioTrack:(0,L.dummyTrack)(),id3Track:h,textTrack:(0,L.dummyTrack)()}},S.extractID3Track=function(u,A){var x=this.id3Track;if(u.samples.length){var h=(0,M.findBox)(u.samples,["emsg"]);h&&h.forEach(function(f){var m=(0,M.parseEmsg)(f);if(B.test(m.schemeIdUri)){var g=(0,v.isFiniteNumber)(m.presentationTime)?m.presentationTime/m.timeScale:A+m.presentationTimeDelta/m.timeScale,R=m.eventDuration===4294967295?Number.POSITIVE_INFINITY:m.eventDuration/m.timeScale;R<=.001&&(R=Number.POSITIVE_INFINITY);var O=m.payload;x.samples.push({data:O,len:O.byteLength,dts:g,pts:g,type:d.MetadataSchema.emsg,duration:R})}})}return x},S.demuxSampleAes=function(u,A,x){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},S.destroy=function(){},w}();const p=I},"./src/demux/mpegaudio.ts":(s,l,a)=>{a.r(l),a.d(l,{appendFrame:()=>I,canParse:()=>E,isHeader:()=>S,isHeaderPattern:()=>w,parseHeader:()=>p,probe:()=>u});var v=null,d=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],M=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],L=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],B=[0,1,1,4];function I(A,x,h,f,m){if(!(h+24>x.length)){var g=p(x,h);if(g&&h+g.frameLength<=x.length){var R=g.samplesPerFrame*9e4/g.sampleRate,O=f+m*R,b={unit:x.subarray(h,h+g.frameLength),pts:O,dts:O};return A.config=[],A.channelCount=g.channelCount,A.samplerate=g.sampleRate,A.samples.push(b),{sample:b,length:g.frameLength,missing:0}}}}function p(A,x){var h=A[x+1]>>3&3,f=A[x+1]>>1&3,m=A[x+2]>>4&15,g=A[x+2]>>2&3;if(h!==1&&m!==0&&m!==15&&g!==3){var R=A[x+2]>>1&1,O=A[x+3]>>6,b=h===3?3-f:f===3?3:4,P=d[b*14+m-1]*1e3,F=h===3?0:h===2?1:2,T=M[F*3+g],C=O===3?1:2,y=L[h][f],_=B[f],c=y*8*_,D=Math.floor(y*P/T+R)*_;if(v===null){var N=navigator.userAgent||"",k=N.match(/Chrome\/(\d+)/i);v=k?parseInt(k[1]):0}var U=!!v&&v<=87;return U&&f===2&&P>=224e3&&O===0&&(A[x+3]=A[x+3]|128),{sampleRate:T,channelCount:C,frameLength:D,samplesPerFrame:c}}}function w(A,x){return A[x]===255&&(A[x+1]&224)===224&&(A[x+1]&6)!==0}function S(A,x){return x+1<A.length&&w(A,x)}function E(A,x){var h=4;return w(A,x)&&h<=A.length-x}function u(A,x){if(x+1<A.length&&w(A,x)){var h=4,f=p(A,x),m=h;f!=null&&f.frameLength&&(m=f.frameLength);var g=x+m;return g===A.length||S(A,g)}return!1}},"./src/demux/sample-aes.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>L});var v=a("./src/crypt/decrypter.ts"),d=a("./src/utils/mp4-tools.ts"),M=function(){function B(p,w,S){this.keyData=void 0,this.decrypter=void 0,this.keyData=S,this.decrypter=new v.default(w,{removePKCS7Padding:!1})}var I=B.prototype;return I.decryptBuffer=function(w){return this.decrypter.decrypt(w,this.keyData.key.buffer,this.keyData.iv.buffer)},I.decryptAacSample=function(w,S,E){var u=this,A=w[S].unit;if(!(A.length<=16)){var x=A.subarray(16,A.length-A.length%16),h=x.buffer.slice(x.byteOffset,x.byteOffset+x.length);this.decryptBuffer(h).then(function(f){var m=new Uint8Array(f);A.set(m,16),u.decrypter.isSync()||u.decryptAacSamples(w,S+1,E)})}},I.decryptAacSamples=function(w,S,E){for(;;S++){if(S>=w.length){E();return}if(!(w[S].unit.length<32)&&(this.decryptAacSample(w,S,E),!this.decrypter.isSync()))return}},I.getAvcEncryptedData=function(w){for(var S=Math.floor((w.length-48)/160)*16+16,E=new Int8Array(S),u=0,A=32;A<w.length-16;A+=160,u+=16)E.set(w.subarray(A,A+16),u);return E},I.getAvcDecryptedUnit=function(w,S){for(var E=new Uint8Array(S),u=0,A=32;A<w.length-16;A+=160,u+=16)w.set(E.subarray(u,u+16),A);return w},I.decryptAvcSample=function(w,S,E,u,A){var x=this,h=(0,d.discardEPB)(A.data),f=this.getAvcEncryptedData(h);this.decryptBuffer(f.buffer).then(function(m){A.data=x.getAvcDecryptedUnit(h,m),x.decrypter.isSync()||x.decryptAvcSamples(w,S,E+1,u)})},I.decryptAvcSamples=function(w,S,E,u){if(w instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;S++,E=0){if(S>=w.length){u();return}for(var A=w[S].units;!(E>=A.length);E++){var x=A[E];if(!(x.data.length<=48||x.type!==1&&x.type!==5)&&(this.decryptAvcSample(w,S,E,u,x),!this.decrypter.isSync()))return}}},B}();const L=M},"./src/demux/transmuxer-interface.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>S});var v=a("./src/demux/webworkify-webpack.js"),d=a("./src/events.ts"),M=a("./src/demux/transmuxer.ts"),L=a("./src/utils/logger.ts"),B=a("./src/errors.ts"),I=a("./src/utils/mediasource-helper.ts"),p=a("./node_modules/eventemitter3/index.js"),w=(0,I.getMediaSource)()||{isTypeSupported:function(){return!1}},S=function(){function E(A,x,h,f){var m=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var g=A.config;this.hls=A,this.id=x,this.useWorker=!!g.enableWorker,this.onTransmuxComplete=h,this.onFlush=f;var R=function(T,C){C=C||{},C.frag=m.frag,C.id=m.id,m.hls.trigger(T,C)};this.observer=new p.EventEmitter,this.observer.on(d.Events.FRAG_DECRYPTED,R),this.observer.on(d.Events.ERROR,R);var O={mp4:w.isTypeSupported("video/mp4"),mpeg:w.isTypeSupported("audio/mpeg"),mp3:w.isTypeSupported('audio/mp4; codecs="mp3"')},b=navigator.vendor;if(this.useWorker&&typeof Worker<"u"){L.logger.log("demuxing in webworker");var P;try{P=this.worker=(0,v.default)("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),P.addEventListener("message",this.onwmsg),P.onerror=function(F){m.useWorker=!1,L.logger.warn("Exception in webworker, fallback to inline"),m.hls.trigger(d.Events.ERROR,{type:B.ErrorTypes.OTHER_ERROR,details:B.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:new Error(F.message+"  ("+F.filename+":"+F.lineno+")")})},P.postMessage({cmd:"init",typeSupported:O,vendor:b,id:x,config:JSON.stringify(g)})}catch(F){L.logger.warn("Error in worker:",F),L.logger.error("Error while initializing DemuxerWorker, fallback to inline"),P&&self.URL.revokeObjectURL(P.objectURL),this.transmuxer=new M.default(this.observer,O,g,b,x),this.worker=null}}else this.transmuxer=new M.default(this.observer,O,g,b,x)}var u=E.prototype;return u.destroy=function(){var x=this.worker;if(x)x.removeEventListener("message",this.onwmsg),x.terminate(),this.worker=null,this.onwmsg=void 0;else{var h=this.transmuxer;h&&(h.destroy(),this.transmuxer=null)}var f=this.observer;f&&f.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},u.push=function(x,h,f,m,g,R,O,b,P,F){var T,C,y=this;P.transmuxing.start=self.performance.now();var _=this.transmuxer,c=this.worker,D=R?R.start:g.start,N=g.decryptdata,k=this.frag,U=!(k&&g.cc===k.cc),$=!(k&&P.level===k.level),K=k?P.sn-k.sn:-1,W=this.part?P.part-this.part.index:-1,z=K===0&&P.id>1&&P.id===(k==null?void 0:k.stats.chunkCount),H=!$&&(K===1||K===0&&(W===1||z&&W<=0)),G=self.performance.now();($||K||g.stats.parsing.start===0)&&(g.stats.parsing.start=G),R&&(W||!H)&&(R.stats.parsing.start=G);var X=!(k&&((T=g.initSegment)===null||T===void 0?void 0:T.url)===((C=k.initSegment)===null||C===void 0?void 0:C.url)),Y=new M.TransmuxState(U,H,b,$,D,X);if(!H||U||X){L.logger.log("[transmuxer-interface, "+g.type+"]: Starting new transmux session for sn: "+P.sn+" p: "+P.part+" level: "+P.level+" id: "+P.id+`
        discontinuity: `+U+`
        trackSwitch: `+$+`
        contiguous: `+H+`
        accurateTimeOffset: `+b+`
        timeOffset: `+D+`
        initSegmentChange: `+X);var Z=new M.TransmuxConfig(f,m,h,O,F);this.configureTransmuxer(Z)}if(this.frag=g,this.part=R,c)c.postMessage({cmd:"demux",data:x,decryptdata:N,chunkMeta:P,state:Y},x instanceof ArrayBuffer?[x]:[]);else if(_){var q=_.push(x,N,P,Y);(0,M.isPromise)(q)?(_.async=!0,q.then(function(ne){y.handleTransmuxComplete(ne)}).catch(function(ne){y.transmuxerError(ne,P,"transmuxer-interface push error")})):(_.async=!1,this.handleTransmuxComplete(q))}},u.flush=function(x){var h=this;x.transmuxing.start=self.performance.now();var f=this.transmuxer,m=this.worker;if(m)m.postMessage({cmd:"flush",chunkMeta:x});else if(f){var g=f.flush(x),R=(0,M.isPromise)(g);R||f.async?((0,M.isPromise)(g)||(g=Promise.resolve(g)),g.then(function(O){h.handleFlushResult(O,x)}).catch(function(O){h.transmuxerError(O,x,"transmuxer-interface flush error")})):this.handleFlushResult(g,x)}},u.transmuxerError=function(x,h,f){this.hls&&this.hls.trigger(d.Events.ERROR,{type:B.ErrorTypes.MEDIA_ERROR,details:B.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:h,fatal:!1,error:x,err:x,reason:f})},u.handleFlushResult=function(x,h){var f=this;x.forEach(function(m){f.handleTransmuxComplete(m)}),this.onFlush(h)},u.onWorkerMessage=function(x){var h=x.data,f=this.hls;switch(h.event){case"init":{self.URL.revokeObjectURL(this.worker.objectURL);break}case"transmuxComplete":{this.handleTransmuxComplete(h.data);break}case"flush":{this.onFlush(h.data);break}case"workerLog":L.logger[h.data.logType]&&L.logger[h.data.logType](h.data.message);break;default:{h.data=h.data||{},h.data.frag=this.frag,h.data.id=this.id,f.trigger(h.event,h.data);break}}},u.configureTransmuxer=function(x){var h=this.worker,f=this.transmuxer;h?h.postMessage({cmd:"configure",config:x}):f&&f.configure(x)},u.handleTransmuxComplete=function(x){x.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(x)},E}()},"./src/demux/transmuxer-worker.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>I});var v=a("./src/demux/transmuxer.ts"),d=a("./src/events.ts"),M=a("./src/utils/logger.ts"),L=a("./node_modules/eventemitter3/index.js"),B=a("./src/errors.ts");function I(u){var A=new L.EventEmitter,x=function(m,g){u.postMessage({event:m,data:g})};A.on(d.Events.FRAG_DECRYPTED,x),A.on(d.Events.ERROR,x);var h=function(){var m=function(O){var b=function(F){x("workerLog",{logType:O,message:F})};M.logger[O]=b};for(var g in M.logger)m(g)};u.addEventListener("message",function(f){var m=f.data;switch(m.cmd){case"init":{var g=JSON.parse(m.config);u.transmuxer=new v.default(A,m.typeSupported,g,m.vendor,m.id),(0,M.enableLogs)(g.debug,m.id),h(),x("init",null);break}case"configure":{u.transmuxer.configure(m.config);break}case"demux":{var R=u.transmuxer.push(m.data,m.decryptdata,m.chunkMeta,m.state);(0,v.isPromise)(R)?(u.transmuxer.async=!0,R.then(function(F){p(u,F)}).catch(function(F){x(d.Events.ERROR,{type:B.ErrorTypes.MEDIA_ERROR,details:B.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:m.chunkMeta,fatal:!1,error:F,err:F,reason:"transmuxer-worker push error"})})):(u.transmuxer.async=!1,p(u,R));break}case"flush":{var O=m.chunkMeta,b=u.transmuxer.flush(O),P=(0,v.isPromise)(b);P||u.transmuxer.async?((0,v.isPromise)(b)||(b=Promise.resolve(b)),b.then(function(F){S(u,F,O)}).catch(function(F){x(d.Events.ERROR,{type:B.ErrorTypes.MEDIA_ERROR,details:B.ErrorDetails.FRAG_PARSING_ERROR,chunkMeta:m.chunkMeta,fatal:!1,error:F,err:F,reason:"transmuxer-worker flush error"})})):S(u,b,O);break}}})}function p(u,A){if(E(A.remuxResult))return!1;var x=[],h=A.remuxResult,f=h.audio,m=h.video;return f&&w(x,f),m&&w(x,m),u.postMessage({event:"transmuxComplete",data:A},x),!0}function w(u,A){A.data1&&u.push(A.data1.buffer),A.data2&&u.push(A.data2.buffer)}function S(u,A,x){var h=A.reduce(function(f,m){return p(u,m)||f},!1);h||u.postMessage({event:"transmuxComplete",data:A[0]}),u.postMessage({event:"flush",data:x})}function E(u){return!u.audio&&!u.video&&!u.text&&!u.id3&&!u.initSegment}},"./src/demux/transmuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{TransmuxConfig:()=>g,TransmuxState:()=>R,default:()=>x,isPromise:()=>m});var v=a("./src/events.ts"),d=a("./src/errors.ts"),M=a("./src/crypt/decrypter.ts"),L=a("./src/demux/aacdemuxer.ts"),B=a("./src/demux/mp4demuxer.ts"),I=a("./src/demux/tsdemuxer.ts"),p=a("./src/demux/mp3demuxer.ts"),w=a("./src/remux/mp4-remuxer.ts"),S=a("./src/remux/passthrough-remuxer.ts"),E=a("./src/utils/logger.ts"),u;try{u=self.performance.now.bind(self.performance)}catch{E.logger.debug("Unable to use Performance API on this environment"),u=self.Date.now}var A=[{demux:B.default,remux:S.default},{demux:I.default,remux:w.default},{demux:L.default,remux:w.default},{demux:p.default,remux:w.default}],x=function(){function O(P,F,T,C,y){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=P,this.typeSupported=F,this.config=T,this.vendor=C,this.id=y}var b=O.prototype;return b.configure=function(F){this.transmuxConfig=F,this.decrypter&&this.decrypter.reset()},b.push=function(F,T,C,y){var _=this,c=C.transmuxing;c.executeStart=u();var D=new Uint8Array(F),N=this.currentTransmuxState,k=this.transmuxConfig;y&&(this.currentTransmuxState=y);var U=y||N,$=U.contiguous,K=U.discontinuity,W=U.trackSwitch,z=U.accurateTimeOffset,H=U.timeOffset,G=U.initSegmentChange,X=k.audioCodec,Y=k.videoCodec,Z=k.defaultInitPts,q=k.duration,ne=k.initSegmentData,te=h(D,T);if(te&&te.method==="AES-128"){var ie=this.getDecrypter();if(ie.isSync()){var ae=ie.softwareDecrypt(D,te.key.buffer,te.iv.buffer),ge=C.part>-1;if(ge&&(ae=ie.flush()),!ae)return c.executeEnd=u(),f(C);D=new Uint8Array(ae)}else return this.decryptionPromise=ie.webCryptoDecrypt(D,te.key.buffer,te.iv.buffer).then(function(Pe){var Ae=_.push(Pe,null,C);return _.decryptionPromise=null,Ae}),this.decryptionPromise}var de=this.needsProbing(K,W);de&&this.configureTransmuxer(D),(K||W||G||de)&&this.resetInitSegment(ne,X,Y,q,T),(K||G||de)&&this.resetInitialTimestamp(Z),$||this.resetContiguity();var oe=this.transmux(D,te,H,z,C),he=this.currentTransmuxState;return he.contiguous=!0,he.discontinuity=!1,he.trackSwitch=!1,c.executeEnd=u(),oe},b.flush=function(F){var T=this,C=F.transmuxing;C.executeStart=u();var y=this.decrypter,_=this.currentTransmuxState,c=this.decryptionPromise;if(c)return c.then(function(){return T.flush(F)});var D=[],N=_.timeOffset;if(y){var k=y.flush();k&&D.push(this.push(k,null,F))}var U=this.demuxer,$=this.remuxer;if(!U||!$)return this.observer.emit(v.Events.ERROR,v.Events.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),C.executeEnd=u(),[f(F)];var K=U.flush(N);return m(K)?K.then(function(W){return T.flushRemux(D,W,F),D}):(this.flushRemux(D,K,F),D)},b.flushRemux=function(F,T,C){var y=T.audioTrack,_=T.videoTrack,c=T.id3Track,D=T.textTrack,N=this.currentTransmuxState,k=N.accurateTimeOffset,U=N.timeOffset;E.logger.log("[transmuxer.ts]: Flushed fragment "+C.sn+(C.part>-1?" p: "+C.part:"")+" of level "+C.level);var $=this.remuxer.remux(y,_,c,D,U,k,!0,this.id);F.push({remuxResult:$,chunkMeta:C}),C.transmuxing.executeEnd=u()},b.resetInitialTimestamp=function(F){var T=this.demuxer,C=this.remuxer;!T||!C||(T.resetTimeStamp(F),C.resetTimeStamp(F))},b.resetContiguity=function(){var F=this.demuxer,T=this.remuxer;!F||!T||(F.resetContiguity(),T.resetNextTimestamp())},b.resetInitSegment=function(F,T,C,y,_){var c=this.demuxer,D=this.remuxer;!c||!D||(c.resetInitSegment(F,T,C,y),D.resetInitSegment(F,T,C,_))},b.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},b.transmux=function(F,T,C,y,_){var c;return T&&T.method==="SAMPLE-AES"?c=this.transmuxSampleAes(F,T,C,y,_):c=this.transmuxUnencrypted(F,C,y,_),c},b.transmuxUnencrypted=function(F,T,C,y){var _=this.demuxer.demux(F,T,!1,!this.config.progressive),c=_.audioTrack,D=_.videoTrack,N=_.id3Track,k=_.textTrack,U=this.remuxer.remux(c,D,N,k,T,C,!1,this.id);return{remuxResult:U,chunkMeta:y}},b.transmuxSampleAes=function(F,T,C,y,_){var c=this;return this.demuxer.demuxSampleAes(F,T,C).then(function(D){var N=c.remuxer.remux(D.audioTrack,D.videoTrack,D.id3Track,D.textTrack,C,y,!1,c.id);return{remuxResult:N,chunkMeta:_}})},b.configureTransmuxer=function(F){for(var T=this.config,C=this.observer,y=this.typeSupported,_=this.vendor,c,D=0,N=A.length;D<N;D++)if(A[D].demux.probe(F)){c=A[D];break}c||(E.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),c={demux:B.default,remux:S.default});var k=this.demuxer,U=this.remuxer,$=c.remux,K=c.demux;(!U||!(U instanceof $))&&(this.remuxer=new $(C,T,y,_)),(!k||!(k instanceof K))&&(this.demuxer=new K(C,T,y),this.probe=K.probe)},b.needsProbing=function(F,T){return!this.demuxer||!this.remuxer||F||T},b.getDecrypter=function(){var F=this.decrypter;return F||(F=this.decrypter=new M.default(this.config)),F},O}();function h(O,b){var P=null;return O.byteLength>0&&b!=null&&b.key!=null&&b.iv!==null&&b.method!=null&&(P=b),P}var f=function(b){return{remuxResult:{},chunkMeta:b}};function m(O){return"then"in O&&O.then instanceof Function}var g=function(b,P,F,T,C){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=b,this.videoCodec=P,this.initSegmentData=F,this.duration=T,this.defaultInitPts=C},R=function(b,P,F,T,C,y){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=b,this.contiguous=P,this.accurateTimeOffset=F,this.trackSwitch=T,this.timeOffset=C,this.initSegmentChange=y}},"./src/demux/tsdemuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>O});var v=a("./src/demux/adts.ts"),d=a("./src/demux/mpegaudio.ts"),M=a("./src/demux/exp-golomb.ts"),L=a("./src/demux/sample-aes.ts"),B=a("./src/events.ts"),I=a("./src/utils/mp4-tools.ts"),p=a("./src/utils/logger.ts"),w=a("./src/errors.ts"),S=a("./src/types/demuxer.ts");function E(){return E=Object.assign?Object.assign.bind():function(b){for(var P=1;P<arguments.length;P++){var F=arguments[P];for(var T in F)Object.prototype.hasOwnProperty.call(F,T)&&(b[T]=F[T])}return b},E.apply(this,arguments)}var u=188,A=function(){function b(F,T,C){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=F,this.config=T,this.typeSupported=C}b.probe=function(T){var C=b.syncOffset(T);return C>0&&p.logger.warn("MPEG2-TS detected but first sync word found @ offset "+C),C!==-1},b.syncOffset=function(T){for(var C=T.length,y=Math.min(u*5,T.length-u)+1,_=0;_<y;){for(var c=!1,D=_;D<C&&T[D]===71;D+=u)if(!c&&h(T,D)===0&&(c=!0),c&&D+u>y)return _;_++}return-1},b.createTrack=function(T,C){return{container:T==="video"||T==="audio"?"video/mp2t":void 0,type:T,id:I.RemuxerTrackIdConfig[T],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:T==="audio"?C:void 0}};var P=b.prototype;return P.resetInitSegment=function(T,C,y,_){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=b.createTrack("video"),this._audioTrack=b.createTrack("audio",_),this._id3Track=b.createTrack("id3"),this._txtTrack=b.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=C,this.videoCodec=y,this._duration=_},P.resetTimeStamp=function(){},P.resetContiguity=function(){var T=this._audioTrack,C=this._avcTrack,y=this._id3Track;T&&(T.pesData=null),C&&(C.pesData=null),y&&(y.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},P.demux=function(T,C,y,_){y===void 0&&(y=!1),_===void 0&&(_=!1),y||(this.sampleAes=null);var c,D=this._avcTrack,N=this._audioTrack,k=this._id3Track,U=this._txtTrack,$=D.pid,K=D.pesData,W=N.pid,z=k.pid,H=N.pesData,G=k.pesData,X=null,Y=this.pmtParsed,Z=this._pmtId,q=T.length;if(this.remainderData&&(T=(0,I.appendUint8Array)(this.remainderData,T),q=T.length,this.remainderData=null),q<u&&!_)return this.remainderData=T,{audioTrack:N,videoTrack:D,id3Track:k,textTrack:U};var ne=Math.max(0,b.syncOffset(T));q-=(q-ne)%u,q<T.byteLength&&!_&&(this.remainderData=new Uint8Array(T.buffer,q,T.buffer.byteLength-q));for(var te=0,ie=ne;ie<q;ie+=u)if(T[ie]===71){var ae=!!(T[ie+1]&64),ge=h(T,ie),de=(T[ie+3]&48)>>4,oe=void 0;if(de>1){if(oe=ie+5+T[ie+4],oe===ie+u)continue}else oe=ie+4;switch(ge){case $:ae&&(K&&(c=g(K))&&this.parseAVCPES(D,U,c,!1),K={data:[],size:0}),K&&(K.data.push(T.subarray(oe,ie+u)),K.size+=ie+u-oe);break;case W:if(ae){if(H&&(c=g(H)))switch(N.segmentCodec){case"aac":this.parseAACPES(N,c);break;case"mp3":this.parseMPEGPES(N,c);break}H={data:[],size:0}}H&&(H.data.push(T.subarray(oe,ie+u)),H.size+=ie+u-oe);break;case z:ae&&(G&&(c=g(G))&&this.parseID3PES(k,c),G={data:[],size:0}),G&&(G.data.push(T.subarray(oe,ie+u)),G.size+=ie+u-oe);break;case 0:ae&&(oe+=T[oe]+1),Z=this._pmtId=f(T,oe);break;case Z:{ae&&(oe+=T[oe]+1);var he=m(T,oe,this.typeSupported,y);$=he.avc,$>0&&(D.pid=$),W=he.audio,W>0&&(N.pid=W,N.segmentCodec=he.segmentCodec),z=he.id3,z>0&&(k.pid=z),X!==null&&!Y&&(p.logger.warn("MPEG-TS PMT found at "+ie+" after unknown PID '"+X+"'. Backtracking to sync byte @"+ne+" to parse all TS packets."),X=null,ie=ne-188),Y=this.pmtParsed=!0;break}case 17:case 8191:break;default:X=ge;break}}else te++;te>0&&this.observer.emit(B.Events.ERROR,B.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+te+" TS packet/s that do not start with 0x47"}),D.pesData=K,N.pesData=H,k.pesData=G;var Pe={audioTrack:N,videoTrack:D,id3Track:k,textTrack:U};return _&&this.extractRemainingSamples(Pe),Pe},P.flush=function(){var T=this.remainderData;this.remainderData=null;var C;return T?C=this.demux(T,-1,!1,!0):C={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(C),this.sampleAes?this.decrypt(C,this.sampleAes):C},P.extractRemainingSamples=function(T){var C=T.audioTrack,y=T.videoTrack,_=T.id3Track,c=T.textTrack,D=y.pesData,N=C.pesData,k=_.pesData,U;if(D&&(U=g(D))?(this.parseAVCPES(y,c,U,!0),y.pesData=null):y.pesData=D,N&&(U=g(N))){switch(C.segmentCodec){case"aac":this.parseAACPES(C,U);break;case"mp3":this.parseMPEGPES(C,U);break}C.pesData=null}else N!=null&&N.size&&p.logger.log("last AAC PES packet truncated,might overlap between fragments"),C.pesData=N;k&&(U=g(k))?(this.parseID3PES(_,U),_.pesData=null):_.pesData=k},P.demuxSampleAes=function(T,C,y){var _=this.demux(T,y,!0,!this.config.progressive),c=this.sampleAes=new L.default(this.observer,this.config,C);return this.decrypt(_,c)},P.decrypt=function(T,C){return new Promise(function(y){var _=T.audioTrack,c=T.videoTrack;_.samples&&_.segmentCodec==="aac"?C.decryptAacSamples(_.samples,0,function(){c.samples?C.decryptAvcSamples(c.samples,0,0,function(){y(T)}):y(T)}):c.samples&&C.decryptAvcSamples(c.samples,0,0,function(){y(T)})})},P.destroy=function(){this._duration=0},P.parseAVCPES=function(T,C,y,_){var c=this,D=this.parseAVCNALu(T,y.data),N=this.avcSample,k,U=!1;y.data=null,N&&D.length&&!T.audFound&&(R(N,T),N=this.avcSample=x(!1,y.pts,y.dts,"")),D.forEach(function($){switch($.type){case 1:{k=!0,N||(N=c.avcSample=x(!0,y.pts,y.dts,"")),N.frame=!0;var K=$.data;if(U&&K.length>4){var W=new M.default(K).readSliceType();(W===2||W===4||W===7||W===9)&&(N.key=!0)}break}case 5:k=!0,N||(N=c.avcSample=x(!0,y.pts,y.dts,"")),N.key=!0,N.frame=!0;break;case 6:{k=!0,(0,I.parseSEIMessageFromNALu)($.data,1,y.pts,C.samples);break}case 7:if(k=!0,U=!0,!T.sps){var z=new M.default($.data),H=z.readSPS();T.width=H.width,T.height=H.height,T.pixelRatio=H.pixelRatio,T.sps=[$.data],T.duration=c._duration;for(var G=$.data.subarray(1,4),X="avc1.",Y=0;Y<3;Y++){var Z=G[Y].toString(16);Z.length<2&&(Z="0"+Z),X+=Z}T.codec=X}break;case 8:k=!0,T.pps||(T.pps=[$.data]);break;case 9:k=!1,T.audFound=!0,N&&R(N,T),N=c.avcSample=x(!1,y.pts,y.dts,"");break;case 12:k=!0;break;default:k=!1,N&&(N.debug+="unknown NAL "+$.type+" ");break}if(N&&k){var q=N.units;q.push($)}}),_&&N&&(R(N,T),this.avcSample=null)},P.getLastNalUnit=function(T){var C,y=this.avcSample,_;if((!y||y.units.length===0)&&(y=T[T.length-1]),(C=y)!==null&&C!==void 0&&C.units){var c=y.units;_=c[c.length-1]}return _},P.parseAVCNALu=function(T,C){var y=C.byteLength,_=T.naluState||0,c=_,D=[],N=0,k,U,$,K=-1,W=0;for(_===-1&&(K=0,W=C[0]&31,_=0,N=1);N<y;){if(k=C[N++],!_){_=k?0:1;continue}if(_===1){_=k?0:2;continue}if(!k)_=3;else if(k===1){if(K>=0){var z={data:C.subarray(K,N-_-1),type:W};D.push(z)}else{var H=this.getLastNalUnit(T.samples);if(H&&(c&&N<=4-c&&H.state&&(H.data=H.data.subarray(0,H.data.byteLength-c)),U=N-_-1,U>0)){var G=new Uint8Array(H.data.byteLength+U);G.set(H.data,0),G.set(C.subarray(0,U),H.data.byteLength),H.data=G,H.state=0}}N<y?($=C[N]&31,K=N,W=$,_=0):_=-1}else _=0}if(K>=0&&_>=0){var X={data:C.subarray(K,y),type:W,state:_};D.push(X)}if(D.length===0){var Y=this.getLastNalUnit(T.samples);if(Y){var Z=new Uint8Array(Y.data.byteLength+C.byteLength);Z.set(Y.data,0),Z.set(C,Y.data.byteLength),Y.data=Z}}return T.naluState=_,D},P.parseAACPES=function(T,C){var y=0,_=this.aacOverFlow,c=C.data;if(_){this.aacOverFlow=null;var D=_.missing,N=_.sample.unit.byteLength;if(D===-1){var k=new Uint8Array(N+c.byteLength);k.set(_.sample.unit,0),k.set(c,N),c=k}else{var U=N-D;_.sample.unit.set(c.subarray(0,D),U),T.samples.push(_.sample),y=_.missing}}var $,K;for($=y,K=c.length;$<K-1&&!v.isHeader(c,$);$++);if($!==y){var W,z;if($<K-1?(W="AAC PES did not start with ADTS header,offset:"+$,z=!1):(W="no ADTS header found in AAC PES",z=!0),p.logger.warn("parsing error:"+W),this.observer.emit(B.Events.ERROR,B.Events.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_PARSING_ERROR,fatal:z,reason:W}),z)return}v.initTrackConfig(T,this.observer,c,$,this.audioCodec);var H;if(C.pts!==void 0)H=C.pts;else if(_){var G=v.getFrameDuration(T.samplerate);H=_.sample.pts+G}else{p.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}for(var X=0,Y;$<K;)if(Y=v.appendFrame(T,c,$,H,X),$+=Y.length,Y.missing){this.aacOverFlow=Y;break}else for(X++;$<K-1&&!v.isHeader(c,$);$++);},P.parseMPEGPES=function(T,C){var y=C.data,_=y.length,c=0,D=0,N=C.pts;if(N===void 0){p.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;D<_;)if(d.isHeader(y,D)){var k=d.appendFrame(T,y,D,N,c);if(k)D+=k.length,c++;else break}else D++},P.parseID3PES=function(T,C){if(C.pts===void 0){p.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}var y=E({},C,{type:this._avcTrack?S.MetadataSchema.emsg:S.MetadataSchema.audioId3,duration:Number.POSITIVE_INFINITY});T.samples.push(y)},b}();function x(b,P,F,T){return{key:b,frame:!1,pts:P,dts:F,units:[],debug:T,length:0}}function h(b,P){return((b[P+1]&31)<<8)+b[P+2]}function f(b,P){return(b[P+10]&31)<<8|b[P+11]}function m(b,P,F,T){var C={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},y=(b[P+1]&15)<<8|b[P+2],_=P+3+y-4,c=(b[P+10]&15)<<8|b[P+11];for(P+=12+c;P<_;){var D=h(b,P);switch(b[P]){case 207:if(!T){p.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:C.audio===-1&&(C.audio=D);break;case 21:C.id3===-1&&(C.id3=D);break;case 219:if(!T){p.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:C.avc===-1&&(C.avc=D);break;case 3:case 4:F.mpeg!==!0&&F.mp3!==!0?p.logger.log("MPEG audio found, not supported in this browser"):C.audio===-1&&(C.audio=D,C.segmentCodec="mp3");break;case 36:p.logger.warn("Unsupported HEVC stream type found");break}P+=((b[P+3]&15)<<8|b[P+4])+5}return C}function g(b){var P=0,F,T,C,y,_,c=b.data;if(!b||b.size===0)return null;for(;c[0].length<19&&c.length>1;){var D=new Uint8Array(c[0].length+c[1].length);D.set(c[0]),D.set(c[1],c[0].length),c[0]=D,c.splice(1,1)}F=c[0];var N=(F[0]<<16)+(F[1]<<8)+F[2];if(N===1){if(T=(F[4]<<8)+F[5],T&&T>b.size-6)return null;var k=F[7];k&192&&(y=(F[9]&14)*536870912+(F[10]&255)*4194304+(F[11]&254)*16384+(F[12]&255)*128+(F[13]&254)/2,k&64?(_=(F[14]&14)*536870912+(F[15]&255)*4194304+(F[16]&254)*16384+(F[17]&255)*128+(F[18]&254)/2,y-_>54e5&&(p.logger.warn(Math.round((y-_)/9e4)+"s delta between PTS and DTS, align them"),y=_)):_=y),C=F[8];var U=C+9;if(b.size<=U)return null;b.size-=U;for(var $=new Uint8Array(b.size),K=0,W=c.length;K<W;K++){F=c[K];var z=F.byteLength;if(U)if(U>z){U-=z;continue}else F=F.subarray(U),z-=U,U=0;$.set(F,P),P+=z}return T&&(T-=C+3),{data:$,pts:y,dts:_,len:T}}return null}function R(b,P){if(b.units.length&&b.frame){if(b.pts===void 0){var F=P.samples,T=F.length;if(T){var C=F[T-1];b.pts=C.pts,b.dts=C.dts}else{P.dropped++;return}}P.samples.push(b)}b.debug.length&&p.logger.log(b.pts+"/"+b.dts+":"+b.debug)}const O=A},"./src/demux/webworkify-webpack.js":(s,l,a)=>{a.r(l),a.d(l,{default:()=>u});var v=function(){var x=ENTRY_MODULE,h={},f=function g(R){var O=h[R];if(O!==void 0)return O.exports;var b=h[R]={exports:{}};return x[R].call(b.exports,b,b.exports,g),b.exports};f.m=x,function(){f.n=function(g){var R=g&&g.__esModule?function(){return g.default}:function(){return g};return f.d(R,{a:R}),R}}(),function(){f.d=function(g,R){for(var O in R)f.o(R,O)&&!f.o(g,O)&&Object.defineProperty(g,O,{enumerable:!0,get:R[O]})}}(),function(){f.o=function(g,R){return Object.prototype.hasOwnProperty.call(g,R)}}(),function(){f.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})}}();var m=f(ENTRY_MODULE);return m.default||m},d=v.toString().split("ENTRY_MODULE"),M="[\\.|\\-|\\+|\\w|/|@]+",L="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+M+").*?\\)";function B(A){return(A+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function I(A){return!isNaN(1*A)}function p(A,x,h){var f={};f[h]=[];var m=x.toString().replace(/^"[^"]+"/,"function"),g=m.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/)||m.match(/^\(\w+,\s*\w+,\s*(\w+)\)\s?\=\s?\>/);if(!g)return f;for(var R=g[1],O=new RegExp("(\\\\n|\\W)"+B(R)+L,"g"),b;b=O.exec(m);)b[3]!=="dll-reference"&&f[h].push(b[3]);for(O=new RegExp("\\("+B(R)+'\\("(dll-reference\\s('+M+'))"\\)\\)'+L,"g");b=O.exec(m);)A[b[2]]||(f[h].push(b[1]),A[b[2]]=a(b[1]).m),f[b[2]]=f[b[2]]||[],f[b[2]].push(b[4]);for(var P=Object.keys(f),F=0;F<P.length;F++)for(var T=0;T<f[P[F]].length;T++)I(f[P[F]][T])&&(f[P[F]][T]=1*f[P[F]][T]);return f}function w(A){var x=Object.keys(A);return x.reduce(function(h,f){return h||A[f].length>0},!1)}function S(A,x){for(var h={main:[x]},f={main:[]},m={main:{}};w(h);)for(var g=Object.keys(h),R=0;R<g.length;R++){var O=g[R],b=h[O],P=b.pop();if(m[O]=m[O]||{},!(m[O][P]||!A[O][P])){m[O][P]=!0,f[O]=f[O]||[],f[O].push(P);for(var F=p(A,A[O][P],O),T=Object.keys(F),C=0;C<T.length;C++)h[T[C]]=h[T[C]]||[],h[T[C]]=h[T[C]].concat(F[T[C]])}}return f}function E(A,x,h,f){var m=A[f].map(function(g){return'"'+g+'": '+x[f][g].toString().replace(/^"[^"]+"/,"function")}).join(",");return d[0]+"{"+m+"}"+d[1]+'"'+h+'"'+d[2]}function u(A,x){x=x||{};var h={main:a.m},f=x.all?{main:Object.keys(h.main)}:S(h,A),m="";Object.keys(f).filter(function(P){return P!=="main"}).forEach(function(P){for(var F=0;f[P][F];)F++;f[P].push(F),h[P][F]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",m=m+("var "+P+" = ("+E(f,h,F,modules)+`)();
`)}),m=m+("new (("+E(f,h,A,"main")+")())(self);");var g=new window.Blob([m],{type:"text/javascript"}),R=window.URL||window.webkitURL||window.mozURL||window.msURL,O=R.createObjectURL(g),b=new window.Worker(O);return b.objectURL=O,b}},"./src/errors.ts":(s,l,a)=>{a.r(l),a.d(l,{ErrorDetails:()=>d,ErrorTypes:()=>v});var v;(function(M){M.NETWORK_ERROR="networkError",M.MEDIA_ERROR="mediaError",M.KEY_SYSTEM_ERROR="keySystemError",M.MUX_ERROR="muxError",M.OTHER_ERROR="otherError"})(v||(v={}));var d;(function(M){M.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",M.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",M.KEY_SYSTEM_NO_SESSION="keySystemNoSession",M.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",M.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",M.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",M.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",M.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",M.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",M.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",M.MANIFEST_LOAD_ERROR="manifestLoadError",M.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",M.MANIFEST_PARSING_ERROR="manifestParsingError",M.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",M.LEVEL_EMPTY_ERROR="levelEmptyError",M.LEVEL_LOAD_ERROR="levelLoadError",M.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",M.LEVEL_SWITCH_ERROR="levelSwitchError",M.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",M.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",M.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",M.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",M.FRAG_LOAD_ERROR="fragLoadError",M.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",M.FRAG_DECRYPT_ERROR="fragDecryptError",M.FRAG_PARSING_ERROR="fragParsingError",M.REMUX_ALLOC_ERROR="remuxAllocError",M.KEY_LOAD_ERROR="keyLoadError",M.KEY_LOAD_TIMEOUT="keyLoadTimeOut",M.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",M.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",M.BUFFER_APPEND_ERROR="bufferAppendError",M.BUFFER_APPENDING_ERROR="bufferAppendingError",M.BUFFER_STALLED_ERROR="bufferStalledError",M.BUFFER_FULL_ERROR="bufferFullError",M.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",M.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",M.INTERNAL_EXCEPTION="internalException",M.INTERNAL_ABORTED="aborted",M.UNKNOWN="unknown"})(d||(d={}))},"./src/events.ts":(s,l,a)=>{a.r(l),a.d(l,{Events:()=>v});var v;(function(d){d.MEDIA_ATTACHING="hlsMediaAttaching",d.MEDIA_ATTACHED="hlsMediaAttached",d.MEDIA_DETACHING="hlsMediaDetaching",d.MEDIA_DETACHED="hlsMediaDetached",d.BUFFER_RESET="hlsBufferReset",d.BUFFER_CODECS="hlsBufferCodecs",d.BUFFER_CREATED="hlsBufferCreated",d.BUFFER_APPENDING="hlsBufferAppending",d.BUFFER_APPENDED="hlsBufferAppended",d.BUFFER_EOS="hlsBufferEos",d.BUFFER_FLUSHING="hlsBufferFlushing",d.BUFFER_FLUSHED="hlsBufferFlushed",d.MANIFEST_LOADING="hlsManifestLoading",d.MANIFEST_LOADED="hlsManifestLoaded",d.MANIFEST_PARSED="hlsManifestParsed",d.LEVEL_SWITCHING="hlsLevelSwitching",d.LEVEL_SWITCHED="hlsLevelSwitched",d.LEVEL_LOADING="hlsLevelLoading",d.LEVEL_LOADED="hlsLevelLoaded",d.LEVEL_UPDATED="hlsLevelUpdated",d.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",d.LEVELS_UPDATED="hlsLevelsUpdated",d.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",d.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",d.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",d.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",d.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",d.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",d.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",d.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",d.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",d.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",d.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",d.CUES_PARSED="hlsCuesParsed",d.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",d.INIT_PTS_FOUND="hlsInitPtsFound",d.FRAG_LOADING="hlsFragLoading",d.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",d.FRAG_LOADED="hlsFragLoaded",d.FRAG_DECRYPTED="hlsFragDecrypted",d.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",d.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",d.FRAG_PARSING_METADATA="hlsFragParsingMetadata",d.FRAG_PARSED="hlsFragParsed",d.FRAG_BUFFERED="hlsFragBuffered",d.FRAG_CHANGED="hlsFragChanged",d.FPS_DROP="hlsFpsDrop",d.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",d.ERROR="hlsError",d.DESTROYING="hlsDestroying",d.KEY_LOADING="hlsKeyLoading",d.KEY_LOADED="hlsKeyLoaded",d.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",d.BACK_BUFFER_REACHED="hlsBackBufferReached"})(v||(v={}))},"./src/hls.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>b});var v=a("./node_modules/url-toolkit/src/url-toolkit.js"),d=a("./src/loader/playlist-loader.ts"),M=a("./src/controller/id3-track-controller.ts"),L=a("./src/controller/latency-controller.ts"),B=a("./src/controller/level-controller.ts"),I=a("./src/controller/fragment-tracker.ts"),p=a("./src/loader/key-loader.ts"),w=a("./src/controller/stream-controller.ts"),S=a("./src/is-supported.ts"),E=a("./src/utils/logger.ts"),u=a("./src/config.ts"),A=a("./node_modules/eventemitter3/index.js"),x=a("./src/events.ts"),h=a("./src/errors.ts"),f=a("./src/types/level.ts");function m(P,F){for(var T=0;T<F.length;T++){var C=F[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(P,R(C.key),C)}}function g(P,F,T){return F&&m(P.prototype,F),T&&m(P,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function R(P){var F=O(P,"string");return typeof F=="symbol"?F:String(F)}function O(P,F){if(typeof P!="object"||P===null)return P;var T=P[Symbol.toPrimitive];if(T!==void 0){var C=T.call(P,F||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(P)}var b=function(){P.isSupported=function(){return(0,S.isSupported)()};function P(T){T===void 0&&(T={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new A.EventEmitter,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var C=this.config=(0,u.mergeConfig)(P.DefaultConfig,T);this.userConfig=T,(0,E.enableLogs)(C.debug,"Hls instance"),this._autoLevelCapping=-1,C.progressive&&(0,u.enableStreamingMode)(C);var y=C.abrController,_=C.bufferController,c=C.capLevelController,D=C.fpsController,N=this.abrController=new y(this),k=this.bufferController=new _(this),U=this.capLevelController=new c(this),$=new D(this),K=new d.default(this),W=new M.default(this),z=this.levelController=new B.default(this),H=new I.FragmentTracker(this),G=new p.default(this.config),X=this.streamController=new w.default(this,H,G);U.setStreamController(X),$.setStreamController(X);var Y=[K,z,X];this.networkControllers=Y;var Z=[N,k,U,$,W,H];this.audioTrackController=this.createController(C.audioTrackController,Y);var q=C.audioStreamController;q&&Y.push(new q(this,H,G)),this.subtitleTrackController=this.createController(C.subtitleTrackController,Y);var ne=C.subtitleStreamController;ne&&Y.push(new ne(this,H,G)),this.createController(C.timelineController,Z),G.emeController=this.emeController=this.createController(C.emeController,Z),this.cmcdController=this.createController(C.cmcdController,Z),this.latencyController=this.createController(L.default,Z),this.coreComponents=Z}var F=P.prototype;return F.createController=function(C,y){if(C){var _=new C(this);return y&&y.push(_),_}return null},F.on=function(C,y,_){_===void 0&&(_=this),this._emitter.on(C,y,_)},F.once=function(C,y,_){_===void 0&&(_=this),this._emitter.once(C,y,_)},F.removeAllListeners=function(C){this._emitter.removeAllListeners(C)},F.off=function(C,y,_,c){_===void 0&&(_=this),this._emitter.off(C,y,_,c)},F.listeners=function(C){return this._emitter.listeners(C)},F.emit=function(C,y,_){return this._emitter.emit(C,y,_)},F.trigger=function(C,y){if(this.config.debug)return this.emit(C,C,y);try{return this.emit(C,C,y)}catch(_){E.logger.error("An internal error happened while handling event "+C+'. Error message: "'+_.message+'". Here is a stacktrace:',_),this.trigger(x.Events.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:C,error:_})}return!1},F.listenerCount=function(C){return this._emitter.listenerCount(C)},F.destroy=function(){E.logger.log("destroy"),this.trigger(x.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(function(C){return C.destroy()}),this.networkControllers.length=0,this.coreComponents.forEach(function(C){return C.destroy()}),this.coreComponents.length=0},F.attachMedia=function(C){E.logger.log("attachMedia"),this._media=C,this.trigger(x.Events.MEDIA_ATTACHING,{media:C})},F.detachMedia=function(){E.logger.log("detachMedia"),this.trigger(x.Events.MEDIA_DETACHING,void 0),this._media=null},F.loadSource=function(C){this.stopLoad();var y=this.media,_=this.url,c=this.url=v.buildAbsoluteURL(self.location.href,C,{alwaysNormalize:!0});E.logger.log("loadSource:"+c),y&&_&&_!==c&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(y)),this.trigger(x.Events.MANIFEST_LOADING,{url:C})},F.startLoad=function(C){C===void 0&&(C=-1),E.logger.log("startLoad("+C+")"),this.networkControllers.forEach(function(y){y.startLoad(C)})},F.stopLoad=function(){E.logger.log("stopLoad"),this.networkControllers.forEach(function(C){C.stopLoad()})},F.swapAudioCodec=function(){E.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},F.recoverMediaError=function(){E.logger.log("recoverMediaError");var C=this._media;this.detachMedia(),C&&this.attachMedia(C)},F.removeLevel=function(C,y){y===void 0&&(y=0),this.levelController.removeLevel(C,y)},g(P,[{key:"levels",get:function(){var C=this.levelController.levels;return C||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(C){E.logger.log("set currentLevel:"+C),this.loadLevel=C,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(C){E.logger.log("set nextLevel:"+C),this.levelController.manualLevel=C,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(C){E.logger.log("set loadLevel:"+C),this.levelController.manualLevel=C}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(C){this.levelController.nextLoadLevel=C}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(C){E.logger.log("set firstLevel:"+C),this.levelController.firstLevel=C}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(C){E.logger.log("set startLevel:"+C),C!==-1&&(C=Math.max(C,this.minAutoLevel)),this.levelController.startLevel=C}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(C){var y=!!C;y!==this.config.capLevelToPlayerSize&&(y?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=y)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(C){this._autoLevelCapping!==C&&(E.logger.log("set autoLevelCapping:"+C),this._autoLevelCapping=C)}},{key:"bandwidthEstimate",get:function(){var C=this.abrController.bwEstimator;return C?C.getEstimate():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(C){f.HdcpLevels.indexOf(C)>-1&&(this._maxHdcpLevel=C)}},{key:"autoLevelEnabled",get:function(){return this.levelController.manualLevel===-1}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var C=this.levels,y=this.config.minAutoBitrate;if(!C)return 0;for(var _=C.length,c=0;c<_;c++)if(C[c].maxBitrate>=y)return c;return 0}},{key:"maxAutoLevel",get:function(){var C=this.levels,y=this.autoLevelCapping,_=this.maxHdcpLevel,c;if(y===-1&&C&&C.length?c=C.length-1:c=y,_)for(var D=c;D--;){var N=C[D].attrs["HDCP-LEVEL"];if(N&&N<=_)return D}return c}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(C){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,C)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var C=this.audioTrackController;return C?C.audioTracks:[]}},{key:"audioTrack",get:function(){var C=this.audioTrackController;return C?C.audioTrack:-1},set:function(C){var y=this.audioTrackController;y&&(y.audioTrack=C)}},{key:"subtitleTracks",get:function(){var C=this.subtitleTrackController;return C?C.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var C=this.subtitleTrackController;return C?C.subtitleTrack:-1},set:function(C){var y=this.subtitleTrackController;y&&(y.subtitleTrack=C)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var C=this.subtitleTrackController;return C?C.subtitleDisplay:!1},set:function(C){var y=this.subtitleTrackController;y&&(y.subtitleDisplay=C)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(C){this.config.lowLatencyMode=C}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.3.4"}},{key:"Events",get:function(){return x.Events}},{key:"ErrorTypes",get:function(){return h.ErrorTypes}},{key:"ErrorDetails",get:function(){return h.ErrorDetails}},{key:"DefaultConfig",get:function(){return P.defaultConfig?P.defaultConfig:u.hlsDefaultConfig},set:function(C){P.defaultConfig=C}}]),P}();b.defaultConfig=void 0},"./src/is-supported.ts":(s,l,a)=>{a.r(l),a.d(l,{changeTypeSupported:()=>L,isSupported:()=>M});var v=a("./src/utils/mediasource-helper.ts");function d(){return self.SourceBuffer||self.WebKitSourceBuffer}function M(){var B=(0,v.getMediaSource)();if(!B)return!1;var I=d(),p=B&&typeof B.isTypeSupported=="function"&&B.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),w=!I||I.prototype&&typeof I.prototype.appendBuffer=="function"&&typeof I.prototype.remove=="function";return!!p&&!!w}function L(){var B,I=d();return typeof(I==null||(B=I.prototype)===null||B===void 0?void 0:B.changeType)=="function"}},"./src/loader/date-range.ts":(s,l,a)=>{a.r(l),a.d(l,{DateRange:()=>E,DateRangeAttribute:()=>S});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/attr-list.ts"),M=a("./src/utils/logger.ts");function L(){return L=Object.assign?Object.assign.bind():function(u){for(var A=1;A<arguments.length;A++){var x=arguments[A];for(var h in x)Object.prototype.hasOwnProperty.call(x,h)&&(u[h]=x[h])}return u},L.apply(this,arguments)}function B(u,A){for(var x=0;x<A.length;x++){var h=A[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,p(h.key),h)}}function I(u,A,x){return A&&B(u.prototype,A),x&&B(u,x),Object.defineProperty(u,"prototype",{writable:!1}),u}function p(u){var A=w(u,"string");return typeof A=="symbol"?A:String(A)}function w(u,A){if(typeof u!="object"||u===null)return u;var x=u[Symbol.toPrimitive];if(x!==void 0){var h=x.call(u,A||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(u)}var S;(function(u){u.ID="ID",u.CLASS="CLASS",u.START_DATE="START-DATE",u.DURATION="DURATION",u.END_DATE="END-DATE",u.END_ON_NEXT="END-ON-NEXT",u.PLANNED_DURATION="PLANNED-DURATION",u.SCTE35_OUT="SCTE35-OUT",u.SCTE35_IN="SCTE35-IN"})(S||(S={}));var E=function(){function u(A,x){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,x){var h=x.attr;for(var f in h)if(Object.prototype.hasOwnProperty.call(A,f)&&A[f]!==h[f]){M.logger.warn('DATERANGE tag attribute: "'+f+'" does not match for tags with ID: "'+A.ID+'"'),this._badValueForSameId=f;break}A=L(new d.AttrList({}),h,A)}if(this.attr=A,this._startDate=new Date(A[S.START_DATE]),S.END_DATE in this.attr){var m=new Date(this.attr[S.END_DATE]);(0,v.isFiniteNumber)(m.getTime())&&(this._endDate=m)}}return I(u,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var x=this.duration;return x!==null?new Date(this._startDate.getTime()+x*1e3):null}},{key:"duration",get:function(){if(S.DURATION in this.attr){var x=this.attr.decimalFloatingPoint(S.DURATION);if((0,v.isFiniteNumber)(x))return x}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return S.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(S.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(S.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&(0,v.isFiniteNumber)(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),u}()},"./src/loader/fragment-loader.ts":(s,l,a)=>{a.r(l),a.d(l,{LoadError:()=>x,default:()=>u});var v=a("./src/polyfills/number.ts"),d=a("./src/errors.ts");function M(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,w(h,f)}function L(h){var f=typeof Map=="function"?new Map:void 0;return L=function(g){if(g===null||!p(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof f<"u"){if(f.has(g))return f.get(g);f.set(g,R)}function R(){return B(g,arguments,S(this).constructor)}return R.prototype=Object.create(g.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),w(R,g)},L(h)}function B(h,f,m){return I()?B=Reflect.construct.bind():B=function(R,O,b){var P=[null];P.push.apply(P,O);var F=Function.bind.apply(R,P),T=new F;return b&&w(T,b.prototype),T},B.apply(null,arguments)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function p(h){return Function.toString.call(h).indexOf("[native code]")!==-1}function w(h,f){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,R){return g.__proto__=R,g},w(h,f)}function S(h){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},S(h)}var E=Math.pow(2,17),u=function(){function h(m){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=m}var f=h.prototype;return f.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},f.abort=function(){this.loader&&this.loader.abort()},f.load=function(g,R){var O=this,b=g.url;if(!b)return Promise.reject(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,networkDetails:null},"Fragment does not have a "+(b?"part list":"url")));this.abort();var P=this.config,F=P.fLoader,T=P.loader;return new Promise(function(C,y){O.loader&&O.loader.destroy();var _=O.loader=g.loader=F?new F(P):new T(P),c=A(g),D={timeout:P.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:P.fragLoadingMaxRetryTimeout,highWaterMark:g.sn==="initSegment"?1/0:E};g.stats=_.stats,_.load(c,D,{onSuccess:function(k,U,$,K){O.resetLoader(g,_);var W=k.data;$.resetIV&&g.decryptdata&&(g.decryptdata.iv=new Uint8Array(W.slice(0,16)),W=W.slice(16)),C({frag:g,part:null,payload:W,networkDetails:K})},onError:function(k,U,$){O.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,response:k,networkDetails:$}))},onAbort:function(k,U,$){O.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,networkDetails:$}))},onTimeout:function(k,U,$){O.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,networkDetails:$}))},onProgress:function(k,U,$,K){R&&R({frag:g,part:null,payload:$,networkDetails:K})}})})},f.loadPart=function(g,R,O){var b=this;this.abort();var P=this.config,F=P.fLoader,T=P.loader;return new Promise(function(C,y){b.loader&&b.loader.destroy();var _=b.loader=g.loader=F?new F(P):new T(P),c=A(g,R),D={timeout:P.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:P.fragLoadingMaxRetryTimeout,highWaterMark:E};R.stats=_.stats,_.load(c,D,{onSuccess:function(k,U,$,K){b.resetLoader(g,_),b.updateStatsFromPart(g,R);var W={frag:g,part:R,payload:k.data,networkDetails:K};O(W),C(W)},onError:function(k,U,$){b.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:g,part:R,response:k,networkDetails:$}))},onAbort:function(k,U,$){g.stats.aborted=R.stats.aborted,b.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:g,part:R,networkDetails:$}))},onTimeout:function(k,U,$){b.resetLoader(g,_),y(new x({type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:g,part:R,networkDetails:$}))}})})},f.updateStatsFromPart=function(g,R){var O=g.stats,b=R.stats,P=b.total;if(O.loaded+=b.loaded,P){var F=Math.round(g.duration/R.duration),T=Math.min(Math.round(O.loaded/P),F),C=F-T,y=C*Math.round(O.loaded/T);O.total=O.loaded+y}else O.total=Math.max(O.loaded,O.total);var _=O.loading,c=b.loading;_.start?_.first+=c.first-c.start:(_.start=c.start,_.first=c.first),_.end=c.end},f.resetLoader=function(g,R){g.loader=null,this.loader===R&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),R.destroy()},h}();function A(h,f){f===void 0&&(f=null);var m=f||h,g={frag:h,part:f,responseType:"arraybuffer",url:m.url,headers:{},rangeStart:0,rangeEnd:0},R=m.byteRangeStartOffset,O=m.byteRangeEndOffset;if((0,v.isFiniteNumber)(R)&&(0,v.isFiniteNumber)(O)){var b,P=R,F=O;if(h.sn==="initSegment"&&((b=h.decryptdata)===null||b===void 0?void 0:b.method)==="AES-128"){var T=O-R;T%16&&(F=O+(16-T%16)),R!==0&&(g.resetIV=!0,P=R-16)}g.rangeStart=P,g.rangeEnd=F}return g}var x=function(h){M(f,h);function f(m){for(var g,R=arguments.length,O=new Array(R>1?R-1:0),b=1;b<R;b++)O[b-1]=arguments[b];return g=h.call.apply(h,[this].concat(O))||this,g.data=void 0,g.data=m,g}return f}(L(Error))},"./src/loader/fragment.ts":(s,l,a)=>{a.r(l),a.d(l,{BaseSegment:()=>u,ElementaryStreamTypes:()=>E,Fragment:()=>A,Part:()=>x});var v=a("./src/polyfills/number.ts"),d=a("./node_modules/url-toolkit/src/url-toolkit.js"),M=a("./src/loader/load-stats.ts");function L(h,f){h.prototype=Object.create(f.prototype),h.prototype.constructor=h,B(h,f)}function B(h,f){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,R){return g.__proto__=R,g},B(h,f)}function I(h,f){for(var m=0;m<f.length;m++){var g=f[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,w(g.key),g)}}function p(h,f,m){return f&&I(h.prototype,f),m&&I(h,m),Object.defineProperty(h,"prototype",{writable:!1}),h}function w(h){var f=S(h,"string");return typeof f=="symbol"?f:String(f)}function S(h,f){if(typeof h!="object"||h===null)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var g=m.call(h,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(h)}var E;(function(h){h.AUDIO="audio",h.VIDEO="video",h.AUDIOVIDEO="audiovideo"})(E||(E={}));var u=function(){function h(m){var g;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=(g={},g[E.AUDIO]=null,g[E.VIDEO]=null,g[E.AUDIOVIDEO]=null,g),this.baseurl=m}var f=h.prototype;return f.setByteRange=function(g,R){var O=g.split("@",2),b=[];O.length===1?b[0]=R?R.byteRangeEndOffset:0:b[0]=parseInt(O[1]),b[1]=parseInt(O[0])+b[0],this._byteRange=b},p(h,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=(0,d.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(g){this._url=g}}]),h}(),A=function(h){L(f,h);function f(g,R){var O;return O=h.call(this,R)||this,O._decryptdata=null,O.rawProgramDateTime=null,O.programDateTime=null,O.tagList=[],O.duration=0,O.sn=0,O.levelkeys=void 0,O.type=void 0,O.loader=null,O.keyLoader=null,O.level=-1,O.cc=0,O.startPTS=void 0,O.endPTS=void 0,O.appendedPTS=void 0,O.startDTS=void 0,O.endDTS=void 0,O.start=0,O.deltaPTS=void 0,O.maxStartPTS=void 0,O.minEndPTS=void 0,O.stats=new M.LoadStats,O.urlId=0,O.data=void 0,O.bitrateTest=!1,O.title=null,O.initSegment=null,O.endList=void 0,O.type=g,O}var m=f.prototype;return m.setKeyFormat=function(R){if(this.levelkeys){var O=this.levelkeys[R];O&&!this._decryptdata&&(this._decryptdata=O.getDecryptData(this.sn))}},m.abortRequests=function(){var R,O;(R=this.loader)===null||R===void 0||R.abort(),(O=this.keyLoader)===null||O===void 0||O.abort()},m.setElementaryStreamInfo=function(R,O,b,P,F,T){T===void 0&&(T=!1);var C=this.elementaryStreams,y=C[R];if(!y){C[R]={startPTS:O,endPTS:b,startDTS:P,endDTS:F,partial:T};return}y.startPTS=Math.min(y.startPTS,O),y.endPTS=Math.max(y.endPTS,b),y.startDTS=Math.min(y.startDTS,P),y.endDTS=Math.max(y.endDTS,F)},m.clearElementaryStreamInfo=function(){var R=this.elementaryStreams;R[E.AUDIO]=null,R[E.VIDEO]=null,R[E.AUDIOVIDEO]=null},p(f,[{key:"decryptdata",get:function(){var R=this.levelkeys;if(!R&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var O=this.levelkeys.identity;if(O)this._decryptdata=O.getDecryptData(this.sn);else{var b=Object.keys(this.levelkeys);if(b.length===1)return this._decryptdata=this.levelkeys[b[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(this.programDateTime===null||!(0,v.isFiniteNumber)(this.programDateTime))return null;var R=(0,v.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+R*1e3}},{key:"encrypted",get:function(){var R;if((R=this._decryptdata)!==null&&R!==void 0&&R.encrypted)return!0;if(this.levelkeys){var O=Object.keys(this.levelkeys),b=O.length;if(b>1||b===1&&this.levelkeys[O[0]].encrypted)return!0}return!1}}]),f}(u),x=function(h){L(f,h);function f(m,g,R,O,b){var P;P=h.call(this,R)||this,P.fragOffset=0,P.duration=0,P.gap=!1,P.independent=!1,P.relurl=void 0,P.fragment=void 0,P.index=void 0,P.stats=new M.LoadStats,P.duration=m.decimalFloatingPoint("DURATION"),P.gap=m.bool("GAP"),P.independent=m.bool("INDEPENDENT"),P.relurl=m.enumeratedString("URI"),P.fragment=g,P.index=O;var F=m.enumeratedString("BYTERANGE");return F&&P.setByteRange(F,b),b&&(P.fragOffset=b.fragOffset+b.duration),P}return p(f,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var g=this.elementaryStreams;return!!(g.audio||g.video||g.audiovideo)}}]),f}(u)},"./src/loader/key-loader.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>M});var v=a("./src/errors.ts"),d=a("./src/loader/fragment-loader.ts"),M=function(){function L(I){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=I}var B=L.prototype;return B.abort=function(){for(var p in this.keyUriToKeyInfo){var w=this.keyUriToKeyInfo[p].loader;w&&w.abort()}},B.detach=function(){for(var p in this.keyUriToKeyInfo){var w=this.keyUriToKeyInfo[p];(w.mediaKeySessionContext||w.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[p]}},B.destroy=function(){this.detach();for(var p in this.keyUriToKeyInfo){var w=this.keyUriToKeyInfo[p].loader;w&&w.destroy()}this.keyUriToKeyInfo={}},B.createKeyLoadError=function(p,w,S,E){return w===void 0&&(w=v.ErrorDetails.KEY_LOAD_ERROR),new d.LoadError({type:v.ErrorTypes.NETWORK_ERROR,details:w,fatal:!1,frag:p,networkDetails:S})},B.loadClear=function(p,w){var S=this;if(this.emeController&&this.config.emeEnabled)for(var E=p.sn,u=p.cc,A=function(m){var g=w[m];if(u<=g.cc&&(E==="initSegment"||E<g.sn))return S.emeController.selectKeySystemFormat(g).then(function(R){g.setKeyFormat(R)}),"break"},x=0;x<w.length;x++){var h=A(x);if(h==="break")break}},B.load=function(p){var w=this;return!p.decryptdata&&p.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(p).then(function(S){return w.loadInternal(p,S)}):this.loadInternal(p)},B.loadInternal=function(p,w){var S,E;w&&p.setKeyFormat(w);var u=p.decryptdata;if(!u){var A=w?"Expected frag.decryptdata to be defined after setting format "+w:"Missing decryption data on fragment in onKeyLoading";return Promise.reject(this.createKeyLoadError(p,v.ErrorDetails.KEY_LOAD_ERROR,null,A))}var x=u.uri;if(!x)return Promise.reject(this.createKeyLoadError(p,v.ErrorDetails.KEY_LOAD_ERROR,null,'Invalid key URI: "'+x+'"'));var h=this.keyUriToKeyInfo[x];if((S=h)!==null&&S!==void 0&&S.decryptdata.key)return u.key=h.decryptdata.key,Promise.resolve({frag:p,keyInfo:h});if((E=h)!==null&&E!==void 0&&E.keyLoadPromise){var f;switch((f=h.mediaKeySessionContext)===null||f===void 0?void 0:f.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return h.keyLoadPromise.then(function(m){return u.key=m.keyInfo.decryptdata.key,{frag:p,keyInfo:h}})}}switch(h=this.keyUriToKeyInfo[x]={decryptdata:u,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},u.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return u.keyFormat==="identity"?this.loadKeyHTTP(h,p):this.loadKeyEME(h,p);case"AES-128":return this.loadKeyHTTP(h,p);default:return Promise.reject(this.createKeyLoadError(p,v.ErrorDetails.KEY_LOAD_ERROR,null,'Key supplied with unsupported METHOD: "'+u.method+'"'))}},B.loadKeyEME=function(p,w){var S={frag:w,keyInfo:p};if(this.emeController&&this.config.emeEnabled){var E=this.emeController.loadKey(S);if(E)return(p.keyLoadPromise=E.then(function(u){return p.mediaKeySessionContext=u,S})).catch(function(u){throw p.keyLoadPromise=null,u})}return Promise.resolve(S)},B.loadKeyHTTP=function(p,w){var S=this,E=this.config,u=E.loader,A=new u(E);return w.keyLoader=p.loader=A,p.keyLoadPromise=new Promise(function(x,h){var f={keyInfo:p,frag:w,responseType:"arraybuffer",url:p.decryptdata.uri},m={timeout:E.fragLoadingTimeOut,maxRetry:0,retryDelay:E.fragLoadingRetryDelay,maxRetryDelay:E.fragLoadingMaxRetryTimeout,highWaterMark:0},g={onSuccess:function(O,b,P,F){var T=P.frag,C=P.keyInfo,y=P.url;if(!T.decryptdata||C!==S.keyUriToKeyInfo[y])return h(S.createKeyLoadError(T,v.ErrorDetails.KEY_LOAD_ERROR,F,"after key load, decryptdata unset or changed"));C.decryptdata.key=T.decryptdata.key=new Uint8Array(O.data),T.keyLoader=null,C.loader=null,x({frag:T,keyInfo:C})},onError:function(O,b,P){S.resetLoader(b),h(S.createKeyLoadError(w,v.ErrorDetails.KEY_LOAD_ERROR,P))},onTimeout:function(O,b,P){S.resetLoader(b),h(S.createKeyLoadError(w,v.ErrorDetails.KEY_LOAD_TIMEOUT,P))},onAbort:function(O,b,P){S.resetLoader(b),h(S.createKeyLoadError(w,v.ErrorDetails.INTERNAL_ABORTED,P))}};A.load(f,m,g)})},B.resetLoader=function(p){var w=p.frag,S=p.keyInfo,E=p.url,u=S.loader;w.keyLoader===u&&(w.keyLoader=null,S.loader=null),delete this.keyUriToKeyInfo[E],u&&u.destroy()},L}()},"./src/loader/level-details.ts":(s,l,a)=>{a.r(l),a.d(l,{LevelDetails:()=>p});var v=a("./src/polyfills/number.ts");function d(w,S){for(var E=0;E<S.length;E++){var u=S[E];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(w,L(u.key),u)}}function M(w,S,E){return S&&d(w.prototype,S),E&&d(w,E),Object.defineProperty(w,"prototype",{writable:!1}),w}function L(w){var S=B(w,"string");return typeof S=="symbol"?S:String(S)}function B(w,S){if(typeof w!="object"||w===null)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var u=E.call(w,S||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(w)}var I=10,p=function(){function w(E){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=E}var S=w.prototype;return S.reloaded=function(u){if(!u){this.advanced=!0,this.updated=!0;return}var A=this.lastPartSn-u.lastPartSn,x=this.lastPartIndex-u.lastPartIndex;this.updated=this.endSN!==u.endSN||!!x||!!A,this.advanced=this.endSN>u.endSN||A>0||A===0&&x>0,this.updated||this.advanced?this.misses=Math.floor(u.misses*.6):this.misses=u.misses+1,this.availabilityDelay=u.availabilityDelay},M(w,[{key:"hasProgramDateTime",get:function(){return this.fragments.length?(0,v.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime):!1}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||I}},{key:"drift",get:function(){var u=this.driftEndTime-this.driftStartTime;if(u>0){var A=this.driftEnd-this.driftStart;return A*1e3/u}return 1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var u;return(u=this.partList)!==null&&u!==void 0&&u.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var u;return(u=this.fragments)!==null&&u!==void 0&&u.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var u;return(u=this.partList)!==null&&u!==void 0&&u.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var u;return(u=this.partList)!==null&&u!==void 0&&u.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),w}()},"./src/loader/level-key.ts":(s,l,a)=>{a.r(l),a.d(l,{LevelKey:()=>p});var v=a("./src/utils/keysystem-util.ts"),d=a("./src/utils/mediakeys-helper.ts"),M=a("./src/utils/mp4-tools.ts"),L=a("./src/utils/logger.ts"),B=a("./src/utils/numeric-encoding-utils.ts"),I={},p=function(){S.clearKeyUriToKeyIdMap=function(){I={}};function S(u,A,x,h,f){h===void 0&&(h=[1]),f===void 0&&(f=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=u,this.uri=A,this.keyFormat=x,this.keyFormatVersions=h,this.iv=f,this.encrypted=u?u!=="NONE":!1,this.isCommonEncryption=this.encrypted&&u!=="AES-128"}var E=S.prototype;return E.isSupported=function(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;switch(this.keyFormat){case"identity":return this.method==="SAMPLE-AES";case d.KeySystemFormats.FAIRPLAY:case d.KeySystemFormats.WIDEVINE:case d.KeySystemFormats.PLAYREADY:case d.KeySystemFormats.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1},E.getDecryptData=function(A){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof A!="number"&&(this.method==="AES-128"&&!this.iv&&L.logger.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),A=0);var x=w(A),h=new S(this.method,this.uri,"identity",this.keyFormatVersions,x);return h}var f=(0,v.convertDataUriToArrayBytes)(this.uri);if(f)switch(this.keyFormat){case d.KeySystemFormats.WIDEVINE:this.pssh=f,f.length>=22&&(this.keyId=f.subarray(f.length-22,f.length-6));break;case d.KeySystemFormats.PLAYREADY:{var m=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=(0,M.mp4pssh)(m,null,f);var g=new Uint16Array(f.buffer,f.byteOffset,f.byteLength/2),R=String.fromCharCode.apply(null,Array.from(g)),O=R.substring(R.indexOf("<"),R.length),b=new DOMParser,P=b.parseFromString(O,"text/xml"),F=P.getElementsByTagName("KID")[0];if(F){var T=F.childNodes[0]?F.childNodes[0].nodeValue:F.getAttribute("VALUE");if(T){var C=(0,B.base64Decode)(T).subarray(0,16);(0,v.changeEndianness)(C),this.keyId=C}}break}default:{var y=f.subarray(0,16);if(y.length!==16){var _=new Uint8Array(16);_.set(y,16-y.length),y=_}this.keyId=y;break}}if(!this.keyId||this.keyId.byteLength!==16){var c=I[this.uri];if(!c){var D=Object.keys(I).length%Number.MAX_SAFE_INTEGER;c=new Uint8Array(16);var N=new DataView(c.buffer,12,4);N.setUint32(0,D),I[this.uri]=c}this.keyId=c}return this},S}();function w(S){for(var E=new Uint8Array(16),u=12;u<16;u++)E[u]=S>>8*(15-u)&255;return E}},"./src/loader/load-stats.ts":(s,l,a)=>{a.r(l),a.d(l,{LoadStats:()=>v});var v=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>f});var v=a("./src/polyfills/number.ts"),d=a("./node_modules/url-toolkit/src/url-toolkit.js"),M=a("./src/loader/date-range.ts"),L=a("./src/loader/fragment.ts"),B=a("./src/loader/level-details.ts"),I=a("./src/loader/level-key.ts"),p=a("./src/utils/attr-list.ts"),w=a("./src/utils/logger.ts"),S=a("./src/utils/codecs.ts");function E(){return E=Object.assign?Object.assign.bind():function(T){for(var C=1;C<arguments.length;C++){var y=arguments[C];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(T[_]=y[_])}return T},E.apply(this,arguments)}var u=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+|#EXT-X-SESSION-KEY:([^\n\r]*)[\r\n]+/g,A=/#EXT-X-MEDIA:(.*)/g,x=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),h=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),f=function(){function T(){}return T.findGroup=function(y,_){for(var c=0;c<y.length;c++){var D=y[c];if(D.id===_)return D}},T.convertAVC1ToAVCOTI=function(y){var _=y.split(".");if(_.length>2){var c=_.shift()+".";return c+=parseInt(_.shift()).toString(16),c+=("000"+parseInt(_.shift()).toString(16)).slice(-4),c}return y},T.resolve=function(y,_){return(0,d.buildAbsoluteURL)(_,y,{alwaysNormalize:!0})},T.parseMasterPlaylist=function(y,_){var c=[],D=[],N={},k=[],U=!1;u.lastIndex=0;for(var $;($=u.exec(y))!=null;)if($[1]){var K,W=new p.AttrList($[1]),z={attrs:W,bitrate:W.decimalInteger("AVERAGE-BANDWIDTH")||W.decimalInteger("BANDWIDTH"),name:W.NAME,url:T.resolve($[2],_)},H=W.decimalResolution("RESOLUTION");H&&(z.width=H.width,z.height=H.height),g((W.CODECS||"").split(/[ ,]+/).filter(function(q){return q}),z),z.videoCodec&&z.videoCodec.indexOf("avc1")!==-1&&(z.videoCodec=T.convertAVC1ToAVCOTI(z.videoCodec)),(K=z.unknownCodecs)!==null&&K!==void 0&&K.length||D.push(z),c.push(z)}else if($[3]){var G=new p.AttrList($[3]);G["DATA-ID"]&&(U=!0,N[G["DATA-ID"]]=G)}else if($[4]){var X=$[4],Y=m(X,_);Y.encrypted&&Y.isSupported()?k.push(Y):w.logger.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+X+'"')}var Z=D.length>0&&D.length<c.length;return{levels:Z?D:c,sessionData:U?N:null,sessionKeys:k.length?k:null}},T.parseMasterPlaylistMedia=function(y,_,c,D){D===void 0&&(D=[]);var N,k=[],U=0;for(A.lastIndex=0;(N=A.exec(y))!==null;){var $=new p.AttrList(N[1]);if($.TYPE===c){var K={attrs:$,bitrate:0,id:U++,groupId:$["GROUP-ID"],instreamId:$["INSTREAM-ID"],name:$.NAME||$.LANGUAGE||"",type:c,default:$.bool("DEFAULT"),autoselect:$.bool("AUTOSELECT"),forced:$.bool("FORCED"),lang:$.LANGUAGE,url:$.URI?T.resolve($.URI,_):""};if(D.length){var W=T.findGroup(D,K.groupId)||D[0];R(K,W,"audioCodec"),R(K,W,"textCodec")}k.push(K)}}return k},T.parseLevelPlaylist=function(y,_,c,D,N){var k=new B.LevelDetails(_),U=k.fragments,$=null,K=0,W=0,z=0,H=0,G=null,X=new L.Fragment(D,_),Y,Z,q,ne=-1,te=!1;for(x.lastIndex=0,k.m3u8=y;(Y=x.exec(y))!==null;){te&&(te=!1,X=new L.Fragment(D,_),X.start=z,X.sn=K,X.cc=H,X.level=c,$&&(X.initSegment=$,X.rawProgramDateTime=$.rawProgramDateTime,$.rawProgramDateTime=null));var ie=Y[1];if(ie){X.duration=parseFloat(ie);var ae=(" "+Y[2]).slice(1);X.title=ae||null,X.tagList.push(ae?["INF",ie,ae]:["INF",ie])}else if(Y[3])(0,v.isFiniteNumber)(X.duration)&&(X.start=z,q&&F(X,q,k),X.sn=K,X.level=c,X.cc=H,X.urlId=N,U.push(X),X.relurl=(" "+Y[3]).slice(1),b(X,G),G=X,z+=X.duration,K++,W=0,te=!0);else if(Y[4]){var ge=(" "+Y[4]).slice(1);G?X.setByteRange(ge,G):X.setByteRange(ge)}else if(Y[5])X.rawProgramDateTime=(" "+Y[5]).slice(1),X.tagList.push(["PROGRAM-DATE-TIME",X.rawProgramDateTime]),ne===-1&&(ne=U.length);else{if(Y=Y[0].match(h),!Y){w.logger.warn("No matches on slow regex match for level playlist!");continue}for(Z=1;Z<Y.length&&!(typeof Y[Z]<"u");Z++);var de=(" "+Y[Z]).slice(1),oe=(" "+Y[Z+1]).slice(1),he=Y[Z+2]?(" "+Y[Z+2]).slice(1):"";switch(de){case"PLAYLIST-TYPE":k.type=oe.toUpperCase();break;case"MEDIA-SEQUENCE":K=k.startSN=parseInt(oe);break;case"SKIP":{var Pe=new p.AttrList(oe),Ae=Pe.decimalInteger("SKIPPED-SEGMENTS");if((0,v.isFiniteNumber)(Ae)){k.skippedSegments=Ae;for(var ce=Ae;ce--;)U.unshift(null);K+=Ae}var fe=Pe.enumeratedString("RECENTLY-REMOVED-DATERANGES");fe&&(k.recentlyRemovedDateranges=fe.split("	"));break}case"TARGETDURATION":k.targetduration=parseFloat(oe);break;case"VERSION":k.version=parseInt(oe);break;case"EXTM3U":break;case"ENDLIST":k.live=!1;break;case"#":(oe||he)&&X.tagList.push(he?[oe,he]:[oe]);break;case"DISCONTINUITY":H++,X.tagList.push(["DIS"]);break;case"GAP":X.tagList.push([de]);break;case"BITRATE":X.tagList.push([de,oe]);break;case"DATERANGE":{var Te=new p.AttrList(oe),xe=new M.DateRange(Te,k.dateRanges[Te.ID]);xe.isValid||k.skippedSegments?k.dateRanges[xe.id]=xe:w.logger.warn('Ignoring invalid DATERANGE tag: "'+oe+'"'),X.tagList.push(["EXT-X-DATERANGE",oe]);break}case"DISCONTINUITY-SEQUENCE":H=parseInt(oe);break;case"KEY":{var ee=m(oe,_);if(ee.isSupported()){if(ee.method==="NONE"){q=void 0;break}q||(q={}),q[ee.keyFormat]&&(q=E({},q)),q[ee.keyFormat]=ee}else w.logger.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+oe+'"');break}case"START":{var J=new p.AttrList(oe),re=J.decimalFloatingPoint("TIME-OFFSET");(0,v.isFiniteNumber)(re)&&(k.startTimeOffset=re);break}case"MAP":{var le=new p.AttrList(oe);if(X.duration){var se=new L.Fragment(D,_);P(se,le,c,q),$=se,X.initSegment=$,$.rawProgramDateTime&&!X.rawProgramDateTime&&(X.rawProgramDateTime=$.rawProgramDateTime)}else P(X,le,c,q),$=X,te=!0;break}case"SERVER-CONTROL":{var Ee=new p.AttrList(oe);k.canBlockReload=Ee.bool("CAN-BLOCK-RELOAD"),k.canSkipUntil=Ee.optionalFloat("CAN-SKIP-UNTIL",0),k.canSkipDateRanges=k.canSkipUntil>0&&Ee.bool("CAN-SKIP-DATERANGES"),k.partHoldBack=Ee.optionalFloat("PART-HOLD-BACK",0),k.holdBack=Ee.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{var Ce=new p.AttrList(oe);k.partTarget=Ce.decimalFloatingPoint("PART-TARGET");break}case"PART":{var _e=k.partList;_e||(_e=k.partList=[]);var Re=W>0?_e[_e.length-1]:void 0,Ke=W++,we=new L.Part(new p.AttrList(oe),X,_,Ke,Re);_e.push(we),X.duration+=we.duration;break}case"PRELOAD-HINT":{var We=new p.AttrList(oe);k.preloadHint=We;break}case"RENDITION-REPORT":{var ke=new p.AttrList(oe);k.renditionReports=k.renditionReports||[],k.renditionReports.push(ke);break}default:w.logger.warn("line parsed but not handled: "+Y);break}}}G&&!G.relurl?(U.pop(),z-=G.duration,k.partList&&(k.fragmentHint=G)):k.partList&&(b(X,G),X.cc=H,k.fragmentHint=X,q&&F(X,q,k));var $e=U.length,Ye=U[0],ht=U[$e-1];if(z+=k.skippedSegments*k.targetduration,z>0&&$e&&ht){k.averagetargetduration=z/$e;var Ve=ht.sn;k.endSN=Ve!=="initSegment"?Ve:0,k.live||(ht.endList=!0),Ye&&(k.startCC=Ye.cc)}else k.endSN=0,k.startCC=0;return k.fragmentHint&&(z+=k.fragmentHint.duration),k.totalduration=z,k.endCC=H,ne>0&&O(U,ne),k},T}();function m(T,C){var y,_,c=new p.AttrList(T),D=(y=c.enumeratedString("METHOD"))!=null?y:"",N=c.URI,k=c.hexadecimalInteger("IV"),U=c.enumeratedString("KEYFORMATVERSIONS"),$=(_=c.enumeratedString("KEYFORMAT"))!=null?_:"identity";N&&c.IV&&!k&&w.logger.error("Invalid IV: "+c.IV);var K=N?f.resolve(N,C):"",W=(U||"1").split("/").map(Number).filter(Number.isFinite);return new I.LevelKey(D,K,$,W,k)}function g(T,C){["video","audio","text"].forEach(function(y){var _=T.filter(function(D){return(0,S.isCodecType)(D,y)});if(_.length){var c=_.filter(function(D){return D.lastIndexOf("avc1",0)===0||D.lastIndexOf("mp4a",0)===0});C[y+"Codec"]=c.length>0?c[0]:_[0],T=T.filter(function(D){return _.indexOf(D)===-1})}}),C.unknownCodecs=T}function R(T,C,y){var _=C[y];_&&(T[y]=_)}function O(T,C){for(var y=T[C],_=C;_--;){var c=T[_];if(!c)return;c.programDateTime=y.programDateTime-c.duration*1e3,y=c}}function b(T,C){T.rawProgramDateTime?T.programDateTime=Date.parse(T.rawProgramDateTime):C!=null&&C.programDateTime&&(T.programDateTime=C.endProgramDateTime),(0,v.isFiniteNumber)(T.programDateTime)||(T.programDateTime=null,T.rawProgramDateTime=null)}function P(T,C,y,_){T.relurl=C.URI,C.BYTERANGE&&T.setByteRange(C.BYTERANGE),T.level=y,T.sn="initSegment",_&&(T.levelkeys=_),T.initSegment=null}function F(T,C,y){T.levelkeys=C;var _=y.encryptedFragments;(!_.length||_[_.length-1].levelkeys!==C)&&Object.keys(C).some(function(c){return C[c].isCommonEncryption})&&_.push(T)}},"./src/loader/playlist-loader.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>u});var v=a("./src/polyfills/number.ts"),d=a("./src/events.ts"),M=a("./src/errors.ts"),L=a("./src/utils/logger.ts"),B=a("./src/loader/m3u8-parser.ts"),I=a("./src/types/loader.ts"),p=a("./src/utils/attr-list.ts");function w(A){var x=A.type;switch(x){case I.PlaylistContextType.AUDIO_TRACK:return I.PlaylistLevelType.AUDIO;case I.PlaylistContextType.SUBTITLE_TRACK:return I.PlaylistLevelType.SUBTITLE;default:return I.PlaylistLevelType.MAIN}}function S(A,x){var h=A.url;return(h===void 0||h.indexOf("data:")===0)&&(h=x.url),h}var E=function(){function A(h){this.hls=void 0,this.loaders=Object.create(null),this.hls=h,this.registerListeners()}var x=A.prototype;return x.startLoad=function(f){},x.stopLoad=function(){this.destroyInternalLoaders()},x.registerListeners=function(){var f=this.hls;f.on(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.on(d.Events.LEVEL_LOADING,this.onLevelLoading,this),f.on(d.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),f.on(d.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},x.unregisterListeners=function(){var f=this.hls;f.off(d.Events.MANIFEST_LOADING,this.onManifestLoading,this),f.off(d.Events.LEVEL_LOADING,this.onLevelLoading,this),f.off(d.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),f.off(d.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},x.createInternalLoader=function(f){var m=this.hls.config,g=m.pLoader,R=m.loader,O=g||R,b=new O(m);return f.loader=b,this.loaders[f.type]=b,b},x.getInternalLoader=function(f){return this.loaders[f.type]},x.resetInternalLoader=function(f){this.loaders[f]&&delete this.loaders[f]},x.destroyInternalLoaders=function(){for(var f in this.loaders){var m=this.loaders[f];m&&m.destroy(),this.resetInternalLoader(f)}},x.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},x.onManifestLoading=function(f,m){var g=m.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:I.PlaylistContextType.MANIFEST,url:g,deliveryDirectives:null})},x.onLevelLoading=function(f,m){var g=m.id,R=m.level,O=m.url,b=m.deliveryDirectives;this.load({id:g,groupId:null,level:R,responseType:"text",type:I.PlaylistContextType.LEVEL,url:O,deliveryDirectives:b})},x.onAudioTrackLoading=function(f,m){var g=m.id,R=m.groupId,O=m.url,b=m.deliveryDirectives;this.load({id:g,groupId:R,level:null,responseType:"text",type:I.PlaylistContextType.AUDIO_TRACK,url:O,deliveryDirectives:b})},x.onSubtitleTrackLoading=function(f,m){var g=m.id,R=m.groupId,O=m.url,b=m.deliveryDirectives;this.load({id:g,groupId:R,level:null,responseType:"text",type:I.PlaylistContextType.SUBTITLE_TRACK,url:O,deliveryDirectives:b})},x.load=function(f){var m,g=this.hls.config,R=this.getInternalLoader(f);if(R){var O=R.context;if(O&&O.url===f.url){L.logger.trace("[playlist-loader]: playlist request ongoing");return}L.logger.log("[playlist-loader]: aborting previous loader for type: "+f.type),R.abort()}var b,P,F,T;switch(f.type){case I.PlaylistContextType.MANIFEST:b=g.manifestLoadingMaxRetry,P=g.manifestLoadingTimeOut,F=g.manifestLoadingRetryDelay,T=g.manifestLoadingMaxRetryTimeout;break;case I.PlaylistContextType.LEVEL:case I.PlaylistContextType.AUDIO_TRACK:case I.PlaylistContextType.SUBTITLE_TRACK:b=0,P=g.levelLoadingTimeOut;break;default:b=g.levelLoadingMaxRetry,P=g.levelLoadingTimeOut,F=g.levelLoadingRetryDelay,T=g.levelLoadingMaxRetryTimeout;break}if(R=this.createInternalLoader(f),(m=f.deliveryDirectives)!==null&&m!==void 0&&m.part){var C;if(f.type===I.PlaylistContextType.LEVEL&&f.level!==null?C=this.hls.levels[f.level].details:f.type===I.PlaylistContextType.AUDIO_TRACK&&f.id!==null?C=this.hls.audioTracks[f.id].details:f.type===I.PlaylistContextType.SUBTITLE_TRACK&&f.id!==null&&(C=this.hls.subtitleTracks[f.id].details),C){var y=C.partTarget,_=C.targetduration;y&&_&&(P=Math.min(Math.max(y*3,_*.8)*1e3,P))}}var c={timeout:P,maxRetry:b,retryDelay:F,maxRetryDelay:T,highWaterMark:0},D={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};R.load(f,c,D)},x.loadsuccess=function(f,m,g,R){R===void 0&&(R=null),this.resetInternalLoader(g.type);var O=f.data;if(O.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(f,g,"no EXTM3U delimiter",R);return}m.parsing.start=performance.now(),O.indexOf("#EXTINF:")>0||O.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(f,m,g,R):this.handleMasterPlaylist(f,m,g,R)},x.loaderror=function(f,m,g){g===void 0&&(g=null),this.handleNetworkError(m,g,!1,f)},x.loadtimeout=function(f,m,g){g===void 0&&(g=null),this.handleNetworkError(m,g,!0)},x.handleMasterPlaylist=function(f,m,g,R){var O=this.hls,b=f.data,P=S(f,g),F=B.default.parseMasterPlaylist(b,P),T=F.levels,C=F.sessionData,y=F.sessionKeys;if(!T.length){this.handleManifestParsingError(f,g,"no level found in manifest",R);return}var _=T.map(function($){return{id:$.attrs.AUDIO,audioCodec:$.audioCodec}}),c=T.map(function($){return{id:$.attrs.SUBTITLES,textCodec:$.textCodec}}),D=B.default.parseMasterPlaylistMedia(b,P,"AUDIO",_),N=B.default.parseMasterPlaylistMedia(b,P,"SUBTITLES",c),k=B.default.parseMasterPlaylistMedia(b,P,"CLOSED-CAPTIONS");if(D.length){var U=D.some(function($){return!$.url});!U&&T[0].audioCodec&&!T[0].attrs.AUDIO&&(L.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),D.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new p.AttrList({}),bitrate:0,url:""}))}O.trigger(d.Events.MANIFEST_LOADED,{levels:T,audioTracks:D,subtitles:N,captions:k,url:P,stats:m,networkDetails:R,sessionData:C,sessionKeys:y})},x.handleTrackOrLevelPlaylist=function(f,m,g,R){var O=this.hls,b=g.id,P=g.level,F=g.type,T=S(f,g),C=(0,v.isFiniteNumber)(b)?b:0,y=(0,v.isFiniteNumber)(P)?P:C,_=w(g),c=B.default.parseLevelPlaylist(f.data,T,y,_,C);if(!c.fragments.length){O.trigger(d.Events.ERROR,{type:M.ErrorTypes.NETWORK_ERROR,details:M.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:T,reason:"no fragments found in level",level:typeof g.level=="number"?g.level:void 0});return}if(F===I.PlaylistContextType.MANIFEST){var D={attrs:new p.AttrList({}),bitrate:0,details:c,name:"",url:T};O.trigger(d.Events.MANIFEST_LOADED,{levels:[D],audioTracks:[],url:T,stats:m,networkDetails:R,sessionData:null,sessionKeys:null})}m.parsing.end=performance.now(),g.levelDetails=c,this.handlePlaylistLoaded(f,m,g,R)},x.handleManifestParsingError=function(f,m,g,R){this.hls.trigger(d.Events.ERROR,{type:M.ErrorTypes.NETWORK_ERROR,details:M.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:m.type===I.PlaylistContextType.MANIFEST,url:f.url,reason:g,response:f,context:m,networkDetails:R})},x.handleNetworkError=function(f,m,g,R){g===void 0&&(g=!1),L.logger.warn("[playlist-loader]: A network "+(g?"timeout":"error")+" occurred while loading "+f.type+" level: "+f.level+" id: "+f.id+' group-id: "'+f.groupId+'"');var O=M.ErrorDetails.UNKNOWN,b=!1,P=this.getInternalLoader(f);switch(f.type){case I.PlaylistContextType.MANIFEST:O=g?M.ErrorDetails.MANIFEST_LOAD_TIMEOUT:M.ErrorDetails.MANIFEST_LOAD_ERROR,b=!0;break;case I.PlaylistContextType.LEVEL:O=g?M.ErrorDetails.LEVEL_LOAD_TIMEOUT:M.ErrorDetails.LEVEL_LOAD_ERROR,b=!1;break;case I.PlaylistContextType.AUDIO_TRACK:O=g?M.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:M.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,b=!1;break;case I.PlaylistContextType.SUBTITLE_TRACK:O=g?M.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:M.ErrorDetails.SUBTITLE_LOAD_ERROR,b=!1;break}P&&this.resetInternalLoader(f.type);var F={type:M.ErrorTypes.NETWORK_ERROR,details:O,fatal:b,url:f.url,loader:P,context:f,networkDetails:m};R&&(F.response=R),this.hls.trigger(d.Events.ERROR,F)},x.handlePlaylistLoaded=function(f,m,g,R){var O=g.type,b=g.level,P=g.id,F=g.groupId,T=g.loader,C=g.levelDetails,y=g.deliveryDirectives;if(!(C!=null&&C.targetduration)){this.handleManifestParsingError(f,g,"invalid target duration",R);return}if(T)switch(C.live&&(T.getCacheAge&&(C.ageHeader=T.getCacheAge()||0),(!T.getCacheAge||isNaN(C.ageHeader))&&(C.ageHeader=0)),O){case I.PlaylistContextType.MANIFEST:case I.PlaylistContextType.LEVEL:this.hls.trigger(d.Events.LEVEL_LOADED,{details:C,level:b||0,id:P||0,stats:m,networkDetails:R,deliveryDirectives:y});break;case I.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(d.Events.AUDIO_TRACK_LOADED,{details:C,id:P||0,groupId:F||"",stats:m,networkDetails:R,deliveryDirectives:y});break;case I.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(d.Events.SUBTITLE_TRACK_LOADED,{details:C,id:P||0,groupId:F||"",stats:m,networkDetails:R,deliveryDirectives:y});break}},A}();const u=E},"./src/polyfills/number.ts":(s,l,a)=>{a.r(l),a.d(l,{MAX_SAFE_INTEGER:()=>d,isFiniteNumber:()=>v});var v=Number.isFinite||function(M){return typeof M=="number"&&isFinite(M)},d=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v=function(){function M(){}return M.getSilentFrame=function(B,I){switch(B){case"mp4a.40.2":if(I===1)return new Uint8Array([0,200,0,128,35,128]);if(I===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(I===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(I===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(I===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(I===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(I===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(I===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(I===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}},M}();const d=v},"./src/remux/mp4-generator.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>M});var v=Math.pow(2,32)-1,d=function(){function L(){}return L.init=function(){L.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var I;for(I in L.types)L.types.hasOwnProperty(I)&&(L.types[I]=[I.charCodeAt(0),I.charCodeAt(1),I.charCodeAt(2),I.charCodeAt(3)]);var p=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),w=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);L.HDLR_TYPES={video:p,audio:w};var S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),E=new Uint8Array([0,0,0,0,0,0,0,0]);L.STTS=L.STSC=L.STCO=E,L.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),L.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),L.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),L.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var u=new Uint8Array([105,115,111,109]),A=new Uint8Array([97,118,99,49]),x=new Uint8Array([0,0,0,1]);L.FTYP=L.box(L.types.ftyp,u,x,u,A),L.DINF=L.box(L.types.dinf,L.box(L.types.dref,S))},L.box=function(I){for(var p=8,w=arguments.length,S=new Array(w>1?w-1:0),E=1;E<w;E++)S[E-1]=arguments[E];for(var u=S.length,A=u;u--;)p+=S[u].byteLength;var x=new Uint8Array(p);for(x[0]=p>>24&255,x[1]=p>>16&255,x[2]=p>>8&255,x[3]=p&255,x.set(I,4),u=0,p=8;u<A;u++)x.set(S[u],p),p+=S[u].byteLength;return x},L.hdlr=function(I){return L.box(L.types.hdlr,L.HDLR_TYPES[I])},L.mdat=function(I){return L.box(L.types.mdat,I)},L.mdhd=function(I,p){p*=I;var w=Math.floor(p/(v+1)),S=Math.floor(p%(v+1));return L.box(L.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,I>>24&255,I>>16&255,I>>8&255,I&255,w>>24,w>>16&255,w>>8&255,w&255,S>>24,S>>16&255,S>>8&255,S&255,85,196,0,0]))},L.mdia=function(I){return L.box(L.types.mdia,L.mdhd(I.timescale,I.duration),L.hdlr(I.type),L.minf(I))},L.mfhd=function(I){return L.box(L.types.mfhd,new Uint8Array([0,0,0,0,I>>24,I>>16&255,I>>8&255,I&255]))},L.minf=function(I){return I.type==="audio"?L.box(L.types.minf,L.box(L.types.smhd,L.SMHD),L.DINF,L.stbl(I)):L.box(L.types.minf,L.box(L.types.vmhd,L.VMHD),L.DINF,L.stbl(I))},L.moof=function(I,p,w){return L.box(L.types.moof,L.mfhd(I),L.traf(w,p))},L.moov=function(I){for(var p=I.length,w=[];p--;)w[p]=L.trak(I[p]);return L.box.apply(null,[L.types.moov,L.mvhd(I[0].timescale,I[0].duration)].concat(w).concat(L.mvex(I)))},L.mvex=function(I){for(var p=I.length,w=[];p--;)w[p]=L.trex(I[p]);return L.box.apply(null,[L.types.mvex].concat(w))},L.mvhd=function(I,p){p*=I;var w=Math.floor(p/(v+1)),S=Math.floor(p%(v+1)),E=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,I>>24&255,I>>16&255,I>>8&255,I&255,w>>24,w>>16&255,w>>8&255,w&255,S>>24,S>>16&255,S>>8&255,S&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return L.box(L.types.mvhd,E)},L.sdtp=function(I){var p=I.samples||[],w=new Uint8Array(4+p.length),S,E;for(S=0;S<p.length;S++)E=p[S].flags,w[S+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return L.box(L.types.sdtp,w)},L.stbl=function(I){return L.box(L.types.stbl,L.stsd(I),L.box(L.types.stts,L.STTS),L.box(L.types.stsc,L.STSC),L.box(L.types.stsz,L.STSZ),L.box(L.types.stco,L.STCO))},L.avc1=function(I){var p=[],w=[],S,E,u;for(S=0;S<I.sps.length;S++)E=I.sps[S],u=E.byteLength,p.push(u>>>8&255),p.push(u&255),p=p.concat(Array.prototype.slice.call(E));for(S=0;S<I.pps.length;S++)E=I.pps[S],u=E.byteLength,w.push(u>>>8&255),w.push(u&255),w=w.concat(Array.prototype.slice.call(E));var A=L.box(L.types.avcC,new Uint8Array([1,p[3],p[4],p[5],255,224|I.sps.length].concat(p).concat([I.pps.length]).concat(w))),x=I.width,h=I.height,f=I.pixelRatio[0],m=I.pixelRatio[1];return L.box(L.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,x>>8&255,x&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),A,L.box(L.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),L.box(L.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,m>>24,m>>16&255,m>>8&255,m&255])))},L.esds=function(I){var p=I.config.length;return new Uint8Array([0,0,0,0,3,23+p,0,1,0,4,15+p,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([p]).concat(I.config).concat([6,1,2]))},L.mp4a=function(I){var p=I.samplerate;return L.box(L.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,I.channelCount,0,16,0,0,0,0,p>>8&255,p&255,0,0]),L.box(L.types.esds,L.esds(I)))},L.mp3=function(I){var p=I.samplerate;return L.box(L.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,I.channelCount,0,16,0,0,0,0,p>>8&255,p&255,0,0]))},L.stsd=function(I){return I.type==="audio"?I.segmentCodec==="mp3"&&I.codec==="mp3"?L.box(L.types.stsd,L.STSD,L.mp3(I)):L.box(L.types.stsd,L.STSD,L.mp4a(I)):L.box(L.types.stsd,L.STSD,L.avc1(I))},L.tkhd=function(I){var p=I.id,w=I.duration*I.timescale,S=I.width,E=I.height,u=Math.floor(w/(v+1)),A=Math.floor(w%(v+1));return L.box(L.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,p>>24&255,p>>16&255,p>>8&255,p&255,0,0,0,0,u>>24,u>>16&255,u>>8&255,u&255,A>>24,A>>16&255,A>>8&255,A&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,S>>8&255,S&255,0,0,E>>8&255,E&255,0,0]))},L.traf=function(I,p){var w=L.sdtp(I),S=I.id,E=Math.floor(p/(v+1)),u=Math.floor(p%(v+1));return L.box(L.types.traf,L.box(L.types.tfhd,new Uint8Array([0,0,0,0,S>>24,S>>16&255,S>>8&255,S&255])),L.box(L.types.tfdt,new Uint8Array([1,0,0,0,E>>24,E>>16&255,E>>8&255,E&255,u>>24,u>>16&255,u>>8&255,u&255])),L.trun(I,w.length+16+20+8+16+8+8),w)},L.trak=function(I){return I.duration=I.duration||4294967295,L.box(L.types.trak,L.tkhd(I),L.mdia(I))},L.trex=function(I){var p=I.id;return L.box(L.types.trex,new Uint8Array([0,0,0,0,p>>24,p>>16&255,p>>8&255,p&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},L.trun=function(I,p){var w=I.samples||[],S=w.length,E=12+16*S,u=new Uint8Array(E),A,x,h,f,m,g;for(p+=8+E,u.set([I.type==="video"?1:0,0,15,1,S>>>24&255,S>>>16&255,S>>>8&255,S&255,p>>>24&255,p>>>16&255,p>>>8&255,p&255],0),A=0;A<S;A++)x=w[A],h=x.duration,f=x.size,m=x.flags,g=x.cts,u.set([h>>>24&255,h>>>16&255,h>>>8&255,h&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,m.isLeading<<2|m.dependsOn,m.isDependedOn<<6|m.hasRedundancy<<4|m.paddingValue<<1|m.isNonSync,m.degradPrio&240<<8,m.degradPrio&15,g>>>24&255,g>>>16&255,g>>>8&255,g&255],12+16*A);return L.box(L.types.trun,u)},L.initSegment=function(I){L.types||L.init();var p=L.moov(I),w=new Uint8Array(L.FTYP.byteLength+p.byteLength);return w.set(L.FTYP),w.set(p,L.FTYP.byteLength),w},L}();d.types=void 0,d.HDLR_TYPES=void 0,d.STTS=void 0,d.STSC=void 0,d.STCO=void 0,d.STSZ=void 0,d.VMHD=void 0,d.SMHD=void 0,d.STSD=void 0,d.FTYP=void 0,d.DINF=void 0;const M=d},"./src/remux/mp4-remuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>f,flushTextTrackMetadataCueSamples:()=>R,flushTextTrackUserdataCueSamples:()=>O,normalizePts:()=>m});var v=a("./src/polyfills/number.ts"),d=a("./src/remux/aac-helper.ts"),M=a("./src/remux/mp4-generator.ts"),L=a("./src/events.ts"),B=a("./src/errors.ts"),I=a("./src/utils/logger.ts"),p=a("./src/types/loader.ts"),w=a("./src/utils/timescale-conversion.ts");function S(){return S=Object.assign?Object.assign.bind():function(F){for(var T=1;T<arguments.length;T++){var C=arguments[T];for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&(F[y]=C[y])}return F},S.apply(this,arguments)}var E=10*1e3,u=1024,A=1152,x=null,h=null,f=function(){function F(C,y,_,c){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=C,this.config=y,this.typeSupported=_,this.ISGenerated=!1,x===null){var D=navigator.userAgent||"",N=D.match(/Chrome\/(\d+)/i);x=N?parseInt(N[1]):0}if(h===null){var k=navigator.userAgent.match(/Safari\/(\d+)/i);h=k?parseInt(k[1]):0}}var T=F.prototype;return T.destroy=function(){},T.resetTimeStamp=function(y){I.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=y},T.resetNextTimestamp=function(){I.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},T.resetInitSegment=function(){I.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},T.getVideoStartPts=function(y){var _=!1,c=y.reduce(function(D,N){var k=N.pts-D;return k<-4294967296?(_=!0,m(D,N.pts)):k>0?D:N.pts},y[0].pts);return _&&I.logger.debug("PTS rollover detected"),c},T.remux=function(y,_,c,D,N,k,U,$){var K,W,z,H,G,X,Y=N,Z=N,q=y.pid>-1,ne=_.pid>-1,te=_.samples.length,ie=y.samples.length>0,ae=U&&te>0||te>1,ge=(!q||ie)&&(!ne||ae)||this.ISGenerated||U;if(ge){this.ISGenerated||(z=this.generateIS(y,_,N));var de=this.isVideoContiguous,oe=-1,he;if(ae&&(oe=g(_.samples),!de&&this.config.forceKeyFrameOnDiscontinuity))if(X=!0,oe>0){I.logger.warn("[mp4-remuxer]: Dropped "+oe+" out of "+te+" video samples due to a missing keyframe");var Pe=this.getVideoStartPts(_.samples);_.samples=_.samples.slice(oe),_.dropped+=oe,Z+=(_.samples[0].pts-Pe)/_.inputTimeScale,he=Z}else oe===-1&&(I.logger.warn("[mp4-remuxer]: No keyframe found out of "+te+" video samples"),X=!1);if(this.ISGenerated){if(ie&&ae){var Ae=this.getVideoStartPts(_.samples),ce=m(y.samples[0].pts,Ae)-Ae,fe=ce/_.inputTimeScale;Y+=Math.max(0,fe),Z+=Math.max(0,-fe)}if(ie){if(y.samplerate||(I.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),z=this.generateIS(y,_,N)),W=this.remuxAudio(y,Y,this.isAudioContiguous,k,ne||ae||$===p.PlaylistLevelType.AUDIO?Z:void 0),ae){var Te=W?W.endPTS-W.startPTS:0;_.inputTimeScale||(I.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),z=this.generateIS(y,_,N)),K=this.remuxVideo(_,Z,de,Te)}}else ae&&(K=this.remuxVideo(_,Z,de,0));K&&(K.firstKeyFrame=oe,K.independent=oe!==-1,K.firstKeyFramePTS=he)}}return this.ISGenerated&&(c.samples.length&&(G=R(c,N,this._initPTS,this._initDTS)),D.samples.length&&(H=O(D,N,this._initPTS))),{audio:W,video:K,initSegment:z,independent:X,text:H,id3:G}},T.generateIS=function(y,_,c){var D=y.samples,N=_.samples,k=this.typeSupported,U={},$=!(0,v.isFiniteNumber)(this._initPTS),K="audio/mp4",W,z,H;if($&&(W=z=1/0),y.config&&D.length){switch(y.timescale=y.samplerate,y.segmentCodec){case"mp3":k.mpeg?(K="audio/mpeg",y.codec=""):k.mp3&&(y.codec="mp3");break}U.audio={id:"audio",container:K,codec:y.codec,initSegment:y.segmentCodec==="mp3"&&k.mpeg?new Uint8Array(0):M.default.initSegment([y]),metadata:{channelCount:y.channelCount}},$&&(H=y.inputTimeScale,W=z=D[0].pts-Math.round(H*c))}if(_.sps&&_.pps&&N.length&&(_.timescale=_.inputTimeScale,U.video={id:"main",container:"video/mp4",codec:_.codec,initSegment:M.default.initSegment([_]),metadata:{width:_.width,height:_.height}},$)){H=_.inputTimeScale;var G=this.getVideoStartPts(N),X=Math.round(H*c);z=Math.min(z,m(N[0].dts,G)-X),W=Math.min(W,G-X)}if(Object.keys(U).length)return this.ISGenerated=!0,$&&(this._initPTS=W,this._initDTS=z),{tracks:U,initPTS:W,timescale:H}},T.remuxVideo=function(y,_,c,D){var N=y.inputTimeScale,k=y.samples,U=[],$=k.length,K=this._initPTS,W=this.nextAvcDts,z=8,H=this.videoSampleDuration,G,X,Y=Number.POSITIVE_INFINITY,Z=Number.NEGATIVE_INFINITY,q=!1;if(!c||W===null){var ne=_*N,te=k[0].pts-m(k[0].dts,k[0].pts);W=ne-te}for(var ie=0;ie<$;ie++){var ae=k[ie];ae.pts=m(ae.pts-K,W),ae.dts=m(ae.dts-K,W),ae.dts<k[ie>0?ie-1:ie].dts&&(q=!0)}q&&k.sort(function(Jo,Ms){var Be=Jo.dts-Ms.dts,Yt=Jo.pts-Ms.pts;return Be||Yt}),G=k[0].dts,X=k[k.length-1].dts;var ge=X-G,de=ge?Math.round(ge/($-1)):H||y.inputTimeScale/30;if(c){var oe=G-W,he=oe>de,Pe=oe<-1;if((he||Pe)&&(he?I.logger.warn("AVC: "+(0,w.toMsFromMpegTsClock)(oe,!0)+" ms ("+oe+"dts) hole between fragments detected, filling it"):I.logger.warn("AVC: "+(0,w.toMsFromMpegTsClock)(-oe,!0)+" ms ("+oe+"dts) overlapping between fragments detected"),!Pe||W>k[0].pts)){G=W;var Ae=k[0].pts-oe;k[0].dts=G,k[0].pts=Ae,I.logger.log("Video: First PTS/DTS adjusted: "+(0,w.toMsFromMpegTsClock)(Ae,!0)+"/"+(0,w.toMsFromMpegTsClock)(G,!0)+", delta: "+(0,w.toMsFromMpegTsClock)(oe,!0)+" ms")}}G=Math.max(0,G);for(var ce=0,fe=0,Te=0;Te<$;Te++){for(var xe=k[Te],ee=xe.units,J=ee.length,re=0,le=0;le<J;le++)re+=ee[le].data.length;fe+=re,ce+=J,xe.length=re,xe.dts=Math.max(xe.dts,G),Y=Math.min(xe.pts,Y),Z=Math.max(xe.pts,Z)}X=k[$-1].dts;var se=fe+4*ce+8,Ee;try{Ee=new Uint8Array(se)}catch{this.observer.emit(L.Events.ERROR,L.Events.ERROR,{type:B.ErrorTypes.MUX_ERROR,details:B.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:se,reason:"fail allocating video mdat "+se});return}var Ce=new DataView(Ee.buffer);Ce.setUint32(0,se),Ee.set(M.default.types.mdat,4);for(var _e=!1,Re=Number.POSITIVE_INFINITY,Ke=Number.POSITIVE_INFINITY,we=Number.NEGATIVE_INFINITY,We=Number.NEGATIVE_INFINITY,ke=0;ke<$;ke++){for(var $e=k[ke],Ye=$e.units,ht=0,Ve=0,_t=Ye.length;Ve<_t;Ve++){var it=Ye[Ve],tr=it.data,Qe=it.data.byteLength;Ce.setUint32(z,Qe),z+=4,Ee.set(tr,z),z+=Qe,ht+=4+Qe}var Tt=void 0;if(ke<$-1)H=k[ke+1].dts-$e.dts,Tt=k[ke+1].pts-$e.pts;else{var Wt=this.config,fr=ke>0?$e.dts-k[ke-1].dts:de;if(Tt=ke>0?$e.pts-k[ke-1].pts:de,Wt.stretchShortVideoTrack&&this.nextAudioPts!==null){var hr=Math.floor(Wt.maxBufferHole*N),Hr=(D?Y+D*N:this.nextAudioPts)-$e.pts;Hr>hr?(H=Hr-fr,H<0?H=fr:_e=!0,I.logger.log("[mp4-remuxer]: It is approximately "+Hr/90+" ms to the next segment; using duration "+H/90+" ms for the last video frame.")):H=fr}else H=fr}var Ft=Math.round($e.pts-$e.dts);Re=Math.min(Re,H),we=Math.max(we,H),Ke=Math.min(Ke,Tt),We=Math.max(We,Tt),U.push(new b($e.key,H,ht,Ft))}if(U.length){if(x){if(x<70){var gt=U[0].flags;gt.dependsOn=2,gt.isNonSync=0}}else if(h&&We-Ke<we-Re&&de/we<.025&&U[0].cts===0){I.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var jr=G,ut=0,Ar=U.length;ut<Ar;ut++){var vi=jr+U[ut].duration,ot=jr+U[ut].cts;if(ut<Ar-1){var yt=vi+U[ut+1].cts;U[ut].duration=yt-ot}else U[ut].duration=ut?U[ut-1].duration:de;U[ut].cts=0,jr=vi}}}console.assert(H!==null,"mp4SampleDuration must be computed"),H=_e||!H?de:H,this.nextAvcDts=W=X+H,this.videoSampleDuration=H,this.isVideoContiguous=!0;var Nn=M.default.moof(y.sequenceNumber++,G,S({},y,{samples:U})),Bn="video",pr={data1:Nn,data2:Ee,startPTS:Y/N,endPTS:(Z+H)/N,startDTS:G/N,endDTS:W/N,type:Bn,hasAudio:!1,hasVideo:!0,nb:U.length,dropped:y.dropped};return y.samples=[],y.dropped=0,console.assert(Ee.length,"MDAT length must not be zero"),pr},T.remuxAudio=function(y,_,c,D,N){var k=y.inputTimeScale,U=y.samplerate?y.samplerate:k,$=k/U,K=y.segmentCodec==="aac"?u:A,W=K*$,z=this._initPTS,H=y.segmentCodec==="mp3"&&this.typeSupported.mpeg,G=[],X=N!==void 0,Y=y.samples,Z=H?0:8,q=this.nextAudioPts||-1,ne=_*k;if(this.isAudioContiguous=c=c||Y.length&&q>0&&(D&&Math.abs(ne-q)<9e3||Math.abs(m(Y[0].pts-z,ne)-q)<20*W),Y.forEach(function(it){it.pts=m(it.pts-z,ne)}),!c||q<0){if(Y=Y.filter(function(it){return it.pts>=0}),!Y.length)return;N===0?q=0:D&&!X?q=Math.max(0,ne):q=Y[0].pts}if(y.segmentCodec==="aac")for(var te=this.config.maxAudioFramesDrift,ie=0,ae=q;ie<Y.length;ie++){var ge=Y[ie],de=ge.pts,oe=de-ae,he=Math.abs(1e3*oe/k);if(oe<=-te*W&&X)ie===0&&(I.logger.warn("Audio frame @ "+(de/k).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*oe/k)+" ms."),this.nextAudioPts=q=ae=de);else if(oe>=te*W&&he<E&&X){var Pe=Math.round(oe/W);ae=de-Pe*W,ae<0&&(Pe--,ae+=W),ie===0&&(this.nextAudioPts=q=ae),I.logger.warn("[mp4-remuxer]: Injecting "+Pe+" audio frame @ "+(ae/k).toFixed(3)+"s due to "+Math.round(1e3*oe/k)+" ms gap.");for(var Ae=0;Ae<Pe;Ae++){var ce=Math.max(ae,0),fe=d.default.getSilentFrame(y.manifestCodec||y.codec,y.channelCount);fe||(I.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),fe=ge.unit.subarray()),Y.splice(ie,0,{unit:fe,pts:ce}),ae+=W,ie++}}ge.pts=ae,ae+=W}for(var Te=null,xe=null,ee,J=0,re=Y.length;re--;)J+=Y[re].unit.byteLength;for(var le=0,se=Y.length;le<se;le++){var Ee=Y[le],Ce=Ee.unit,_e=Ee.pts;if(xe!==null){var Re=G[le-1];Re.duration=Math.round((_e-xe)/$)}else if(c&&y.segmentCodec==="aac"&&(_e=q),Te=_e,J>0){J+=Z;try{ee=new Uint8Array(J)}catch{this.observer.emit(L.Events.ERROR,L.Events.ERROR,{type:B.ErrorTypes.MUX_ERROR,details:B.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:J,reason:"fail allocating audio mdat "+J});return}if(!H){var Ke=new DataView(ee.buffer);Ke.setUint32(0,J),ee.set(M.default.types.mdat,4)}}else return;ee.set(Ce,Z);var we=Ce.byteLength;Z+=we,G.push(new b(!0,K,we,0)),xe=_e}var We=G.length;if(We){var ke=G[G.length-1];this.nextAudioPts=q=xe+$*ke.duration;var $e=H?new Uint8Array(0):M.default.moof(y.sequenceNumber++,Te/$,S({},y,{samples:G}));y.samples=[];var Ye=Te/k,ht=q/k,Ve="audio",_t={data1:$e,data2:ee,startPTS:Ye,endPTS:ht,startDTS:Ye,endDTS:ht,type:Ve,hasAudio:!0,hasVideo:!1,nb:We};return this.isAudioContiguous=!0,console.assert(ee.length,"MDAT length must not be zero"),_t}},T.remuxEmptyAudio=function(y,_,c,D){var N=y.inputTimeScale,k=y.samplerate?y.samplerate:N,U=N/k,$=this.nextAudioPts,K=($!==null?$:D.startDTS*N)+this._initDTS,W=D.endDTS*N+this._initDTS,z=U*u,H=Math.ceil((W-K)/z),G=d.default.getSilentFrame(y.manifestCodec||y.codec,y.channelCount);if(I.logger.warn("[mp4-remuxer]: remux empty Audio"),!G){I.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}for(var X=[],Y=0;Y<H;Y++){var Z=K+Y*z;X.push({unit:G,pts:Z,dts:Z})}return y.samples=X,this.remuxAudio(y,_,c,!1)},F}();function m(F,T){var C;if(T===null)return F;for(T<F?C=-8589934592:C=8589934592;Math.abs(F-T)>4294967296;)F+=C;return F}function g(F){for(var T=0;T<F.length;T++)if(F[T].key)return T;return-1}function R(F,T,C,y){var _=F.samples.length;if(_){for(var c=F.inputTimeScale,D=0;D<_;D++){var N=F.samples[D];N.pts=m(N.pts-C,T*c)/c,N.dts=m(N.dts-y,T*c)/c}var k=F.samples;return F.samples=[],{samples:k}}}function O(F,T,C){var y=F.samples.length;if(y){for(var _=F.inputTimeScale,c=0;c<y;c++){var D=F.samples[c];D.pts=m(D.pts-C,T*_)/_}F.samples.sort(function(k,U){return k.pts-U.pts});var N=F.samples;return F.samples=[],{samples:N}}}var b=function(T,C,y,_){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=C,this.size=y,this.cts=_,this.flags=new P(T)},P=function(T){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=T?2:1,this.isNonSync=T?0:1}},"./src/remux/passthrough-remuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>w});var v=a("./src/polyfills/number.ts"),d=a("./src/remux/mp4-remuxer.ts"),M=a("./src/utils/mp4-tools.ts"),L=a("./src/loader/fragment.ts"),B=a("./src/utils/logger.ts"),I=function(){function S(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndTime=null}var E=S.prototype;return E.destroy=function(){},E.resetTimeStamp=function(A){this.initPTS=A,this.lastEndTime=null},E.resetNextTimestamp=function(){this.lastEndTime=null},E.resetInitSegment=function(A,x,h,f){this.audioCodec=x,this.videoCodec=h,this.generateInitSegment((0,M.patchEncyptionData)(A,f)),this.emitInitSegment=!0},E.generateInitSegment=function(A){var x=this.audioCodec,h=this.videoCodec;if(!A||!A.byteLength){this.initTracks=void 0,this.initData=void 0;return}var f=this.initData=(0,M.parseInitSegment)(A);x||(x=p(f.audio,L.ElementaryStreamTypes.AUDIO)),h||(h=p(f.video,L.ElementaryStreamTypes.VIDEO));var m={};f.audio&&f.video?m.audiovideo={container:"video/mp4",codec:x+","+h,initSegment:A,id:"main"}:f.audio?m.audio={container:"audio/mp4",codec:x,initSegment:A,id:"audio"}:f.video?m.video={container:"video/mp4",codec:h,initSegment:A,id:"main"}:B.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=m},E.remux=function(A,x,h,f,m){var g,R=this.initPTS,O=this.lastEndTime,b={audio:void 0,video:void 0,text:f,id3:h,initSegment:void 0};(0,v.isFiniteNumber)(O)||(O=this.lastEndTime=m||0);var P=x.samples;if(!P||!P.length)return b;var F={initPTS:void 0,timescale:1},T=this.initData;if((!T||!T.length)&&(this.generateInitSegment(P),T=this.initData),!T||!T.length)return B.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),b;this.emitInitSegment&&(F.tracks=this.initTracks,this.emitInitSegment=!1);var C=(0,M.getStartDTS)(T,P);(0,v.isFiniteNumber)(R)||(this.initPTS=F.initPTS=R=C-m);var y=(0,M.getDuration)(P,T),_=A?C-R:O,c=_+y;(0,M.offsetStartDTS)(T,P,R),y>0?this.lastEndTime=c:(B.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var D=!!T.audio,N=!!T.video,k="";D&&(k+="audio"),N&&(k+="video");var U={data1:P,startPTS:_,startDTS:_,endPTS:c,endDTS:c,type:k,hasAudio:D,hasVideo:N,nb:1,dropped:0};b.audio=U.type==="audio"?U:void 0,b.video=U.type!=="audio"?U:void 0,b.initSegment=F;var $=(g=this.initPTS)!=null?g:0;return b.id3=(0,d.flushTextTrackMetadataCueSamples)(h,m,$,$),f.samples.length&&(b.text=(0,d.flushTextTrackUserdataCueSamples)(f,m,$)),b},S}();function p(S,E){var u=S==null?void 0:S.codec;return u&&u.length>4?u:u==="hvc1"||u==="hev1"?"hvc1.1.c.L120.90":u==="av01"?"av01.0.04M.08":u==="avc1"||E===L.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}const w=I},"./src/task-loop.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});var v=function(){function d(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var M=d.prototype;return M.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},M.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},M.onHandlerDestroyed=function(){},M.hasInterval=function(){return!!this._tickInterval},M.hasNextTick=function(){return!!this._tickTimer},M.setInterval=function(B){return this._tickInterval?!1:(this._tickInterval=self.setInterval(this._boundTick,B),!0)},M.clearInterval=function(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1},M.clearNextTick=function(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1},M.tick=function(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},M.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},M.doTick=function(){},d}()},"./src/types/cmcd.ts":(s,l,a)=>{a.r(l),a.d(l,{CMCDObjectType:()=>d,CMCDStreamType:()=>L,CMCDStreamingFormat:()=>M,CMCDVersion:()=>v});var v=1,d;(function(B){B.MANIFEST="m",B.AUDIO="a",B.VIDEO="v",B.MUXED="av",B.INIT="i",B.CAPTION="c",B.TIMED_TEXT="tt",B.KEY="k",B.OTHER="o"})(d||(d={}));var M;(function(B){B.DASH="d",B.HLS="h",B.SMOOTH="s",B.OTHER="o"})(M||(M={}));var L;(function(B){B.VOD="v",B.LIVE="l"})(L||(L={}))},"./src/types/demuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{MetadataSchema:()=>v});var v;(function(d){d.audioId3="org.id3",d.dateRange="com.apple.quicktime.HLS",d.emsg="https://aomedia.org/emsg/ID3"})(v||(v={}))},"./src/types/level.ts":(s,l,a)=>{a.r(l),a.d(l,{HdcpLevels:()=>B,HlsSkip:()=>I,HlsUrlParameters:()=>w,Level:()=>S,getSkipValue:()=>p});function v(E,u){for(var A=0;A<u.length;A++){var x=u[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,M(x.key),x)}}function d(E,u,A){return u&&v(E.prototype,u),A&&v(E,A),Object.defineProperty(E,"prototype",{writable:!1}),E}function M(E){var u=L(E,"string");return typeof u=="symbol"?u:String(u)}function L(E,u){if(typeof E!="object"||E===null)return E;var A=E[Symbol.toPrimitive];if(A!==void 0){var x=A.call(E,u||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(E)}var B=["NONE","TYPE-0","TYPE-1","TYPE-2",null],I;(function(E){E.No="",E.Yes="YES",E.v2="v2"})(I||(I={}));function p(E,u){var A=E.canSkipUntil,x=E.canSkipDateRanges,h=E.endSN,f=u!==void 0?u-h:0;return A&&f<A?x?I.v2:I.Yes:I.No}var w=function(){function E(A,x,h){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=A,this.part=x,this.skip=h}var u=E.prototype;return u.addDirectives=function(x){var h=new self.URL(x);return this.msn!==void 0&&h.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&h.searchParams.set("_HLS_part",this.part.toString()),this.skip&&h.searchParams.set("_HLS_skip",this.skip),h.href},E}(),S=function(){function E(u){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[u.url],this.attrs=u.attrs,this.bitrate=u.bitrate,u.details&&(this.details=u.details),this.id=u.id||0,this.name=u.name,this.width=u.width||0,this.height=u.height||0,this.audioCodec=u.audioCodec,this.videoCodec=u.videoCodec,this.unknownCodecs=u.unknownCodecs,this.codecSet=[u.videoCodec,u.audioCodec].filter(function(A){return A}).join(",").replace(/\.[^.,]+/g,"")}return d(E,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(A){var x=A%this.url.length;this._urlId!==x&&(this.details=void 0,this._urlId=x)}}]),E}()},"./src/types/loader.ts":(s,l,a)=>{a.r(l),a.d(l,{PlaylistContextType:()=>v,PlaylistLevelType:()=>d});var v;(function(M){M.MANIFEST="manifest",M.LEVEL="level",M.AUDIO_TRACK="audioTrack",M.SUBTITLE_TRACK="subtitleTrack"})(v||(v={}));var d;(function(M){M.MAIN="main",M.AUDIO="audio",M.SUBTITLE="subtitle"})(d||(d={}))},"./src/types/transmuxer.ts":(s,l,a)=>{a.r(l),a.d(l,{ChunkMetadata:()=>v});var v=function(L,B,I,p,w,S){p===void 0&&(p=0),w===void 0&&(w=-1),S===void 0&&(S=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=d(),this.buffering={audio:d(),video:d(),audiovideo:d()},this.level=L,this.sn=B,this.id=I,this.size=p,this.part=w,this.partial=S};function d(){return{start:0,executeStart:0,executeEnd:0,end:0}}},"./src/utils/attr-list.ts":(s,l,a)=>{a.r(l),a.d(l,{AttrList:()=>M});var v=/^(\d+)x(\d+)$/,d=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,M=function(){function L(I){typeof I=="string"&&(I=L.parseAttrList(I));for(var p in I)I.hasOwnProperty(p)&&(this[p]=I[p])}var B=L.prototype;return B.decimalInteger=function(p){var w=parseInt(this[p],10);return w>Number.MAX_SAFE_INTEGER?1/0:w},B.hexadecimalInteger=function(p){if(this[p]){var w=(this[p]||"0x").slice(2);w=(w.length&1?"0":"")+w;for(var S=new Uint8Array(w.length/2),E=0;E<w.length/2;E++)S[E]=parseInt(w.slice(E*2,E*2+2),16);return S}else return null},B.hexadecimalIntegerAsNumber=function(p){var w=parseInt(this[p],16);return w>Number.MAX_SAFE_INTEGER?1/0:w},B.decimalFloatingPoint=function(p){return parseFloat(this[p])},B.optionalFloat=function(p,w){var S=this[p];return S?parseFloat(S):w},B.enumeratedString=function(p){return this[p]},B.bool=function(p){return this[p]==="YES"},B.decimalResolution=function(p){var w=v.exec(this[p]);if(w!==null)return{width:parseInt(w[1],10),height:parseInt(w[2],10)}},L.parseAttrList=function(p){var w,S={},E='"';for(d.lastIndex=0;(w=d.exec(p))!==null;){var u=w[2];u.indexOf(E)===0&&u.lastIndexOf(E)===u.length-1&&(u=u.slice(1,-1)),S[w[1]]=u}return S},L}()},"./src/utils/binary-search.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v={search:function(L,B){for(var I=0,p=L.length-1,w=null,S=null;I<=p;){w=(I+p)/2|0,S=L[w];var E=B(S);if(E>0)I=w+1;else if(E<0)p=w-1;else return S}return null}};const d=v},"./src/utils/buffer-helper.ts":(s,l,a)=>{a.r(l),a.d(l,{BufferHelper:()=>M});var v=a("./src/utils/logger.ts"),d={length:0,start:function(){return 0},end:function(){return 0}},M=function(){function L(){}return L.isBuffered=function(I,p){try{if(I){for(var w=L.getBuffered(I),S=0;S<w.length;S++)if(p>=w.start(S)&&p<=w.end(S))return!0}}catch{}return!1},L.bufferInfo=function(I,p,w){try{if(I){var S=L.getBuffered(I),E=[],u;for(u=0;u<S.length;u++)E.push({start:S.start(u),end:S.end(u)});return this.bufferedInfo(E,p,w)}}catch{}return{len:0,start:p,end:p,nextStart:void 0}},L.bufferedInfo=function(I,p,w){p=Math.max(0,p),I.sort(function(b,P){var F=b.start-P.start;return F||P.end-b.end});var S=[];if(w)for(var E=0;E<I.length;E++){var u=S.length;if(u){var A=S[u-1].end;I[E].start-A<w?I[E].end>A&&(S[u-1].end=I[E].end):S.push(I[E])}else S.push(I[E])}else S=I;for(var x=0,h,f=p,m=p,g=0;g<S.length;g++){var R=S[g].start,O=S[g].end;if(p+w>=R&&p<O)f=R,m=O,x=m-p;else if(p+w<R){h=R;break}}return{len:x,start:f||0,end:m||0,nextStart:h}},L.getBuffered=function(I){try{return I.buffered}catch(p){return v.logger.log("failed to get media.buffered",p),d}},L}()},"./src/utils/cea-608-parser.ts":(s,l,a)=>{a.r(l),a.d(l,{CaptionScreen:()=>g,Row:()=>m,default:()=>T});var v=a("./src/utils/logger.ts"),d={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},M=function(y){var _=y;return d.hasOwnProperty(y)&&(_=d[y]),String.fromCharCode(_)},L=15,B=100,I={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},p={17:2,18:4,21:6,22:8,23:10,19:13,20:15},w={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},S={25:2,26:4,29:6,30:8,31:10,27:13,28:15},E=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],u;(function(C){C[C.ERROR=0]="ERROR",C[C.TEXT=1]="TEXT",C[C.WARNING=2]="WARNING",C[C.INFO=2]="INFO",C[C.DEBUG=3]="DEBUG",C[C.DATA=3]="DATA"})(u||(u={}));var A=function(){function C(){this.time=null,this.verboseLevel=u.ERROR}var y=C.prototype;return y.log=function(c,D){if(this.verboseLevel>=c){var N=typeof D=="function"?D():D;v.logger.log(this.time+" ["+c+"] "+N)}},C}(),x=function(y){for(var _=[],c=0;c<y.length;c++)_.push(y[c].toString(16));return _},h=function(){function C(_,c,D,N,k){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=_||"white",this.underline=c||!1,this.italics=D||!1,this.background=N||"black",this.flash=k||!1}var y=C.prototype;return y.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},y.setStyles=function(c){for(var D=["foreground","underline","italics","background","flash"],N=0;N<D.length;N++){var k=D[N];c.hasOwnProperty(k)&&(this[k]=c[k])}},y.isDefault=function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},y.equals=function(c){return this.foreground===c.foreground&&this.underline===c.underline&&this.italics===c.italics&&this.background===c.background&&this.flash===c.flash},y.copy=function(c){this.foreground=c.foreground,this.underline=c.underline,this.italics=c.italics,this.background=c.background,this.flash=c.flash},y.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},C}(),f=function(){function C(_,c,D,N,k,U){this.uchar=void 0,this.penState=void 0,this.uchar=_||" ",this.penState=new h(c,D,N,k,U)}var y=C.prototype;return y.reset=function(){this.uchar=" ",this.penState.reset()},y.setChar=function(c,D){this.uchar=c,this.penState.copy(D)},y.setPenState=function(c){this.penState.copy(c)},y.equals=function(c){return this.uchar===c.uchar&&this.penState.equals(c.penState)},y.copy=function(c){this.uchar=c.uchar,this.penState.copy(c.penState)},y.isEmpty=function(){return this.uchar===" "&&this.penState.isDefault()},C}(),m=function(){function C(_){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var c=0;c<B;c++)this.chars.push(new f);this.logger=_,this.pos=0,this.currPenState=new h}var y=C.prototype;return y.equals=function(c){for(var D=!0,N=0;N<B;N++)if(!this.chars[N].equals(c.chars[N])){D=!1;break}return D},y.copy=function(c){for(var D=0;D<B;D++)this.chars[D].copy(c.chars[D])},y.isEmpty=function(){for(var c=!0,D=0;D<B;D++)if(!this.chars[D].isEmpty()){c=!1;break}return c},y.setCursor=function(c){this.pos!==c&&(this.pos=c),this.pos<0?(this.logger.log(u.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>B&&(this.logger.log(u.DEBUG,"Too large cursor position "+this.pos),this.pos=B)},y.moveCursor=function(c){var D=this.pos+c;if(c>1)for(var N=this.pos+1;N<D+1;N++)this.chars[N].setPenState(this.currPenState);this.setCursor(D)},y.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},y.insertChar=function(c){var D=this;c>=144&&this.backSpace();var N=M(c);if(this.pos>=B){this.logger.log(u.ERROR,function(){return"Cannot insert "+c.toString(16)+" ("+N+") at position "+D.pos+". Skipping it!"});return}this.chars[this.pos].setChar(N,this.currPenState),this.moveCursor(1)},y.clearFromPos=function(c){var D;for(D=c;D<B;D++)this.chars[D].reset()},y.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},y.clearToEndOfRow=function(){this.clearFromPos(this.pos)},y.getTextString=function(){for(var c=[],D=!0,N=0;N<B;N++){var k=this.chars[N].uchar;k!==" "&&(D=!1),c.push(k)}return D?"":c.join("")},y.setPenStyles=function(c){this.currPenState.setStyles(c);var D=this.chars[this.pos];D.setPenState(this.currPenState)},C}(),g=function(){function C(_){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var c=0;c<L;c++)this.rows.push(new m(_));this.logger=_,this.currRow=L-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var y=C.prototype;return y.reset=function(){for(var c=0;c<L;c++)this.rows[c].clear();this.currRow=L-1},y.equals=function(c){for(var D=!0,N=0;N<L;N++)if(!this.rows[N].equals(c.rows[N])){D=!1;break}return D},y.copy=function(c){for(var D=0;D<L;D++)this.rows[D].copy(c.rows[D])},y.isEmpty=function(){for(var c=!0,D=0;D<L;D++)if(!this.rows[D].isEmpty()){c=!1;break}return c},y.backSpace=function(){var c=this.rows[this.currRow];c.backSpace()},y.clearToEndOfRow=function(){var c=this.rows[this.currRow];c.clearToEndOfRow()},y.insertChar=function(c){var D=this.rows[this.currRow];D.insertChar(c)},y.setPen=function(c){var D=this.rows[this.currRow];D.setPenStyles(c)},y.moveCursor=function(c){var D=this.rows[this.currRow];D.moveCursor(c)},y.setCursor=function(c){this.logger.log(u.INFO,"setCursor: "+c);var D=this.rows[this.currRow];D.setCursor(c)},y.setPAC=function(c){this.logger.log(u.INFO,function(){return"pacData = "+JSON.stringify(c)});var D=c.row-1;if(this.nrRollUpRows&&D<this.nrRollUpRows-1&&(D=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==D){for(var N=0;N<L;N++)this.rows[N].clear();var k=this.currRow+1-this.nrRollUpRows,U=this.lastOutputScreen;if(U){var $=U.rows[k].cueStartTime,K=this.logger.time;if($&&K!==null&&$<K)for(var W=0;W<this.nrRollUpRows;W++)this.rows[D-this.nrRollUpRows+W+1].copy(U.rows[k+W])}}this.currRow=D;var z=this.rows[this.currRow];if(c.indent!==null){var H=c.indent,G=Math.max(H-1,0);z.setCursor(c.indent),c.color=z.chars[G].penState.foreground}var X={foreground:c.color,underline:c.underline,italics:c.italics,background:"black",flash:!1};this.setPen(X)},y.setBkgData=function(c){this.logger.log(u.INFO,function(){return"bkgData = "+JSON.stringify(c)}),this.backSpace(),this.setPen(c),this.insertChar(32)},y.setRollUpRows=function(c){this.nrRollUpRows=c},y.rollUp=function(){var c=this;if(this.nrRollUpRows===null){this.logger.log(u.DEBUG,"roll_up but nrRollUpRows not set yet");return}this.logger.log(u.TEXT,function(){return c.getDisplayText()});var D=this.currRow+1-this.nrRollUpRows,N=this.rows.splice(D,1)[0];N.clear(),this.rows.splice(this.currRow,0,N),this.logger.log(u.INFO,"Rolling up")},y.getDisplayText=function(c){c=c||!1;for(var D=[],N="",k=-1,U=0;U<L;U++){var $=this.rows[U].getTextString();$&&(k=U+1,c?D.push("Row "+k+": '"+$+"'"):D.push($.trim()))}return D.length>0&&(c?N="["+D.join(" | ")+"]":N=D.join(`
`)),N},y.getTextAndFormat=function(){return this.rows},C}(),R=function(){function C(_,c,D){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=_,this.outputFilter=c,this.mode=null,this.verbose=0,this.displayedMemory=new g(D),this.nonDisplayedMemory=new g(D),this.lastOutputScreen=new g(D),this.currRollUpRow=this.displayedMemory.rows[L-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=D}var y=C.prototype;return y.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[L-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},y.getHandler=function(){return this.outputFilter},y.setHandler=function(c){this.outputFilter=c},y.setPAC=function(c){this.writeScreen.setPAC(c)},y.setBkgData=function(c){this.writeScreen.setBkgData(c)},y.setMode=function(c){c!==this.mode&&(this.mode=c,this.logger.log(u.INFO,function(){return"MODE="+c}),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=c)},y.insertChars=function(c){for(var D=this,N=0;N<c.length;N++)this.writeScreen.insertChar(c[N]);var k=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(u.INFO,function(){return k+": "+D.writeScreen.getDisplayText(!0)}),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(u.TEXT,function(){return"DISPLAYED: "+D.displayedMemory.getDisplayText(!0)}),this.outputDataUpdate())},y.ccRCL=function(){this.logger.log(u.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},y.ccBS=function(){this.logger.log(u.INFO,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},y.ccAOF=function(){},y.ccAON=function(){},y.ccDER=function(){this.logger.log(u.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},y.ccRU=function(c){this.logger.log(u.INFO,"RU("+c+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(c)},y.ccFON=function(){this.logger.log(u.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},y.ccRDC=function(){this.logger.log(u.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},y.ccTR=function(){this.logger.log(u.INFO,"TR"),this.setMode("MODE_TEXT")},y.ccRTD=function(){this.logger.log(u.INFO,"RTD"),this.setMode("MODE_TEXT")},y.ccEDM=function(){this.logger.log(u.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},y.ccCR=function(){this.logger.log(u.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},y.ccENM=function(){this.logger.log(u.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},y.ccEOC=function(){var c=this;if(this.logger.log(u.INFO,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var D=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=D,this.writeScreen=this.nonDisplayedMemory,this.logger.log(u.TEXT,function(){return"DISP: "+c.displayedMemory.getDisplayText()})}this.outputDataUpdate(!0)},y.ccTO=function(c){this.logger.log(u.INFO,"TO("+c+") - Tab Offset"),this.writeScreen.moveCursor(c)},y.ccMIDROW=function(c){var D={flash:!1};if(D.underline=c%2===1,D.italics=c>=46,D.italics)D.foreground="white";else{var N=Math.floor(c/2)-16,k=["white","green","blue","cyan","red","yellow","magenta"];D.foreground=k[N]}this.logger.log(u.INFO,"MIDROW: "+JSON.stringify(D)),this.writeScreen.setPen(D)},y.outputDataUpdate=function(c){c===void 0&&(c=!1);var D=this.logger.time;D!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=D:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,D,this.lastOutputScreen),c&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:D),this.lastOutputScreen.copy(this.displayedMemory))},y.cueSplitAtTime=function(c){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,c,this.displayedMemory),this.cueStartTime=c))},C}(),O=function(){function C(_,c,D){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var N=new A;this.channels=[null,new R(_,c,N),new R(_+1,D,N)],this.cmdHistory=F(),this.logger=N}var y=C.prototype;return y.getHandler=function(c){return this.channels[c].getHandler()},y.setHandler=function(c,D){this.channels[c].setHandler(D)},y.addData=function(c,D){var N,k,U,$=!1;this.logger.time=c;for(var K=0;K<D.length;K+=2)if(k=D[K]&127,U=D[K+1]&127,!(k===0&&U===0)){if(this.logger.log(u.DATA,"["+x([D[K],D[K+1]])+"] -> ("+x([k,U])+")"),N=this.parseCmd(k,U),N||(N=this.parseMidrow(k,U)),N||(N=this.parsePAC(k,U)),N||(N=this.parseBackgroundAttributes(k,U)),!N&&($=this.parseChars(k,U),$)){var W=this.currentChannel;if(W&&W>0){var z=this.channels[W];z.insertChars($)}else this.logger.log(u.WARNING,"No channel found yet. TEXT-MODE?")}!N&&!$&&this.logger.log(u.WARNING,"Couldn't parse cleaned data "+x([k,U])+" orig: "+x([D[K],D[K+1]]))}},y.parseCmd=function(c,D){var N=this.cmdHistory,k=(c===20||c===28||c===21||c===29)&&D>=32&&D<=47,U=(c===23||c===31)&&D>=33&&D<=35;if(!(k||U))return!1;if(P(c,D,N))return b(null,null,N),this.logger.log(u.DEBUG,"Repeated command ("+x([c,D])+") is dropped"),!0;var $=c===20||c===21||c===23?1:2,K=this.channels[$];return c===20||c===21||c===28||c===29?D===32?K.ccRCL():D===33?K.ccBS():D===34?K.ccAOF():D===35?K.ccAON():D===36?K.ccDER():D===37?K.ccRU(2):D===38?K.ccRU(3):D===39?K.ccRU(4):D===40?K.ccFON():D===41?K.ccRDC():D===42?K.ccTR():D===43?K.ccRTD():D===44?K.ccEDM():D===45?K.ccCR():D===46?K.ccENM():D===47&&K.ccEOC():K.ccTO(D-32),b(c,D,N),this.currentChannel=$,!0},y.parseMidrow=function(c,D){var N=0;if((c===17||c===25)&&D>=32&&D<=47){if(c===17?N=1:N=2,N!==this.currentChannel)return this.logger.log(u.ERROR,"Mismatch channel in midrow parsing"),!1;var k=this.channels[N];return k?(k.ccMIDROW(D),this.logger.log(u.DEBUG,"MIDROW ("+x([c,D])+")"),!0):!1}return!1},y.parsePAC=function(c,D){var N,k=this.cmdHistory,U=(c>=17&&c<=23||c>=25&&c<=31)&&D>=64&&D<=127,$=(c===16||c===24)&&D>=64&&D<=95;if(!(U||$))return!1;if(P(c,D,k))return b(null,null,k),!0;var K=c<=23?1:2;D>=64&&D<=95?N=K===1?I[c]:w[c]:N=K===1?p[c]:S[c];var W=this.channels[K];return W?(W.setPAC(this.interpretPAC(N,D)),b(c,D,k),this.currentChannel=K,!0):!1},y.interpretPAC=function(c,D){var N,k={color:null,italics:!1,indent:null,underline:!1,row:c};return D>95?N=D-96:N=D-64,k.underline=(N&1)===1,N<=13?k.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(N/2)]:N<=15?(k.italics=!0,k.color="white"):k.indent=Math.floor((N-16)/2)*4,k},y.parseChars=function(c,D){var N,k=null,U=null;if(c>=25?(N=2,U=c-8):(N=1,U=c),U>=17&&U<=19){var $;U===17?$=D+80:U===18?$=D+112:$=D+144,this.logger.log(u.INFO,"Special char '"+M($)+"' in channel "+N),k=[$]}else c>=32&&c<=127&&(k=D===0?[c]:[c,D]);if(k){var K=x(k);this.logger.log(u.DEBUG,"Char codes =  "+K.join(",")),b(c,D,this.cmdHistory)}return k},y.parseBackgroundAttributes=function(c,D){var N=(c===16||c===24)&&D>=32&&D<=47,k=(c===23||c===31)&&D>=45&&D<=47;if(!(N||k))return!1;var U,$={};c===16||c===24?(U=Math.floor((D-32)/2),$.background=E[U],D%2===1&&($.background=$.background+"_semi")):D===45?$.background="transparent":($.foreground="black",D===47&&($.underline=!0));var K=c<=23?1:2,W=this.channels[K];return W.setBkgData($),b(c,D,this.cmdHistory),!0},y.reset=function(){for(var c=0;c<Object.keys(this.channels).length;c++){var D=this.channels[c];D&&D.reset()}this.cmdHistory=F()},y.cueSplitAtTime=function(c){for(var D=0;D<this.channels.length;D++){var N=this.channels[D];N&&N.cueSplitAtTime(c)}},C}();function b(C,y,_){_.a=C,_.b=y}function P(C,y,_){return _.a===C&&_.b===y}function F(){return{a:null,b:null}}const T=O},"./src/utils/codecs.ts":(s,l,a)=>{a.r(l),a.d(l,{isCodecSupportedInMp4:()=>M,isCodecType:()=>d});var v={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function d(L,B){var I=v[B];return!!I&&I[L.slice(0,4)]===!0}function M(L,B){return MediaSource.isTypeSupported((B||"video")+'/mp4;codecs="'+L+'"')}},"./src/utils/cues.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>I});var v=a("./src/utils/vttparser.ts"),d=a("./src/utils/webvtt-parser.ts"),M=a("./src/utils/texttrack-utils.ts"),L=/\s/,B={newCue:function(w,S,E,u){for(var A=[],x,h,f,m,g,R=self.VTTCue||self.TextTrackCue,O=0;O<u.rows.length;O++)if(x=u.rows[O],f=!0,m=0,g="",!x.isEmpty()){for(var b=0;b<x.chars.length;b++)L.test(x.chars[b].uchar)&&f?m++:(g+=x.chars[b].uchar,f=!1);x.cueStartTime=S,S===E&&(E+=1e-4),m>=16?m--:m++;var P=(0,v.fixLineBreaks)(g.trim()),F=(0,d.generateCueId)(S,E,P);(!w||!w.cues||!w.cues.getCueById(F))&&(h=new R(S,E,P),h.id=F,h.line=O+1,h.align="left",h.position=10+Math.min(80,Math.floor(m*8/32)*10),A.push(h))}return w&&A.length&&(A.sort(function(T,C){return T.line==="auto"||C.line==="auto"?0:T.line>8&&C.line>8?C.line-T.line:T.line-C.line}),A.forEach(function(T){return(0,M.addCueToTrack)(w,T)})),A}};const I=B},"./src/utils/discontinuities.ts":(s,l,a)=>{a.r(l),a.d(l,{adjustSlidingStart:()=>w,alignMediaPlaylistByPDT:()=>A,alignPDT:()=>u,alignStream:()=>S,findDiscontinuousReferenceFrag:()=>I,findFirstFragWithCC:()=>L,shouldAlignOnDiscontinuities:()=>B});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/logger.ts"),M=a("./src/controller/level-helper.ts");function L(x,h){for(var f=null,m=0,g=x.length;m<g;m++){var R=x[m];if(R&&R.cc===h){f=R;break}}return f}function B(x,h,f){return!!(h.details&&(f.endCC>f.startCC||x&&x.cc<f.startCC))}function I(x,h,f){var m=x.fragments,g=h.fragments;if(!g.length||!m.length){d.logger.log("No fragments to align");return}var R=L(m,g[0].cc);if(!R||R&&!R.startPTS){d.logger.log("No frag in previous level to align on");return}return R}function p(x,h){if(x){var f=x.start+h;x.start=x.startPTS=f,x.endPTS=f+x.duration}}function w(x,h){for(var f=h.fragments,m=0,g=f.length;m<g;m++)p(f[m],x);h.fragmentHint&&p(h.fragmentHint,x),h.alignedSliding=!0}function S(x,h,f){h&&(E(x,f,h),!f.alignedSliding&&h.details&&u(f,h.details),!f.alignedSliding&&h.details&&!f.skippedSegments&&(0,M.adjustSliding)(h.details,f))}function E(x,h,f){if(B(x,f,h)){var m=I(f.details,h);m&&(0,v.isFiniteNumber)(m.start)&&(d.logger.log("Adjusting PTS using last level due to CC increase within current level "+h.url),w(m.start,h))}}function u(x,h){if(!(!h.fragments.length||!x.hasProgramDateTime||!h.hasProgramDateTime)){var f=h.fragments[0].programDateTime,m=x.fragments[0].programDateTime,g=(m-f)/1e3+h.fragments[0].start;g&&(0,v.isFiniteNumber)(g)&&(d.logger.log("Adjusting PTS using programDateTime delta "+(m-f)+"ms, sliding:"+g.toFixed(3)+" "+x.url+" "),w(g,x))}}function A(x,h){if(!(!x.hasProgramDateTime||!h.hasProgramDateTime)){var f=x.fragments,m=h.fragments;if(!(!f.length||!m.length)){var g=Math.round(m.length/2)-1,R=m[g],O=L(f,R.cc)||f[Math.round(f.length/2)-1],b=R.programDateTime,P=O.programDateTime;if(!(b===null||P===null)){var F=(P-b)/1e3-(O.start-R.start);w(F,x)}}}}},"./src/utils/ewma-bandwidth-estimator.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>M});var v=a("./src/utils/ewma.ts"),d=function(){function L(I,p,w){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=w,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new v.default(I),this.fast_=new v.default(p)}var B=L.prototype;return B.update=function(p,w){var S=this.slow_,E=this.fast_;this.slow_.halfLife!==p&&(this.slow_=new v.default(p,S.getEstimate(),S.getTotalWeight())),this.fast_.halfLife!==w&&(this.fast_=new v.default(w,E.getEstimate(),E.getTotalWeight()))},B.sample=function(p,w){p=Math.max(p,this.minDelayMs_);var S=8*w,E=p/1e3,u=S/E;this.fast_.sample(E,u),this.slow_.sample(E,u)},B.canEstimate=function(){var p=this.fast_;return p&&p.getTotalWeight()>=this.minWeight_},B.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},B.destroy=function(){},L}();const M=d},"./src/utils/ewma.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v=function(){function M(B,I,p){I===void 0&&(I=0),p===void 0&&(p=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=B,this.alpha_=B?Math.exp(Math.log(.5)/B):0,this.estimate_=I,this.totalWeight_=p}var L=M.prototype;return L.sample=function(I,p){var w=Math.pow(this.alpha_,I);this.estimate_=p*(1-w)+w*this.estimate_,this.totalWeight_+=I},L.getTotalWeight=function(){return this.totalWeight_},L.getEstimate=function(){if(this.alpha_){var I=1-Math.pow(this.alpha_,this.totalWeight_);if(I)return this.estimate_/I}return this.estimate_},M}();const d=v},"./src/utils/fetch-loader.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>g,fetchSupported:()=>A});var v=a("./src/polyfills/number.ts"),d=a("./src/loader/load-stats.ts"),M=a("./src/demux/chunk-cache.ts");function L(R,O){R.prototype=Object.create(O.prototype),R.prototype.constructor=R,S(R,O)}function B(R){var O=typeof Map=="function"?new Map:void 0;return B=function(P){if(P===null||!w(P))return P;if(typeof P!="function")throw new TypeError("Super expression must either be null or a function");if(typeof O<"u"){if(O.has(P))return O.get(P);O.set(P,F)}function F(){return I(P,arguments,E(this).constructor)}return F.prototype=Object.create(P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),S(F,P)},B(R)}function I(R,O,b){return p()?I=Reflect.construct.bind():I=function(F,T,C){var y=[null];y.push.apply(y,T);var _=Function.bind.apply(F,y),c=new _;return C&&S(c,C.prototype),c},I.apply(null,arguments)}function p(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w(R){return Function.toString.call(R).indexOf("[native code]")!==-1}function S(R,O){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,F){return P.__proto__=F,P},S(R,O)}function E(R){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},E(R)}function u(){return u=Object.assign?Object.assign.bind():function(R){for(var O=1;O<arguments.length;O++){var b=arguments[O];for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(R[P]=b[P])}return R},u.apply(this,arguments)}function A(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}var x=function(){function R(b){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=b.fetchSetup||f,this.controller=new self.AbortController,this.stats=new d.LoadStats}var O=R.prototype;return O.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},O.abortInternal=function(){var P=this.response;(!P||!P.ok)&&(this.stats.aborted=!0,this.controller.abort())},O.abort=function(){var P;this.abortInternal(),(P=this.callbacks)!==null&&P!==void 0&&P.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},O.load=function(P,F,T){var C=this,y=this.stats;if(y.loading.start)throw new Error("Loader can only be used once.");y.loading.start=self.performance.now();var _=h(P,this.controller.signal),c=T.onProgress,D=P.responseType==="arraybuffer",N=D?"byteLength":"length";this.context=P,this.config=F,this.callbacks=T,this.request=this.fetchSetup(P,_),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(function(){C.abortInternal(),T.onTimeout(y,P,C.response)},F.timeout),self.fetch(this.request).then(function(k){if(C.response=C.loader=k,!k.ok){var U=k.status,$=k.statusText;throw new m($||"fetch, bad network response",U,k)}return y.loading.first=Math.max(self.performance.now(),y.loading.start),y.total=parseInt(k.headers.get("Content-Length")||"0"),c&&(0,v.isFiniteNumber)(F.highWaterMark)?C.loadProgressively(k,y,P,F.highWaterMark,c):D?k.arrayBuffer():k.text()}).then(function(k){var U=C.response;self.clearTimeout(C.requestTimeout),y.loading.end=Math.max(self.performance.now(),y.loading.first);var $=k[N];$&&(y.loaded=y.total=$);var K={url:U.url,data:k};c&&!(0,v.isFiniteNumber)(F.highWaterMark)&&c(y,P,k,U),T.onSuccess(K,y,P,U)}).catch(function(k){if(self.clearTimeout(C.requestTimeout),!y.aborted){var U=k&&k.code||0,$=k?k.message:null;T.onError({code:U,text:$},P,k?k.details:null)}})},O.getCacheAge=function(){var P=null;if(this.response){var F=this.response.headers.get("age");P=F?parseFloat(F):null}return P},O.loadProgressively=function(P,F,T,C,y){C===void 0&&(C=0);var _=new M.default,c=P.body.getReader(),D=function N(){return c.read().then(function(k){if(k.done)return _.dataLength&&y(F,T,_.flush(),P),Promise.resolve(new ArrayBuffer(0));var U=k.value,$=U.length;return F.loaded+=$,$<C||_.dataLength?(_.push(U),_.dataLength>=C&&y(F,T,_.flush(),P)):y(F,T,U,P),N()}).catch(function(){return Promise.reject()})};return D()},R}();function h(R,O){var b={method:"GET",mode:"cors",credentials:"same-origin",signal:O,headers:new self.Headers(u({},R.headers))};return R.rangeEnd&&b.headers.set("Range","bytes="+R.rangeStart+"-"+String(R.rangeEnd-1)),b}function f(R,O){return new self.Request(R.url,O)}var m=function(R){L(O,R);function O(b,P,F){var T;return T=R.call(this,b)||this,T.code=void 0,T.details=void 0,T.code=P,T.details=F,T}return O}(B(Error));const g=x},"./src/utils/hex.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v={hexDump:function(L){for(var B="",I=0;I<L.length;I++){var p=L[I].toString(16);p.length<2&&(p="0"+p),B+=p}return B}};const d=v},"./src/utils/imsc1-ttml-parser.ts":(s,l,a)=>{a.r(l),a.d(l,{IMSC1_CODEC:()=>w,parseIMSC1:()=>A});var v=a("./src/utils/mp4-tools.ts"),d=a("./src/utils/vttparser.ts"),M=a("./src/utils/vttcue.ts"),L=a("./src/demux/id3.ts"),B=a("./src/utils/timescale-conversion.ts"),I=a("./src/utils/webvtt-parser.ts");function p(){return p=Object.assign?Object.assign.bind():function(T){for(var C=1;C<arguments.length;C++){var y=arguments[C];for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(T[_]=y[_])}return T},p.apply(this,arguments)}var w="stpp.ttml.im1t",S=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,E=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,u={left:"start",center:"center",right:"end",start:"start",end:"end"};function A(T,C,y,_,c){var D=(0,v.findBox)(new Uint8Array(T),["mdat"]);if(D.length===0){c(new Error("Could not parse IMSC1 mdat"));return}var N=D.map(function(U){return(0,L.utf8ArrayToStr)(U)}),k=(0,B.toTimescaleFromScale)(C,1,y);try{N.forEach(function(U){return _(x(U,k))})}catch(U){c(U)}}function x(T,C){var y=new DOMParser,_=y.parseFromString(T,"text/xml"),c=_.getElementsByTagName("tt")[0];if(!c)throw new Error("Invalid ttml");var D={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},N=Object.keys(D).reduce(function(W,z){return W[z]=c.getAttribute("ttp:"+z)||D[z],W},{}),k=c.getAttribute("xml:space")!=="preserve",U=f(h(c,"styling","style")),$=f(h(c,"layout","region")),K=h(c,"body","[begin]");return[].map.call(K,function(W){var z=m(W,k);if(!z||!W.hasAttribute("begin"))return null;var H=b(W.getAttribute("begin"),N),G=b(W.getAttribute("dur"),N),X=b(W.getAttribute("end"),N);if(H===null)throw O(W);if(X===null){if(G===null)throw O(W);X=H+G}var Y=new M.default(H-C,X-C,z);Y.id=(0,I.generateCueId)(Y.startTime,Y.endTime,Y.text);var Z=$[W.getAttribute("region")],q=U[W.getAttribute("style")],ne=g(Z,q,U),te=ne.textAlign;if(te){var ie=u[te];ie&&(Y.lineAlign=ie),Y.align=te}return p(Y,ne),Y}).filter(function(W){return W!==null})}function h(T,C,y){var _=T.getElementsByTagName(C)[0];return _?[].slice.call(_.querySelectorAll(y)):[]}function f(T){return T.reduce(function(C,y){var _=y.getAttribute("xml:id");return _&&(C[_]=y),C},{})}function m(T,C){return[].slice.call(T.childNodes).reduce(function(y,_,c){var D;return _.nodeName==="br"&&c?y+`
`:(D=_.childNodes)!==null&&D!==void 0&&D.length?m(_,C):C?y+_.textContent.trim().replace(/\s+/g," "):y+_.textContent},"")}function g(T,C,y){var _="http://www.w3.org/ns/ttml#styling",c=null,D=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],N=T!=null&&T.hasAttribute("style")?T.getAttribute("style"):null;return N&&y.hasOwnProperty(N)&&(c=y[N]),D.reduce(function(k,U){var $=R(C,_,U)||R(T,_,U)||R(c,_,U);return $&&(k[U]=$),k},{})}function R(T,C,y){return T&&T.hasAttributeNS(C,y)?T.getAttributeNS(C,y):null}function O(T){return new Error("Could not parse ttml timestamp "+T)}function b(T,C){if(!T)return null;var y=(0,d.parseTimeStamp)(T);return y===null&&(S.test(T)?y=P(T,C):E.test(T)&&(y=F(T,C))),y}function P(T,C){var y=S.exec(T),_=(y[4]|0)+(y[5]|0)/C.subFrameRate;return(y[1]|0)*3600+(y[2]|0)*60+(y[3]|0)+_/C.frameRate}function F(T,C){var y=E.exec(T),_=Number(y[1]),c=y[2];switch(c){case"h":return _*3600;case"m":return _*60;case"ms":return _*1e3;case"f":return _/C.frameRate;case"t":return _/C.tickRate}return _}},"./src/utils/keysystem-util.ts":(s,l,a)=>{a.r(l),a.d(l,{changeEndianness:()=>M,convertDataUriToArrayBytes:()=>L,strToUtf8array:()=>B});var v=a("./src/utils/numeric-encoding-utils.ts");function d(I){var p=B(I).subarray(0,16),w=new Uint8Array(16);return w.set(p,16-p.length),w}function M(I){var p=function(S,E,u){var A=S[E];S[E]=S[u],S[u]=A};p(I,0,3),p(I,1,2),p(I,4,5),p(I,6,7)}function L(I){var p=I.split(":"),w=null;if(p[0]==="data"&&p.length===2){var S=p[1].split(";"),E=S[S.length-1].split(",");if(E.length===2){var u=E[0]==="base64",A=E[1];u?(S.splice(-1,1),w=(0,v.base64Decode)(A)):w=d(A)}}return w}function B(I){return Uint8Array.from(unescape(encodeURIComponent(I)),function(p){return p.charCodeAt(0)})}},"./src/utils/logger.ts":(s,l,a)=>{a.r(l),a.d(l,{enableLogs:()=>I,logger:()=>p});var v=function(){},d={trace:v,debug:v,log:v,warn:v,info:v,error:v},M=d;function L(w){var S=self.console[w];return S?S.bind(self.console,"["+w+"] >"):v}function B(w){for(var S=arguments.length,E=new Array(S>1?S-1:0),u=1;u<S;u++)E[u-1]=arguments[u];E.forEach(function(A){M[A]=w[A]?w[A].bind(w):L(A)})}function I(w,S){if(self.console&&w===!0||typeof w=="object"){B(w,"debug","log","info","warn","error");try{M.log('Debug logs enabled for "'+S+'"')}catch{M=d}}else M=d}var p=M},"./src/utils/mediakeys-helper.ts":(s,l,a)=>{a.r(l),a.d(l,{KeySystemFormats:()=>d,KeySystemIds:()=>L,KeySystems:()=>v,getKeySystemsForConfig:()=>p,getSupportedMediaKeySystemConfigurations:()=>S,keySystemDomainToKeySystemFormat:()=>I,keySystemFormatToKeySystemDomain:()=>M,keySystemIdToKeySystemDomain:()=>B,requestMediaKeySystemAccess:()=>w});var v;(function(u){u.CLEARKEY="org.w3.clearkey",u.FAIRPLAY="com.apple.fps",u.PLAYREADY="com.microsoft.playready",u.WIDEVINE="com.widevine.alpha"})(v||(v={}));var d;(function(u){u.CLEARKEY="org.w3.clearkey",u.FAIRPLAY="com.apple.streamingkeydelivery",u.PLAYREADY="com.microsoft.playready",u.WIDEVINE="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"})(d||(d={}));function M(u){switch(u){case d.FAIRPLAY:return v.FAIRPLAY;case d.PLAYREADY:return v.PLAYREADY;case d.WIDEVINE:return v.WIDEVINE;case d.CLEARKEY:return v.CLEARKEY}}var L;(function(u){u.WIDEVINE="edef8ba979d64acea3c827dcd51d21ed"})(L||(L={}));function B(u){if(u===L.WIDEVINE)return v.WIDEVINE}function I(u){switch(u){case v.FAIRPLAY:return d.FAIRPLAY;case v.PLAYREADY:return d.PLAYREADY;case v.WIDEVINE:return d.WIDEVINE;case v.CLEARKEY:return d.CLEARKEY}}function p(u){var A=u.drmSystems,x=u.widevineLicenseUrl,h=A?[v.FAIRPLAY,v.WIDEVINE,v.PLAYREADY,v.CLEARKEY].filter(function(f){return!!A[f]}):[];return!h[v.WIDEVINE]&&x&&h.push(v.WIDEVINE),h}var w=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function S(u,A,x,h){var f;switch(u){case v.FAIRPLAY:f=["cenc","sinf"];break;case v.WIDEVINE:case v.PLAYREADY:f=["cenc"];break;case v.CLEARKEY:f=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+u)}return E(f,A,x,h)}function E(u,A,x,h){var f={initDataTypes:u,persistentState:h.persistentState||"not-allowed",distinctiveIdentifier:h.distinctiveIdentifier||"not-allowed",sessionTypes:h.sessionTypes||[h.sessionType||"temporary"],audioCapabilities:A.map(function(m){return{contentType:'audio/mp4; codecs="'+m+'"',robustness:h.audioRobustness||"",encryptionScheme:h.audioEncryptionScheme||null}}),videoCapabilities:x.map(function(m){return{contentType:'video/mp4; codecs="'+m+'"',robustness:h.videoRobustness||"",encryptionScheme:h.videoEncryptionScheme||null}})};return[f]}},"./src/utils/mediasource-helper.ts":(s,l,a)=>{a.r(l),a.d(l,{getMediaSource:()=>v});function v(){return self.MediaSource||self.WebKitMediaSource}},"./src/utils/mp4-tools.ts":(s,l,a)=>{a.r(l),a.d(l,{RemuxerTrackIdConfig:()=>w,appendUint8Array:()=>C,bin2str:()=>S,computeRawDurationFromSamples:()=>P,discardEPB:()=>N,findBox:()=>h,getDuration:()=>b,getStartDTS:()=>O,mp4Box:()=>U,mp4pssh:()=>$,offsetStartDTS:()=>F,parseEmsg:()=>k,parseInitSegment:()=>m,parsePssh:()=>K,parseSEIMessageFromNALu:()=>D,parseSamples:()=>y,parseSegmentIndex:()=>f,parseSinf:()=>R,patchEncyptionData:()=>g,readSint32:()=>A,readUint16:()=>E,readUint32:()=>u,segmentValidRange:()=>T,writeUint32:()=>x});var v=a("./src/loader/fragment.ts"),d=a("./src/utils/typed-array.ts"),M=a("./src/demux/id3.ts"),L=a("./src/utils/logger.ts"),B=a("./src/utils/hex.ts"),I=Math.pow(2,32)-1,p=[].push,w={video:1,audio:2,id3:3,text:4};function S(W){return String.fromCharCode.apply(null,W)}function E(W,z){var H=W[z]<<8|W[z+1];return H<0?65536+H:H}function u(W,z){var H=A(W,z);return H<0?4294967296+H:H}function A(W,z){return W[z]<<24|W[z+1]<<16|W[z+2]<<8|W[z+3]}function x(W,z,H){W[z]=H>>24,W[z+1]=H>>16&255,W[z+2]=H>>8&255,W[z+3]=H&255}function h(W,z){var H=[];if(!z.length)return H;for(var G=W.byteLength,X=0;X<G;){var Y=u(W,X),Z=S(W.subarray(X+4,X+8)),q=Y>1?X+Y:G;if(Z===z[0])if(z.length===1)H.push(W.subarray(X+8,q));else{var ne=h(W.subarray(X+8,q),z.slice(1));ne.length&&p.apply(H,ne)}X=q}return H}function f(W){var z=[],H=W[0],G=8,X=u(W,G);G+=4;var Y=0,Z=0;H===0?G+=8:G+=16,G+=2;var q=W.length+Z,ne=E(W,G);G+=2;for(var te=0;te<ne;te++){var ie=G,ae=u(W,ie);ie+=4;var ge=ae&2147483647,de=(ae&2147483648)>>>31;if(de===1)return console.warn("SIDX has hierarchical references (not supported)"),null;var oe=u(W,ie);ie+=4,z.push({referenceSize:ge,subsegmentDuration:oe,info:{duration:oe/X,start:q,end:q+ge-1}}),q+=ge,ie+=4,G=ie}return{earliestPresentationTime:Y,timescale:X,version:H,referencesCount:ne,references:z}}function m(W){for(var z=[],H=h(W,["moov","trak"]),G=0;G<H.length;G++){var X=H[G],Y=h(X,["tkhd"])[0];if(Y){var Z=Y[0],q=Z===0?12:20,ne=u(Y,q),te=h(X,["mdia","mdhd"])[0];if(te){Z=te[0],q=Z===0?12:20;var ie=u(te,q),ae=h(X,["mdia","hdlr"])[0];if(ae){var ge=S(ae.subarray(8,12)),de={soun:v.ElementaryStreamTypes.AUDIO,vide:v.ElementaryStreamTypes.VIDEO}[ge];if(de){var oe=h(X,["mdia","minf","stbl","stsd"])[0],he=void 0;oe&&(he=S(oe.subarray(12,16))),z[ne]={timescale:ie,type:de},z[de]={timescale:ie,id:ne,codec:he}}}}}}var Pe=h(W,["moov","mvex","trex"]);return Pe.forEach(function(Ae){var ce=u(Ae,4),fe=z[ce];fe&&(fe.default={duration:u(Ae,12),flags:u(Ae,20)})}),z}function g(W,z){if(!W||!z)return W;var H=z.keyId;if(H&&z.isCommonEncryption){var G=h(W,["moov","trak"]);G.forEach(function(X){var Y=h(X,["mdia","minf","stbl","stsd"])[0],Z=Y.subarray(8),q=h(Z,["enca"]),ne=q.length>0;ne||(q=h(Z,["encv"])),q.forEach(function(te){var ie=ne?te.subarray(28):te.subarray(78),ae=h(ie,["sinf"]);ae.forEach(function(ge){var de=R(ge);if(de){var oe=de.subarray(8,24);oe.some(function(he){return he!==0})||(L.logger.log("[eme] Patching keyId in 'enc"+(ne?"a":"v")+">sinf>>tenc' box: "+B.default.hexDump(oe)+" -> "+B.default.hexDump(H)),de.set(H,8))}})})})}return W}function R(W){var z=h(W,["schm"])[0];if(z){var H=S(z.subarray(4,8));if(H==="cbcs"||H==="cenc")return h(W,["schi","tenc"])[0]}return L.logger.error("[eme] missing 'schm' box"),null}function O(W,z){return h(z,["moof","traf"]).reduce(function(H,G){var X=h(G,["tfdt"])[0],Y=X[0],Z=h(G,["tfhd"]).reduce(function(q,ne){var te=u(ne,4),ie=W[te];if(ie){var ae=u(X,4);Y===1&&(ae*=Math.pow(2,32),ae+=u(X,8));var ge=ie.timescale||9e4,de=ae/ge;if(isFinite(de)&&(q===null||de<q))return de}return q},null);return Z!==null&&isFinite(Z)&&(H===null||Z<H)?Z:H},null)||0}function b(W,z){for(var H=0,G=0,X=0,Y=h(W,["moof","traf"]),Z=0;Z<Y.length;Z++){var q=Y[Z],ne=h(q,["tfhd"])[0],te=u(ne,4),ie=z[te];if(ie){var ae=ie.default,ge=u(ne,0)|(ae==null?void 0:ae.flags),de=ae==null?void 0:ae.duration;ge&8&&(ge&2?de=u(ne,12):de=u(ne,8));for(var oe=ie.timescale||9e4,he=h(q,["trun"]),Pe=0;Pe<he.length;Pe++){if(H=P(he[Pe]),!H&&de){var Ae=u(he[Pe],4);H=de*Ae}ie.type===v.ElementaryStreamTypes.VIDEO?G+=H/oe:ie.type===v.ElementaryStreamTypes.AUDIO&&(X+=H/oe)}}}if(G===0&&X===0){for(var ce=0,fe=h(W,["sidx"]),Te=0;Te<fe.length;Te++){var xe=f(fe[Te]);xe!=null&&xe.references&&(ce+=xe.references.reduce(function(ee,J){return ee+J.info.duration||0},0))}return ce}return G||X}function P(W){var z=u(W,0),H=8;z&1&&(H+=4),z&4&&(H+=4);for(var G=0,X=u(W,4),Y=0;Y<X;Y++){if(z&256){var Z=u(W,H);G+=Z,H+=4}z&512&&(H+=4),z&1024&&(H+=4),z&2048&&(H+=4)}return G}function F(W,z,H){h(z,["moof","traf"]).forEach(function(G){h(G,["tfhd"]).forEach(function(X){var Y=u(X,4),Z=W[Y];if(Z){var q=Z.timescale||9e4;h(G,["tfdt"]).forEach(function(ne){var te=ne[0],ie=u(ne,4);if(te===0)ie-=H*q,ie=Math.max(ie,0),x(ne,4,ie);else{ie*=Math.pow(2,32),ie+=u(ne,8),ie-=H*q,ie=Math.max(ie,0);var ae=Math.floor(ie/(I+1)),ge=Math.floor(ie%(I+1));x(ne,4,ae),x(ne,8,ge)}})}})})}function T(W){var z={valid:null,remainder:null},H=h(W,["moof"]);if(H){if(H.length<2)return z.remainder=W,z}else return z;var G=H[H.length-1];return z.valid=(0,d.sliceUint8)(W,0,G.byteOffset-8),z.remainder=(0,d.sliceUint8)(W,G.byteOffset-8),z}function C(W,z){var H=new Uint8Array(W.length+z.length);return H.set(W),H.set(z,W.length),H}function y(W,z){var H=[],G=z.samples,X=z.timescale,Y=z.id,Z=!1,q=h(G,["moof"]);return q.map(function(ne){var te=ne.byteOffset-8,ie=h(ne,["traf"]);ie.map(function(ae){var ge=h(ae,["tfdt"]).map(function(de){var oe=de[0],he=u(de,4);return oe===1&&(he*=Math.pow(2,32),he+=u(de,8)),he/X})[0];return ge!==void 0&&(W=ge),h(ae,["tfhd"]).map(function(de){var oe=u(de,4),he=u(de,0)&16777215,Pe=(he&1)!==0,Ae=(he&2)!==0,ce=(he&8)!==0,fe=0,Te=(he&16)!==0,xe=0,ee=(he&32)!==0,J=8;oe===Y&&(Pe&&(J+=8),Ae&&(J+=4),ce&&(fe=u(de,J),J+=4),Te&&(xe=u(de,J),J+=4),ee&&(J+=4),z.type==="video"&&(Z=_(z.codec)),h(ae,["trun"]).map(function(re){var le=re[0],se=u(re,0)&16777215,Ee=(se&1)!==0,Ce=0,_e=(se&4)!==0,Re=(se&256)!==0,Ke=0,we=(se&512)!==0,We=0,ke=(se&1024)!==0,$e=(se&2048)!==0,Ye=0,ht=u(re,4),Ve=8;Ee&&(Ce=u(re,Ve),Ve+=4),_e&&(Ve+=4);for(var _t=Ce+te,it=0;it<ht;it++){if(Re?(Ke=u(re,Ve),Ve+=4):Ke=fe,we?(We=u(re,Ve),Ve+=4):We=xe,ke&&(Ve+=4),$e&&(le===0?Ye=u(re,Ve):Ye=A(re,Ve),Ve+=4),z.type===v.ElementaryStreamTypes.VIDEO)for(var tr=0;tr<We;){var Qe=u(G,_t);if(_t+=4,c(Z,G[_t])){var Tt=G.subarray(_t,_t+Qe);D(Tt,Z?2:1,W+Ye/X,H)}_t+=Qe,tr+=Qe+4}W+=Ke/X}}))})})}),H}function _(W){if(!W)return!1;var z=W.indexOf("."),H=z<0?W:W.substring(0,z);return H==="hvc1"||H==="hev1"||H==="dvh1"||H==="dvhe"}function c(W,z){if(W){var H=z>>1&63;return H===39||H===40}else{var G=z&31;return G===6}}function D(W,z,H,G){var X=N(W),Y=0;Y+=z;for(var Z=0,q=0,ne=!1,te=0;Y<X.length;){Z=0;do{if(Y>=X.length)break;te=X[Y++],Z+=te}while(te===255);q=0;do{if(Y>=X.length)break;te=X[Y++],q+=te}while(te===255);var ie=X.length-Y;if(!ne&&Z===4&&Y<X.length){ne=!0;var ae=X[Y++];if(ae===181){var ge=E(X,Y);if(Y+=2,ge===49){var de=u(X,Y);if(Y+=4,de===1195456820){var oe=X[Y++];if(oe===3){var he=X[Y++],Pe=31&he,Ae=64&he,ce=Ae?2+Pe*3:0,fe=new Uint8Array(ce);if(Ae){fe[0]=he;for(var Te=1;Te<ce;Te++)fe[Te]=X[Y++]}G.push({type:oe,payloadType:Z,pts:H,bytes:fe})}}}}}else if(Z===5&&q<ie){if(ne=!0,q>16){for(var xe=[],ee=0;ee<16;ee++){var J=X[Y++].toString(16);xe.push(J.length==1?"0"+J:J),(ee===3||ee===5||ee===7||ee===9)&&xe.push("-")}for(var re=q-16,le=new Uint8Array(re),se=0;se<re;se++)le[se]=X[Y++];G.push({payloadType:Z,pts:H,uuid:xe.join(""),userData:(0,M.utf8ArrayToStr)(le),userDataBytes:le})}}else if(q<ie)Y+=q;else if(q>ie)break}}function N(W){for(var z=W.byteLength,H=[],G=1;G<z-2;)W[G]===0&&W[G+1]===0&&W[G+2]===3?(H.push(G+2),G+=2):G++;if(H.length===0)return W;var X=z-H.length,Y=new Uint8Array(X),Z=0;for(G=0;G<X;Z++,G++)Z===H[0]&&(Z++,H.shift()),Y[G]=W[Z];return Y}function k(W){var z=W[0],H="",G="",X=0,Y=0,Z=0,q=0,ne=0,te=0;if(z===0){for(;S(W.subarray(te,te+1))!=="\0";)H+=S(W.subarray(te,te+1)),te+=1;for(H+=S(W.subarray(te,te+1)),te+=1;S(W.subarray(te,te+1))!=="\0";)G+=S(W.subarray(te,te+1)),te+=1;G+=S(W.subarray(te,te+1)),te+=1,X=u(W,12),Y=u(W,16),q=u(W,20),ne=u(W,24),te=28}else if(z===1){te+=4,X=u(W,te),te+=4;var ie=u(W,te);te+=4;var ae=u(W,te);for(te+=4,Z=Math.pow(2,32)*ie+ae,Number.isSafeInteger(Z)||(Z=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),q=u(W,te),te+=4,ne=u(W,te),te+=4;S(W.subarray(te,te+1))!=="\0";)H+=S(W.subarray(te,te+1)),te+=1;for(H+=S(W.subarray(te,te+1)),te+=1;S(W.subarray(te,te+1))!=="\0";)G+=S(W.subarray(te,te+1)),te+=1;G+=S(W.subarray(te,te+1)),te+=1}var ge=W.subarray(te,W.byteLength);return{schemeIdUri:H,value:G,timeScale:X,presentationTime:Z,presentationTimeDelta:Y,eventDuration:q,id:ne,payload:ge}}function U(W){for(var z=arguments.length,H=new Array(z>1?z-1:0),G=1;G<z;G++)H[G-1]=arguments[G];for(var X=H.length,Y=8,Z=X;Z--;)Y+=H[Z].byteLength;var q=new Uint8Array(Y);for(q[0]=Y>>24&255,q[1]=Y>>16&255,q[2]=Y>>8&255,q[3]=Y&255,q.set(W,4),Z=0,Y=8;Z<X;Z++)q.set(H[Z],Y),Y+=H[Z].byteLength;return q}function $(W,z,H){if(W.byteLength!==16)throw new RangeError("Invalid system id");var G,X;if(z){G=1,X=new Uint8Array(z.length*16);for(var Y=0;Y<z.length;Y++){var Z=z[Y];if(Z.byteLength!==16)throw new RangeError("Invalid key");X.set(Z,Y*16)}}else G=0,X=new Uint8Array;var q;G>0?(q=new Uint8Array(4),z.length>0&&new DataView(q.buffer).setUint32(0,z.length,!1)):q=new Uint8Array;var ne=new Uint8Array(4);return H&&H.byteLength>0&&new DataView(ne.buffer).setUint32(0,H.byteLength,!1),U([112,115,115,104],new Uint8Array([G,0,0,0]),W,q,X,ne,H||new Uint8Array)}function K(W){if(!(W instanceof ArrayBuffer)||W.byteLength<32)return null;var z={version:0,systemId:"",kids:null,data:null},H=new DataView(W),G=H.getUint32(0);if(W.byteLength!==G&&G>44)return null;var X=H.getUint32(4);if(X!==1886614376||(z.version=H.getUint32(8)>>>24,z.version>1))return null;z.systemId=B.default.hexDump(new Uint8Array(W,12,16));var Y=H.getUint32(28);if(z.version===0){if(G-32<Y)return null;z.data=new Uint8Array(W,32,Y)}else if(z.version===1){z.kids=[];for(var Z=0;Z<Y;Z++)z.kids.push(new Uint8Array(W,32+Z*16,16))}return z}},"./src/utils/numeric-encoding-utils.ts":(s,l,a)=>{a.r(l),a.d(l,{base64Decode:()=>I,base64DecodeToStr:()=>M,base64Encode:()=>L,base64ToBase64Url:()=>v,base64UrlEncode:()=>B,strToBase64Encode:()=>d});function v(p){return p.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function d(p){return btoa(p)}function M(p){return atob(p)}function L(p){return btoa(String.fromCharCode.apply(String,p))}function B(p){return v(L(p))}function I(p){return Uint8Array.from(atob(p),function(w){return w.charCodeAt(0)})}},"./src/utils/output-filter.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});var v=function(){function d(L,B){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=L,this.trackName=B}var M=d.prototype;return M.dispatchCue=function(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},M.newCue=function(B,I,p){(this.startTime===null||this.startTime>B)&&(this.startTime=B),this.endTime=I,this.screen=p,this.timelineController.createCaptionsTrack(this.trackName)},M.reset=function(){this.cueRanges=[],this.startTime=null},d}()},"./src/utils/texttrack-utils.ts":(s,l,a)=>{a.r(l),a.d(l,{addCueToTrack:()=>M,clearCurrentCues:()=>L,getCuesInRange:()=>p,removeCuesInRange:()=>B,sendAddTrackEvent:()=>d});var v=a("./src/utils/logger.ts");function d(w,S){var E;try{E=new Event("addtrack")}catch{E=document.createEvent("Event"),E.initEvent("addtrack",!1,!1)}E.track=w,S.dispatchEvent(E)}function M(w,S){var E=w.mode;if(E==="disabled"&&(w.mode="hidden"),w.cues&&!w.cues.getCueById(S.id))try{if(w.addCue(S),!w.cues.getCueById(S.id))throw new Error("addCue is failed for: "+S)}catch(A){v.logger.debug("[texttrack-utils]: "+A);var u=new self.TextTrackCue(S.startTime,S.endTime,S.text);u.id=S.id,w.addCue(u)}E==="disabled"&&(w.mode=E)}function L(w){var S=w.mode;if(S==="disabled"&&(w.mode="hidden"),w.cues)for(var E=w.cues.length;E--;)w.removeCue(w.cues[E]);S==="disabled"&&(w.mode=S)}function B(w,S,E,u){var A=w.mode;if(A==="disabled"&&(w.mode="hidden"),w.cues&&w.cues.length>0)for(var x=p(w.cues,S,E),h=0;h<x.length;h++)(!u||u(x[h]))&&w.removeCue(x[h]);A==="disabled"&&(w.mode=A)}function I(w,S){if(S<w[0].startTime)return 0;var E=w.length-1;if(S>w[E].endTime)return-1;for(var u=0,A=E;u<=A;){var x=Math.floor((A+u)/2);if(S<w[x].startTime)A=x-1;else if(S>w[x].startTime&&u<E)u=x+1;else return x}return w[u].startTime-S<S-w[A].startTime?u:A}function p(w,S,E){var u=[],A=I(w,S);if(A>-1)for(var x=A,h=w.length;x<h;x++){var f=w[x];if(f.startTime>=S&&f.endTime<=E)u.push(f);else if(f.startTime>E)return u}return u}},"./src/utils/time-ranges.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var v={toString:function(L){for(var B="",I=L.length,p=0;p<I;p++)B+="["+L.start(p).toFixed(3)+"-"+L.end(p).toFixed(3)+"]";return B}};const d=v},"./src/utils/timescale-conversion.ts":(s,l,a)=>{a.r(l),a.d(l,{toMpegTsClockFromTimescale:()=>B,toMsFromMpegTsClock:()=>L,toTimescaleFromBase:()=>d,toTimescaleFromScale:()=>M});var v=9e4;function d(I,p,w,S){w===void 0&&(w=1),S===void 0&&(S=!1);var E=I*p*w;return S?Math.round(E):E}function M(I,p,w,S){return w===void 0&&(w=1),S===void 0&&(S=!1),d(I,p,1/w,S)}function L(I,p){return p===void 0&&(p=!1),d(I,1e3,1/v,p)}function B(I,p){return p===void 0&&(p=1),d(I,v,1/p)}},"./src/utils/typed-array.ts":(s,l,a)=>{a.r(l),a.d(l,{sliceUint8:()=>v});function v(d,M,L){return Uint8Array.prototype.slice?d.slice(M,L):new Uint8Array(Array.prototype.slice.call(d,M,L))}},"./src/utils/vttcue.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>v});const v=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;var d=["","lr","rl"],M=["start","middle","end","left","right"];function L(S,E){if(typeof E!="string"||!Array.isArray(S))return!1;var u=E.toLowerCase();return~S.indexOf(u)?u:!1}function B(S){return L(d,S)}function I(S){return L(M,S)}function p(S){for(var E=arguments.length,u=new Array(E>1?E-1:0),A=1;A<E;A++)u[A-1]=arguments[A];for(var x=1;x<arguments.length;x++){var h=arguments[x];for(var f in h)S[f]=h[f]}return S}function w(S,E,u){var A=this,x={enumerable:!0};A.hasBeenReset=!1;var h="",f=!1,m=S,g=E,R=u,O=null,b="",P=!0,F="auto",T="start",C=50,y="middle",_=50,c="middle";Object.defineProperty(A,"id",p({},x,{get:function(){return h},set:function(N){h=""+N}})),Object.defineProperty(A,"pauseOnExit",p({},x,{get:function(){return f},set:function(N){f=!!N}})),Object.defineProperty(A,"startTime",p({},x,{get:function(){return m},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");m=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"endTime",p({},x,{get:function(){return g},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");g=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"text",p({},x,{get:function(){return R},set:function(N){R=""+N,this.hasBeenReset=!0}})),Object.defineProperty(A,"region",p({},x,{get:function(){return O},set:function(N){O=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"vertical",p({},x,{get:function(){return b},set:function(N){var k=B(N);if(k===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=k,this.hasBeenReset=!0}})),Object.defineProperty(A,"snapToLines",p({},x,{get:function(){return P},set:function(N){P=!!N,this.hasBeenReset=!0}})),Object.defineProperty(A,"line",p({},x,{get:function(){return F},set:function(N){if(typeof N!="number"&&N!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");F=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"lineAlign",p({},x,{get:function(){return T},set:function(N){var k=I(N);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");T=k,this.hasBeenReset=!0}})),Object.defineProperty(A,"position",p({},x,{get:function(){return C},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");C=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"positionAlign",p({},x,{get:function(){return y},set:function(N){var k=I(N);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");y=k,this.hasBeenReset=!0}})),Object.defineProperty(A,"size",p({},x,{get:function(){return _},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");_=N,this.hasBeenReset=!0}})),Object.defineProperty(A,"align",p({},x,{get:function(){return c},set:function(N){var k=I(N);if(!k)throw new SyntaxError("An invalid or illegal string was specified.");c=k,this.hasBeenReset=!0}})),A.displayState=void 0}return w.prototype.getCueAsHTML=function(){var S=self.WebVTT;return S.convertCueToDOMTree(self,this.text)},w}()},"./src/utils/vttparser.ts":(s,l,a)=>{a.r(l),a.d(l,{VTTParser:()=>E,fixLineBreaks:()=>S,parseTimeStamp:()=>M});var v=a("./src/utils/vttcue.ts"),d=function(){function u(){}var A=u.prototype;return A.decode=function(h,f){if(!h)return"";if(typeof h!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(h))},u}();function M(u){function A(h,f,m,g){return(h|0)*3600+(f|0)*60+(m|0)+parseFloat(g||0)}var x=u.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return x?parseFloat(x[2])>59?A(x[2],x[3],0,x[4]):A(x[1],x[2],x[3],x[4]):null}var L=function(){function u(){this.values=Object.create(null)}var A=u.prototype;return A.set=function(h,f){!this.get(h)&&f!==""&&(this.values[h]=f)},A.get=function(h,f,m){return m?this.has(h)?this.values[h]:f[m]:this.has(h)?this.values[h]:f},A.has=function(h){return h in this.values},A.alt=function(h,f,m){for(var g=0;g<m.length;++g)if(f===m[g]){this.set(h,f);break}},A.integer=function(h,f){/^-?\d+$/.test(f)&&this.set(h,parseInt(f,10))},A.percent=function(h,f){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(f)){var m=parseFloat(f);if(m>=0&&m<=100)return this.set(h,m),!0}return!1},u}();function B(u,A,x,h){var f=h?u.split(h):[u];for(var m in f)if(typeof f[m]=="string"){var g=f[m].split(x);if(g.length===2){var R=g[0],O=g[1];A(R,O)}}}var I=new v.default(0,0,""),p=I.align==="middle"?"middle":"center";function w(u,A,x){var h=u;function f(){var R=M(u);if(R===null)throw new Error("Malformed timestamp: "+h);return u=u.replace(/^[^\sa-zA-Z-]+/,""),R}function m(R,O){var b=new L;B(R,function(T,C){var y;switch(T){case"region":for(var _=x.length-1;_>=0;_--)if(x[_].id===C){b.set(T,x[_].region);break}break;case"vertical":b.alt(T,C,["rl","lr"]);break;case"line":y=C.split(","),b.integer(T,y[0]),b.percent(T,y[0])&&b.set("snapToLines",!1),b.alt(T,y[0],["auto"]),y.length===2&&b.alt("lineAlign",y[1],["start",p,"end"]);break;case"position":y=C.split(","),b.percent(T,y[0]),y.length===2&&b.alt("positionAlign",y[1],["start",p,"end","line-left","line-right","auto"]);break;case"size":b.percent(T,C);break;case"align":b.alt(T,C,["start",p,"end","left","right"]);break}},/:/,/\s/),O.region=b.get("region",null),O.vertical=b.get("vertical","");var P=b.get("line","auto");P==="auto"&&I.line===-1&&(P=-1),O.line=P,O.lineAlign=b.get("lineAlign","start"),O.snapToLines=b.get("snapToLines",!0),O.size=b.get("size",100),O.align=b.get("align",p);var F=b.get("position","auto");F==="auto"&&I.position===50&&(F=O.align==="start"||O.align==="left"?0:O.align==="end"||O.align==="right"?100:50),O.position=F}function g(){u=u.replace(/^\s+/,"")}if(g(),A.startTime=f(),g(),u.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+h);u=u.slice(3),g(),A.endTime=f(),g(),m(u,A)}function S(u){return u.replace(/<br(?: \/)?>/gi,`
`)}var E=function(){function u(){this.state="INITIAL",this.buffer="",this.decoder=new d,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var A=u.prototype;return A.parse=function(h){var f=this;h&&(f.buffer+=f.decoder.decode(h,{stream:!0}));function m(){var F=f.buffer,T=0;for(F=S(F);T<F.length&&F[T]!=="\r"&&F[T]!==`
`;)++T;var C=F.slice(0,T);return F[T]==="\r"&&++T,F[T]===`
`&&++T,f.buffer=F.slice(T),C}function g(F){B(F,function(T,C){},/:/)}try{var R="";if(f.state==="INITIAL"){if(!/\r\n|\n/.test(f.buffer))return this;R=m();var O=R.match(/^()?WEBVTT([ \t].*)?$/);if(!O||!O[0])throw new Error("Malformed WebVTT signature.");f.state="HEADER"}for(var b=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;switch(b?b=!1:R=m(),f.state){case"HEADER":/:/.test(R)?g(R):R||(f.state="ID");continue;case"NOTE":R||(f.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(R)){f.state="NOTE";break}if(!R)continue;if(f.cue=new v.default(0,0,""),f.state="CUE",R.indexOf("-->")===-1){f.cue.id=R;continue}case"CUE":if(!f.cue){f.state="BADCUE";continue}try{w(R,f.cue,f.regionList)}catch{f.cue=null,f.state="BADCUE";continue}f.state="CUETEXT";continue;case"CUETEXT":{var P=R.indexOf("-->")!==-1;if(!R||P&&(b=!0)){f.oncue&&f.cue&&f.oncue(f.cue),f.cue=null,f.state="ID";continue}if(f.cue===null)continue;f.cue.text&&(f.cue.text+=`
`),f.cue.text+=R}continue;case"BADCUE":R||(f.state="ID")}}}catch{f.state==="CUETEXT"&&f.cue&&f.oncue&&f.oncue(f.cue),f.cue=null,f.state=f.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},A.flush=function(){var h=this;try{if((h.cue||h.state==="HEADER")&&(h.buffer+=`

`,h.parse()),h.state==="INITIAL"||h.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(f){h.onparsingerror&&h.onparsingerror(f)}return h.onflush&&h.onflush(),this},u}()},"./src/utils/webvtt-parser.ts":(s,l,a)=>{a.r(l),a.d(l,{generateCueId:()=>E,parseWebVTT:()=>A});var v=a("./src/polyfills/number.ts"),d=a("./src/utils/vttparser.ts"),M=a("./src/demux/id3.ts"),L=a("./src/utils/timescale-conversion.ts"),B=a("./src/remux/mp4-remuxer.ts"),I=/\r\n|\n\r|\n|\r/g,p=function(h,f,m){return m===void 0&&(m=0),h.slice(m,m+f.length)===f},w=function(h){var f=parseInt(h.slice(-3)),m=parseInt(h.slice(-6,-4)),g=parseInt(h.slice(-9,-7)),R=h.length>9?parseInt(h.substring(0,h.indexOf(":"))):0;if(!(0,v.isFiniteNumber)(f)||!(0,v.isFiniteNumber)(m)||!(0,v.isFiniteNumber)(g)||!(0,v.isFiniteNumber)(R))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+h);return f+=1e3*m,f+=60*1e3*g,f+=60*60*1e3*R,f},S=function(h){for(var f=5381,m=h.length;m;)f=f*33^h.charCodeAt(--m);return(f>>>0).toString()};function E(x,h,f){return S(x.toString())+S(h.toString())+S(f)}var u=function(h,f,m){var g=h[f],R=h[g.prevCC];if(!R||!R.new&&g.new){h.ccOffset=h.presentationOffset=g.start,g.new=!1;return}for(;(O=R)!==null&&O!==void 0&&O.new;){var O;h.ccOffset+=g.start-R.start,g.new=!1,g=R,R=h[g.prevCC]}h.presentationOffset=m};function A(x,h,f,m,g,R,O,b){var P=new d.VTTParser,F=(0,M.utf8ArrayToStr)(new Uint8Array(x)).trim().replace(I,`
`).split(`
`),T=[],C=(0,L.toMpegTsClockFromTimescale)(h,f),y="00:00.000",_=0,c=0,D,N=!0;P.oncue=function(k){var U=m[g],$=m.ccOffset,K=(_-C)/9e4;U!=null&&U.new&&(c!==void 0?$=m.ccOffset=U.start:u(m,g,K)),K&&($=K-m.presentationOffset);var W=k.endTime-k.startTime,z=(0,B.normalizePts)((k.startTime+$-c)*9e4,R*9e4)/9e4;k.startTime=Math.max(z,0),k.endTime=Math.max(z+W,0);var H=k.text.trim();k.text=decodeURIComponent(encodeURIComponent(H)),k.id||(k.id=E(k.startTime,k.endTime,H)),k.endTime>0&&T.push(k)},P.onparsingerror=function(k){D=k},P.onflush=function(){if(D){b(D);return}O(T)},F.forEach(function(k){if(N)if(p(k,"X-TIMESTAMP-MAP=")){N=!1,k.slice(16).split(",").forEach(function(U){p(U,"LOCAL:")?y=U.slice(6):p(U,"MPEGTS:")&&(_=parseInt(U.slice(7)))});try{c=w(y)/1e3}catch(U){D=U}return}else k===""&&(N=!1);P.parse(k+`
`)}),P.flush()}},"./src/utils/xhr-loader.ts":(s,l,a)=>{a.r(l),a.d(l,{default:()=>B});var v=a("./src/utils/logger.ts"),d=a("./src/loader/load-stats.ts"),M=/^age:\s*[\d.]+\s*$/m,L=function(){function I(w){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=w?w.xhrSetup:null,this.stats=new d.LoadStats,this.retryDelay=0}var p=I.prototype;return p.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},p.abortInternal=function(){var S=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),S&&(S.onreadystatechange=null,S.onprogress=null,S.readyState!==4&&(this.stats.aborted=!0,S.abort()))},p.abort=function(){var S;this.abortInternal(),(S=this.callbacks)!==null&&S!==void 0&&S.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},p.load=function(S,E,u){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=S,this.config=E,this.callbacks=u,this.retryDelay=E.retryDelay,this.loadInternal()},p.loadInternal=function(){var S=this.config,E=this.context;if(S){var u=this.loader=new self.XMLHttpRequest,A=this.stats;A.loading.first=0,A.loaded=0;var x=this.xhrSetup;try{if(x)try{x(u,E.url)}catch{u.open("GET",E.url,!0),x(u,E.url)}u.readyState||u.open("GET",E.url,!0);var h=this.context.headers;if(h)for(var f in h)u.setRequestHeader(f,h[f])}catch(m){this.callbacks.onError({code:u.status,text:m.message},E,u);return}E.rangeEnd&&u.setRequestHeader("Range","bytes="+E.rangeStart+"-"+(E.rangeEnd-1)),u.onreadystatechange=this.readystatechange.bind(this),u.onprogress=this.loadprogress.bind(this),u.responseType=E.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),S.timeout),u.send()}},p.readystatechange=function(){var S=this.context,E=this.loader,u=this.stats;if(!(!S||!E)){var A=E.readyState,x=this.config;if(!u.aborted&&A>=2)if(self.clearTimeout(this.requestTimeout),u.loading.first===0&&(u.loading.first=Math.max(self.performance.now(),u.loading.start)),A===4){E.onreadystatechange=null,E.onprogress=null;var h=E.status,f=E.responseType==="arraybuffer";if(h>=200&&h<300&&(f&&E.response||E.responseText!==null)){u.loading.end=Math.max(self.performance.now(),u.loading.first);var m,g;if(f?(m=E.response,g=m.byteLength):(m=E.responseText,g=m.length),u.loaded=u.total=g,!this.callbacks)return;var R=this.callbacks.onProgress;if(R&&R(u,S,m,E),!this.callbacks)return;var O={url:E.responseURL,data:m};this.callbacks.onSuccess(O,u,S,E)}else u.retry>=x.maxRetry||h>=400&&h<499?(v.logger.error(h+" while loading "+S.url),this.callbacks.onError({code:h,text:E.statusText},S,E)):(v.logger.warn(h+" while loading "+S.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,x.maxRetryDelay),u.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),x.timeout)}},p.loadtimeout=function(){v.logger.warn("timeout while loading "+this.context.url);var S=this.callbacks;S&&(this.abortInternal(),S.onTimeout(this.stats,this.context,this.loader))},p.loadprogress=function(S){var E=this.stats;E.loaded=S.loaded,S.lengthComputable&&(E.total=S.total)},p.getCacheAge=function(){var S=null;if(this.loader&&M.test(this.loader.getAllResponseHeaders())){var E=this.loader.getResponseHeader("age");S=E?parseFloat(E):null}return S},I}();const B=L},"./node_modules/eventemitter3/index.js":s=>{var l=Object.prototype.hasOwnProperty,a="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(a=!1));function d(I,p,w){this.fn=I,this.context=p,this.once=w||!1}function M(I,p,w,S,E){if(typeof w!="function")throw new TypeError("The listener must be a function");var u=new d(w,S||I,E),A=a?a+p:p;return I._events[A]?I._events[A].fn?I._events[A]=[I._events[A],u]:I._events[A].push(u):(I._events[A]=u,I._eventsCount++),I}function L(I,p){--I._eventsCount===0?I._events=new v:delete I._events[p]}function B(){this._events=new v,this._eventsCount=0}B.prototype.eventNames=function(){var p=[],w,S;if(this._eventsCount===0)return p;for(S in w=this._events)l.call(w,S)&&p.push(a?S.slice(1):S);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(w)):p},B.prototype.listeners=function(p){var w=a?a+p:p,S=this._events[w];if(!S)return[];if(S.fn)return[S.fn];for(var E=0,u=S.length,A=new Array(u);E<u;E++)A[E]=S[E].fn;return A},B.prototype.listenerCount=function(p){var w=a?a+p:p,S=this._events[w];return S?S.fn?1:S.length:0},B.prototype.emit=function(p,w,S,E,u,A){var x=a?a+p:p;if(!this._events[x])return!1;var h=this._events[x],f=arguments.length,m,g;if(h.fn){switch(h.once&&this.removeListener(p,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,w),!0;case 3:return h.fn.call(h.context,w,S),!0;case 4:return h.fn.call(h.context,w,S,E),!0;case 5:return h.fn.call(h.context,w,S,E,u),!0;case 6:return h.fn.call(h.context,w,S,E,u,A),!0}for(g=1,m=new Array(f-1);g<f;g++)m[g-1]=arguments[g];h.fn.apply(h.context,m)}else{var R=h.length,O;for(g=0;g<R;g++)switch(h[g].once&&this.removeListener(p,h[g].fn,void 0,!0),f){case 1:h[g].fn.call(h[g].context);break;case 2:h[g].fn.call(h[g].context,w);break;case 3:h[g].fn.call(h[g].context,w,S);break;case 4:h[g].fn.call(h[g].context,w,S,E);break;default:if(!m)for(O=1,m=new Array(f-1);O<f;O++)m[O-1]=arguments[O];h[g].fn.apply(h[g].context,m)}}return!0},B.prototype.on=function(p,w,S){return M(this,p,w,S,!1)},B.prototype.once=function(p,w,S){return M(this,p,w,S,!0)},B.prototype.removeListener=function(p,w,S,E){var u=a?a+p:p;if(!this._events[u])return this;if(!w)return L(this,u),this;var A=this._events[u];if(A.fn)A.fn===w&&(!E||A.once)&&(!S||A.context===S)&&L(this,u);else{for(var x=0,h=[],f=A.length;x<f;x++)(A[x].fn!==w||E&&!A[x].once||S&&A[x].context!==S)&&h.push(A[x]);h.length?this._events[u]=h.length===1?h[0]:h:L(this,u)}return this},B.prototype.removeAllListeners=function(p){var w;return p?(w=a?a+p:p,this._events[w]&&L(this,w)):(this._events=new v,this._eventsCount=0),this},B.prototype.off=B.prototype.removeListener,B.prototype.addListener=B.prototype.on,B.prefixed=a,B.EventEmitter=B,s.exports=B},"./node_modules/url-toolkit/src/url-toolkit.js":function(s){(function(l){var a=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,v=/^(?=([^\/?#]*))\1([^]*)$/,d=/(?:\/|^)\.(?=\/)/g,M=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,L={buildAbsoluteURL:function(B,I,p){if(p=p||{},B=B.trim(),I=I.trim(),!I){if(!p.alwaysNormalize)return B;var w=L.parseURL(B);if(!w)throw new Error("Error trying to parse base URL.");return w.path=L.normalizePath(w.path),L.buildURLFromParts(w)}var S=L.parseURL(I);if(!S)throw new Error("Error trying to parse relative URL.");if(S.scheme)return p.alwaysNormalize?(S.path=L.normalizePath(S.path),L.buildURLFromParts(S)):I;var E=L.parseURL(B);if(!E)throw new Error("Error trying to parse base URL.");if(!E.netLoc&&E.path&&E.path[0]!=="/"){var u=v.exec(E.path);E.netLoc=u[1],E.path=u[2]}E.netLoc&&!E.path&&(E.path="/");var A={scheme:E.scheme,netLoc:S.netLoc,path:null,params:S.params,query:S.query,fragment:S.fragment};if(!S.netLoc&&(A.netLoc=E.netLoc,S.path[0]!=="/"))if(!S.path)A.path=E.path,S.params||(A.params=E.params,S.query||(A.query=E.query));else{var x=E.path,h=x.substring(0,x.lastIndexOf("/")+1)+S.path;A.path=L.normalizePath(h)}return A.path===null&&(A.path=p.alwaysNormalize?L.normalizePath(S.path):S.path),L.buildURLFromParts(A)},parseURL:function(B){var I=a.exec(B);return I?{scheme:I[1]||"",netLoc:I[2]||"",path:I[3]||"",params:I[4]||"",query:I[5]||"",fragment:I[6]||""}:null},normalizePath:function(B){for(B=B.split("").reverse().join("").replace(d,"");B.length!==(B=B.replace(M,"")).length;);return B.split("").reverse().join("")},buildURLFromParts:function(B){return B.scheme+B.netLoc+B.path+B.params+B.query+B.fragment}};s.exports=L})()}},n={};function i(s){var l=n[s];if(l!==void 0)return l.exports;var a=n[s]={exports:{}};return r[s].call(a.exports,a,a.exports,i),a.exports}i.m=r,i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o=i("./src/hls.ts");return o=o.default,o})())})(wU);const ul=Wf(Kf),kU=j.forwardRef(({link:e,attachCb:t,errorCb:r,...n},i)=>{const o=i;return j.useLayoutEffect(()=>{let s;return o!=null&&o.current&&ul.isSupported()&&(s=new ul({enableWorker:!1}),r&&s.on(ul.Events.ERROR,function(l,a){a.fatal&&e&&r(l,a)}),t&&s.on(ul.Events.MEDIA_ATTACHED,function(){t()}),s.loadSource(`${e}`),s.attachMedia(o.current)),()=>{s&&s.destroy()}},[e,r,t,o]),Q("video",{ref:i,...n})}),OS=j.memo(kU),MS="/courses/assets/no-video-13263620.webp",FU="/courses/assets/locked-fe013874.jpg",Vg=e=>{document.pictureInPictureEnabled&&e.requestPictureInPicture()},NU=()=>{document.pictureInPictureElement&&document.exitPictureInPicture()},BU=({link:e,title:t,isDisplayed:r})=>{const[n,i]=j.useState("video"),[o,s]=j.useState(1),l=j.useRef(null);j.useEffect(()=>{function L(B){B.ctrlKey&&B.key==="ArrowUp"&&s(p=>{const w=p+.25;return w<=2?w:p}),B.ctrlKey&&B.key==="ArrowDown"&&s(p=>{const w=p-.25;return w>=.25?w:p})}return document.addEventListener("keydown",L),()=>{document.removeEventListener("keydown",L)}},[]),j.useEffect(()=>{l.current&&(l.current.playbackRate=o)},[o]),j.useEffect(()=>{i(e==="corrupted"?()=>"error":e==="locked"?()=>"locked":()=>"video"),l.current&&(l.current.currentTime=Number(localStorage.getItem(e)))},[e]),j.useEffect(()=>{function L(){var B;r||(B=l.current)==null||B.pause()}l.current&&(l.current.onleavepictureinpicture=L,!r&&!l.current.paused?Vg(l.current):NU())},[r]);const a=j.useCallback(()=>{var B;const L=(B=l.current)==null?void 0:B.currentTime;L&&localStorage.setItem(e,Math.round(L).toString())},[e]),v=j.useCallback(()=>{i("error")},[]),d=()=>{l.current&&Vg(l.current)};return be(tS,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",height:"100%"},"data-testid":"courses-context-player",children:[Q(nS,{title:(()=>n==="locked"?`Video locked: ${t}`:n==="error"?`Video corrupted: ${t}`:t)().slice(0,60)+(t.length>=60?"...":""),titleTypographyProps:{color:"primary",fontWeight:"bold",fontSize:"1.1em"},sx:{flexBasis:56,flexGrow:0,flexShrink:0}}),be(iS,{sx:{height:"0px",flexGrow:1,flexShrink:1},children:[n==="locked"&&Q(za,{src:FU,"data-testid":"courses-context-player-img-locked"}),n==="error"&&Q(za,{src:MS,"data-testid":"courses-context-player-img-error"}),n==="video"&&Q(OS,{ref:l,link:e,controls:!0,autoPlay:!0,style:{width:"100%",height:"100%",objectFit:"fill"},playsInline:!0,onTimeUpdate:a,errorCb:v,"data-testid":"courses-context-player-video"})]}),be(rS,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,flexBasis:56,flexGrow:0,flexShrink:0,py:"8px!important"},children:[be(Ut,{sx:{display:"flex",alignItems:"center",gap:1},children:[Q(LS,{sx:{color:"text.secondary"}}),be(Ze,{variant:"body2",color:"text.secondary",children:["Playback speed: ",Q("b",{children:o})]})]}),be(Ut,{sx:{display:"flex",alignItems:"center",gap:1},children:[be(Ze,{variant:"body2",color:"text.secondary",children:["To change press: ",Q("b",{children:"Ctrl +"})]}),Q(AS,{sx:{color:"text.secondary"}}),Q(Ze,{variant:"body2",color:"text.secondary",children:"or"}),Q(IS,{sx:{color:"text.secondary"}})]}),Q(bS,{title:"Enable PIP (picture in picture) mode",children:Q(Bf,{onClick:d,children:Q(DS,{})})})]})]})},UU=j.memo(BU),_a={videoLink:"",videoTitle:"",search:"",filterLocked:!1,rating:2,page:1},wS=j.createContext(null),$U=({children:e})=>{const[t,r]=j.useState(_a),{courseId:n}=bE(),o="calc("+rn().spacing(st.MARGIN_PREV)+" + "+st.ROOT_HEADER_HEIGHT+"px)",s=st.VIDEO_ASPECT_RATIO[0]+"/"+st.VIDEO_ASPECT_RATIO[1];return be(wS.Provider,{value:{state:t,setState:r},children:[Q(Ut,{sx:{display:n?"block":"none",position:{sm:"sticky",md:"static"},top:o,width:{xs:"100%",md:st.VIDEO_MAX_WIDH},minWidth:st.CARD_MIN_WIDTH,aspectRatio:s,mt:st.MARGIN_PREV,zIndex:2},children:Q(UU,{link:t.videoLink,title:t.videoTitle,isDisplayed:!!n})}),e]})},_c=()=>{const e=j.useContext(wS);if(!e)throw Error("useCoursesContext must be called withing CoursesProvider");return e},KU=()=>Q($U,{children:Q(LE,{})}),Gg=()=>be(ii,{spacing:2,sx:{width:400,height:500},children:[Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"4rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"2rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"10rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"3rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"5rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"2rem"}}),be(ii,{spacing:2,direction:"row",sx:{width:"100%"},children:[Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem",width:"100%"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem",width:"100%"}})]})]}),WU=()=>be(Ut,{sx:{display:"flex",flexDirection:"row",width:"100%",gap:2,justifyContent:"center",flexWrap:"wrap",mt:st.MARGIN_PREV},"data-testid":"courses-list-fallback",children:[Q(Gg,{}),Q(Gg,{})]});var Up={},zU=Zt;Object.defineProperty(Up,"__esModule",{value:!0});var kS=Up.default=void 0,HU=zU(Pr()),jU=Lr,VU=(0,HU.default)((0,jU.jsx)("path",{d:"M10.83 8H21V6H8.83l2 2zm5 5H18v-2h-4.17l2 2zM14 16.83V18h-4v-2h3.17l-3-3H6v-2h2.17l-3-3H3V6h.17L1.39 4.22 2.8 2.81l18.38 18.38-1.41 1.41L14 16.83z"}),"FilterListOff");kS=Up.default=VU;var $p={},GU=Zt;Object.defineProperty($p,"__esModule",{value:!0});var FS=$p.default=void 0,YU=GU(Pr()),XU=Lr,QU=(0,YU.default)((0,XU.jsx)("path",{d:"M18 13v7H4V6h5.02c.05-.71.22-1.38.48-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5l-2-2zm-1.5 5h-11l2.75-3.53 1.96 2.36 2.75-3.54zm2.8-9.11c.44-.7.7-1.51.7-2.39C20 4.01 17.99 2 15.5 2S11 4.01 11 6.5s2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21 13.42 22.42 12 19.3 8.89zM15.5 9C14.12 9 13 7.88 13 6.5S14.12 4 15.5 4 18 5.12 18 6.5 16.88 9 15.5 9z"}),"ImageSearch");FS=$p.default=QU;function Yg(e,t){const[r,n]=j.useState(e);return j.useEffect(()=>{const i=setTimeout(()=>n(e),t||500);return()=>{clearTimeout(i)}},[e,t]),r}const JU=()=>{const{state:e,setState:t}=_c(),[r,n]=j.useState(e.search),[i,o]=j.useState(e.rating),s=rn(),l=Yg(r,1e3),a=Yg(i,500);j.useEffect(()=>{t(p=>({...p,search:l}))},[l,t]),j.useEffect(()=>{t(p=>({...p,rating:a}))},[a,t]);const v=r||i!==_a.rating||e.filterLocked,d=()=>{v&&(n(_a.search),o(_a.rating),t(p=>({...p,filterLocked:_a.filterLocked})))},M=p=>{n(p.target.value)},L=(p,w)=>{o(w)},B=()=>{t(p=>({...p,filterLocked:!p.filterLocked}))},I=`calc(${s.spacing(st.MARGIN_PREV)} + ${st.ROOT_HEADER_HEIGHT}px)`;return Q(Hi,{elevation:16,sx:{position:"sticky",top:I,width:"100%",minWidth:st.CARD_MIN_WIDTH,mt:st.MARGIN_PREV,px:2,py:1,zIndex:2},"data-testid":"courses-list-toolbar",children:be(go,{container:!0,spacing:2,children:[Q(go,{item:!0,xs:12,children:be(ii,{spacing:2,direction:"row",alignItems:"end",justifyContent:"space-between",children:[Q(FS,{color:"primary"}),Q(YB,{label:"Search course",value:r,type:"search",variant:"standard",fullWidth:!0,autoFocus:!0,onChange:M,inputProps:{"data-testid":"courses-list-toolbar-search"}}),Q(ZM,{size:"small",startIcon:Q(kS,{}),disabled:!v,onClick:d,children:"Clear"})]})}),Q(go,{item:!0,xs:12,md:6,children:be(ii,{spacing:2,direction:"row",justifyContent:"start",children:[Q(_B,{value:i,min:0,max:5,step:.5,marks:!0,size:"small",valueLabelDisplay:"auto",color:"secondary",sx:{width:"150px"},onChange:L}),Q(Ze,{variant:"subtitle2",noWrap:!0,component:"label",children:"Filter with less rating"})]})}),Q(go,{item:!0,xs:12,md:6,children:be(ii,{spacing:2,direction:"row",justifyContent:"start",children:[Q(ik,{checked:e.filterLocked,size:"small",onChange:B,sx:{p:0,color:"secondary.main","&.Mui-checked":{color:"secondary.main"}},inputProps:{"data-testid":"courses-list-toolbar-checkbox"}}),Q(Ze,{variant:"subtitle2",noWrap:!0,component:"label",children:"Filter contained locked lessons"})]})})]})})};var Kp={},ZU=Zt;Object.defineProperty(Kp,"__esModule",{value:!0});var Wp=Kp.default=void 0,qU=ZU(Pr()),e4=Lr,t4=(0,qU.default)((0,e4.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");Wp=Kp.default=t4;var zp={},r4=Zt;Object.defineProperty(zp,"__esModule",{value:!0});var NS=zp.default=void 0,n4=r4(Pr()),i4=Lr,o4=(0,n4.default)((0,i4.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");NS=zp.default=o4;const BS="/courses/assets/no-img-479c4ab5.jpg",US="/courses/assets/loading-white-d1583e29.gif",a4=({status:e,videoLink:t,imageLink:r,onSuccess:n,onError:i})=>{const o=j.useRef(null);return j.useEffect(()=>{o.current&&(e==="success"?(o.current.playbackRate=1.5,o.current.play()):o.current.played&&o.current.pause())},[e]),be(i0,{children:[t&&(e==="pending"||e==="success")&&Q(OS,{ref:o,style:{display:e==="pending"?"none":"inherit",width:"100%",height:"100%",objectFit:"fill"},link:t,controls:!1,muted:!0,playsInline:!0,attachCb:n,errorCb:i,"data-testid":"courses-list-item-media-video"}),e==="pending"&&Q(za,{src:US,"data-testid":"courses-list-item-media-img-pending"}),e==="error"&&Q(za,{src:MS,"data-testid":"courses-list-item-media-img-error"}),e==="idle"&&Q(za,{src:r,onError:l=>{l.currentTarget.src=BS},"data-testid":"courses-list-item-media-img-idle"})]})},s4=({item:e})=>{var v;const[t,r]=j.useState("idle"),n=TE(),i=j.useCallback(()=>{r("success")},[]),o=j.useCallback(()=>{r("error")},[]);return Q(tS,{sx:{width:"100%",height:"100%"},onMouseEnter:()=>{t==="idle"&&r("pending")},onMouseLeave:()=>{t!=="idle"&&r("idle")},onClick:()=>{n(`course/${e.id}`)},"data-testid":"courses-list-item",children:be(dw,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Q(nS,{title:e.title,subheader:`Published: ${new Date(e.launchDate).toDateString()}`,titleTypographyProps:{color:"primary"}}),Q(iS,{sx:{width:"100%",height:{sx:"210px",md:"220px",lg:"230px"}},children:Q(a4,{status:t,imageLink:e.previewImageLink+"/cover.webp",videoLink:(v=e.meta.courseVideoPreview)==null?void 0:v.link,onSuccess:i,onError:o})}),be(rS,{children:[Q(Ze,{variant:"body1",children:e.description}),Q(Ze,{gutterBottom:!0,variant:"h6",color:"secondary.light",children:`Lessons count: ${e.lessonsCount}`}),e.meta.skills&&Q(Ze,{gutterBottom:!0,variant:"body2",color:"text.secondary",children:`Skills: ${e.meta.skills.join(", ")}`})]}),Q(Ut,{sx:{flexGrow:1}}),be(gw,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.containsLockedLessons&&be(Ut,{sx:{display:"flex",alignItems:"center",color:"warning.light"},children:[Q(Wp,{}),Q(Ze,{variant:"body1",children:"Contains locked lessons"})]}),!e.containsLockedLessons&&be(Ut,{sx:{display:"flex",alignItems:"center",color:"success.light"},children:[Q(NS,{}),Q(Ze,{variant:"body1",children:"Lessons unlocked"})]}),Q(BN,{value:e.rating,readOnly:!0,sx:{alignSelf:"end"}})]})]})})},l4=({divider:e,length:t})=>{const{state:r,setState:n}=_c();j.useEffect(()=>{r.page>Math.ceil(t/e)&&n(o=>({...o,page:1}))},[e,t,n,r.page]);const i=(o,s)=>{n(l=>({...l,page:s}))};return Q(Qx,{position:"fixed",component:"footer",sx:{alignItems:"center",top:"auto",bottom:0,py:.5,bgcolor:o=>o.palette.primary.light},"data-testid":"courses-list-pagination",children:Q(xN,{color:"secondary",count:Math.ceil(t/e),page:r.page,onChange:i})})},cl=10,u4=()=>{const e=Du(),{state:t}=_c(),r=j.useMemo(()=>e.filter(i=>!(t.search&&!t.search.toLowerCase().trim().split(/\s+/).every(l=>i.title.toLowerCase().includes(l))||t.rating&&i.rating<t.rating||t.filterLocked&&i.containsLockedLessons)),[e,t.filterLocked,t.rating,t.search]),n=j.useMemo(()=>{const i=(t.page-1)*cl,o=(t.page-1)*cl+cl,s=o<=r.length?o:r.length;return r.slice(i,s)},[r,t.page]);return be(Ut,{minWidth:st.CARD_MIN_WIDTH,mt:st.MARGIN_PREV,pb:7,"data-testid":"courses-list-container",children:[Q(go,{container:!0,spacing:2,children:n.map(i=>Q(go,{item:!0,xs:12,md:6,children:Q(s4,{item:i})},i.id))}),Q(l4,{length:r.length,divider:cl})]})},c4=()=>{const{courses:e}=RE();return Q("div",{"data-testid":"courses-list",children:Q(j.Suspense,{fallback:Q(WU,{}),children:be(AE,{resolve:e,errorElement:Q(du,{}),children:[Q(JU,{}),Q(u4,{})]})})})},$S=e=>{const t=Math.floor(e/3600).toString().padStart(2,"0"),r=Math.floor(e%3600/60).toString().padStart(2,"0"),n=Math.floor(e%60).toString().padStart(2,"0");return`${t}:${r}:${n}`},d4=()=>{var r;const e=Du(),t=e.lessons.reduce((n,i)=>n+i.duration,0);return be(Hi,{sx:{display:"flex",flexDirection:"column",gap:1,minWidth:st.CARD_MIN_WIDTH,p:2,mt:2},"data-testid":"course-description",children:[be(Ut,{sx:{display:"flex",gap:2},children:[Q(Ut,{sx:{width:150,minWidth:150,height:80,borderStyle:"solid",borderWidth:1,borderColor:"primary.main",borderRadius:2,overflow:"hidden"},children:Q("img",{loading:"lazy",src:e.previewImageLink+"/cover.webp",alt:US,onError:n=>{n.currentTarget.src=BS},style:{width:"100%",height:"100%",objectFit:"fill"}})}),be(Ut,{children:[Q(Ze,{variant:"h6",component:"h6",lineHeight:1.2,pb:1,color:"primary",children:Q("b",{children:e.title})}),Q(Ze,{variant:"body2",color:"text.secondary",component:"p",children:`Published: ${e.launchDate.toDateString()}`}),Q(Ze,{variant:"subtitle2",color:"secondary.light",component:"p",children:`Total duration: ${$S(t)}`})]})]}),be(Ut,{children:[Q(Ze,{variant:"body1",component:"span",color:"text.secondary",children:"About the course:"}),Q(Ze,{variant:"body1",component:"span",ml:1,children:Q("b",{children:e.description})})]}),be(Ut,{children:[Q(Ze,{variant:"subtitle2",component:"span",color:"text.secondary",children:"Skills:"}),Q(Ze,{variant:"subtitle2",component:"span",ml:1,children:(r=e.meta.skills)==null?void 0:r.join(", ")})]}),Q(Ut,{children:e.tags.map((n,i)=>Q(iM,{label:`#${n}`,size:"small",color:"primary"},i))})]})},f4=()=>be(ii,{spacing:1,sx:{width:"100%",mt:st.MARGIN_PREV},"data-testid":"course-fallback",children:[be(ii,{spacing:1,direction:"row",children:[Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"4rem",width:150}}),be(ii,{spacing:2,direction:"column",width:"100%",py:4,children:[Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem"}})]})]}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"2rem"}}),Q(rr,{animation:"wave",variant:"text",sx:{fontSize:"1rem"}})]});var Hp={},h4=Zt;Object.defineProperty(Hp,"__esModule",{value:!0});var KS=Hp.default=void 0,p4=h4(Pr()),v4=Lr,m4=(0,p4.default)((0,v4.jsx)("path",{d:"M21 5v6.59l-3-3.01-4 4.01-4-4-4 4-3-3.01V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2zm-3 6.42 3 3.01V19c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2v-6.58l3 2.99 4-4 4 4 4-3.99z"}),"BrokenImage");KS=Hp.default=m4;const g4=({selectedLink:e,item:t,orderNum:r,onClick:n})=>{const i=!t.link,o=t.status==="locked",s=e===t.link;return Q(ZF,{alignItems:"flex-start","data-testid":"course-lessons-list-item",children:be(UF,{selected:s&&!i,disabled:o||i,sx:{"&.Mui-selected":{backgroundColor:"primary.light"}},onClick:()=>{i||i||s||n(t.link,t.title,r)},"data-testid":"course-lessons-list-item-button",children:[Q(i2,{children:Q(AM,{alt:"",src:t.previewImageLink+"/lesson-"+t.order+".webp"})}),Q(m2,{primary:`#${r+1} ${t.title}`,secondary:`Duration: ${$S(t.duration)}`}),o&&Q(Cg,{children:Q(Wp,{})}),i&&Q(Cg,{children:Q(KS,{})})]})})},y4=j.memo(g4),E4=()=>{const e=Du(),{state:t,setState:r}=_c(),n=hF(d=>d.breakpoints.up("lg")),i=rn(),o=j.useCallback((d,M,L)=>r(B=>({...B,videoLink:d,videoTitle:`#${L+1} ${M}`})),[r]),s=e.lessons[0];j.useEffect(()=>{const{link:d,title:M,status:L}=s;o(d?L==="locked"?"locked":d:"corrupted",M,0)},[s,o]);const l=n?0:48,a=i.breakpoints.values.md-st.VIDEO_MAX_WIDH-parseInt(i.spacing(2))-l,v=st.VIDEO_MAX_WIDH*st.VIDEO_ASPECT_RATIO[1]/st.VIDEO_ASPECT_RATIO[0];return Q(Hi,{sx:{position:{md:"absolute"},top:{md:st.ROOT_HEADER_HEIGHT},right:{md:0},width:{md:a},height:{md:v},minWidth:{xs:st.CARD_MIN_WIDTH,md:a},overflowY:{md:"scroll"},mt:st.MARGIN_PREV},"data-testid":"course-lessons-list",children:Q(hS,{subheader:Q(XO,{component:"div",color:"primary",sx:{fontSize:"1.1em"},children:Q("b",{children:"Lessons list:"})}),children:e.lessons.map((d,M,L)=>be(wr.Fragment,{children:[Q(y4,{selectedLink:t.videoLink,item:d,orderNum:M,onClick:o},d.id),M<L.length-1&&Q(Sk,{variant:"inset",component:"li"})]},d.id))})})},x4=()=>{const{course:e}=RE();return Q("div",{"data-testid":"course",children:Q(j.Suspense,{fallback:Q(f4,{}),children:be(AE,{resolve:e,errorElement:Q(du,{}),children:[Q(d4,{}),Q(E4,{})]})})})},S4=async()=>cE({courses:J_()}),T4=async({params:e})=>cE({course:Z_(e.courseId)}),b4=[{path:"/",element:Q(gU,{}),errorElement:Q(du,{}),children:[{path:"",element:Q(KU,{}),errorElement:Q(du,{}),children:[{path:"",element:Q(c4,{}),loader:S4},{path:"course/:courseId",element:Q(x4,{}),loader:T4}]}]}],C4=kC(b4);Ed.createRoot(document.getElementById("root")).render(Q(wr.StrictMode,{children:Q(PC,{router:C4})}));
